(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return x}),n.d(e,"b",function(){return xu}),n.d(e,"c",function(){return Cu}),n.d(e,"d",function(){return Ou}),n.d(e,"e",function(){return Eu}),n.d(e,"f",function(){return vc}),n.d(e,"g",function(){return cc}),n.d(e,"h",function(){return xa}),n.d(e,"i",function(){return Vu}),n.d(e,"j",function(){return na}),n.d(e,"k",function(){return ju}),n.d(e,"l",function(){return oa}),n.d(e,"m",function(){return Er}),n.d(e,"n",function(){return su}),n.d(e,"o",function(){return us}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return Cs}),n.d(e,"s",function(){return Ea}),n.d(e,"t",function(){return Ca}),n.d(e,"u",function(){return ku}),n.d(e,"v",function(){return Va}),n.d(e,"w",function(){return hc}),n.d(e,"x",function(){return Fa}),n.d(e,"y",function(){return ic}),n.d(e,"z",function(){return Hu}),n.d(e,"A",function(){return f}),n.d(e,"B",function(){return Pu}),n.d(e,"C",function(){return Iu}),n.d(e,"D",function(){return au}),n.d(e,"E",function(){return ua}),n.d(e,"F",function(){return aa}),n.d(e,"G",function(){return Ir}),n.d(e,"H",function(){return la}),n.d(e,"I",function(){return Cn}),n.d(e,"J",function(){return p}),n.d(e,"K",function(){return pc}),n.d(e,"L",function(){return Da}),n.d(e,"M",function(){return Xu}),n.d(e,"N",function(){return V}),n.d(e,"O",function(){return fa}),n.d(e,"P",function(){return ha}),n.d(e,"Q",function(){return Qa}),n.d(e,"R",function(){return K}),n.d(e,"S",function(){return sc}),n.d(e,"T",function(){return Ze}),n.d(e,"U",function(){return L}),n.d(e,"V",function(){return kt}),n.d(e,"W",function(){return Ye}),n.d(e,"X",function(){return yc}),n.d(e,"Y",function(){return tc}),n.d(e,"Z",function(){return Au}),n.d(e,"ab",function(){return ls}),n.d(e,"bb",function(){return Qo}),n.d(e,"cb",function(){return On}),n.d(e,"db",function(){return sn}),n.d(e,"eb",function(){return He}),n.d(e,"fb",function(){return Be}),n.d(e,"gb",function(){return Ke}),n.d(e,"hb",function(){return Ge}),n.d(e,"ib",function(){return $e}),n.d(e,"jb",function(){return We}),n.d(e,"kb",function(){return Uo}),n.d(e,"lb",function(){return mc}),n.d(e,"mb",function(){return Fo}),n.d(e,"nb",function(){return Vo}),n.d(e,"ob",function(){return ze}),n.d(e,"pb",function(){return D}),n.d(e,"qb",function(){return Rs}),n.d(e,"rb",function(){return Xs}),n.d(e,"sb",function(){return Js}),n.d(e,"tb",function(){return Lo}),n.d(e,"ub",function(){return Rt}),n.d(e,"vb",function(){return g}),n.d(e,"wb",function(){return Qe}),n.d(e,"xb",function(){return Ss}),n.d(e,"yb",function(){return jn}),n.d(e,"zb",function(){return Zo}),n.d(e,"Ab",function(){return di}),n.d(e,"Bb",function(){return Ls}),n.d(e,"Cb",function(){return yo}),n.d(e,"Db",function(){return mo}),n.d(e,"Eb",function(){return bu}),n.d(e,"Fb",function(){return ot}),n.d(e,"Gb",function(){return dt}),n.d(e,"Hb",function(){return v}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return lt}),n.d(e,"Kb",function(){return pt}),n.d(e,"Lb",function(){return Vs}),n.d(e,"Mb",function(){return $s}),n.d(e,"Nb",function(){return Ws}),n.d(e,"Ob",function(){return Gs}),n.d(e,"Pb",function(){return Bs}),n.d(e,"Qb",function(){return zs}),n.d(e,"Rb",function(){return Ks}),n.d(e,"Sb",function(){return vr}),n.d(e,"Tb",function(){return jo}),n.d(e,"Ub",function(){return At}),n.d(e,"Vb",function(){return qs}),n.d(e,"Wb",function(){return wu}),n.d(e,"Xb",function(){return Ys}),n.d(e,"Yb",function(){return vu}),n.d(e,"Zb",function(){return eo}),n.d(e,"ac",function(){return ru}),n.d(e,"bc",function(){return iu}),n.d(e,"cc",function(){return io}),n.d(e,"dc",function(){return ro}),n.d(e,"ec",function(){return Qs}),n.d(e,"fc",function(){return so}),n.d(e,"gc",function(){return yu}),n.d(e,"hc",function(){return ae}),n.d(e,"ic",function(){return Tn}),n.d(e,"jc",function(){return Sn}),n.d(e,"kc",function(){return ht}),n.d(e,"lc",function(){return go}),n.d(e,"mc",function(){return No}),n.d(e,"nc",function(){return Fs}),n.d(e,"oc",function(){return Po}),n.d(e,"pc",function(){return xo}),n.d(e,"qc",function(){return Ao}),n.d(e,"rc",function(){return ko});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),f=l("Optional"),d=l("Self"),p=l("SkipSelf");function g(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(g).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function y(t){for(let e in t)if(t[e]===y)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return O(t,C)||O(t,S)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(I))?t[T]:null}const C=y({"\u0275prov":y}),T=y({"\u0275inj":y}),S=y({ngInjectableDef:y}),I=y({ngInjectorDef:y});class P{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const x=new P("AnalyzeForEntryComponents");var A=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const k="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,R="undefined"!=typeof global&&global,D=k||R||j||N,M=y({__forward_ref__:y});function L(t){return t.__forward_ref__=L,t.toString=function(){return g(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===L}const V=Function;function q(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),q(r,e)):e!==t&&e.push(r)}return e}function Q(t,e){t.forEach(t=>Array.isArray(t)?Q(t,e):e(t))}function H(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function z(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function B(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $(t,e,n){let r=W(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function G(t,e){const n=W(t,e);if(n>=0)return t[1|n]}function W(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const J={},X=[],Y=y({"\u0275cmp":y}),Z=y({"\u0275dir":y}),tt=y({"\u0275pipe":y}),et=y({"\u0275mod":y}),nt=y({"\u0275loc":y}),rt=y({"\u0275fac":y}),it=y({__NG_ELEMENT_ID__:y});let st=0;function ot(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||X,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=st++,n.inputs=ft(t.inputs,e),n.outputs=ft(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(at):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(ut):null,n})}function at(t){return gt(t)||function(t){return t[Z]||null}(t)}function ut(t){return function(t){return t[tt]||null}(t)}const ct={};function lt(t){const e={type:t.type,bootstrap:t.bootstrap||X,declarations:t.declarations||X,imports:t.imports||X,exports:t.exports||X,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{ct[t.id]=t.type}),e}function ht(t,e){return u(()=>{const n=mt(t,!0);n.declarations=e.declarations||X,n.imports=e.imports||X,n.exports=e.exports||X})}function ft(t,e){if(null==t)return J;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const dt=ot;function pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function gt(t){return t[Y]||null}function mt(t,e){const n=t[et]||null;if(!n&&!0===e)throw new Error(`Type ${g(t)} does not have '\u0275mod' property.`);return n}function yt(t){return"string"==typeof t?t:null==t?"":""+t}function bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}var vt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let _t;function wt(t){const e=_t;return _t=t,e}function Ot(t,e,n){const r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&vt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${g(t)}]`)}const Et={},Ct=/\n/gm,Tt="__source",St=y({provide:String,useValue:y});let It=void 0;function Pt(t){const e=It;return It=t,e}function xt(t,e=vt.Default){if(void 0===It)throw new Error("inject() must be called from an injection context");return null===It?Ot(t,void 0,e):It.get(t,e&vt.Optional?null:void 0,e)}function At(t,e=vt.Default){return(_t||xt)(U(t),e)}const kt=At;function jt(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=vt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof f||"Optional"===i.ngMetadataName||i===f?n|=vt.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=vt.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=vt.Self:t=i instanceof h||i===h?i.token:i}e.push(At(t,n))}else e.push(At(r))}return e}let Nt=void 0;function Rt(t){Nt=t}function Dt(){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}const Mt=20,Lt=10;function Ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function qt(t){return 2==(2&t.flags)}function Qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function zt(t){return!!t.listen}const Bt={createRenderer:(t,e)=>Dt()};function $t(t){for(;Array.isArray(t);)t=t[0];return t}function Gt(t,e){return $t(e[t])}function Wt(t,e){return $t(e[t.index])}function Kt(t,e){return t.data[e]}function Jt(t,e){const n=e[t];return Ut(n)?n:n[0]}function Xt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Yt(t){return 4==(4&t[2])}function Zt(t){return 128==(128&t[2])}function te(t,e){return null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const re={lFrame:Ie(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ie(){return re.bindingsEnabled}function se(){return re.lFrame.lView}function oe(){return re.lFrame.tView}function ae(t){re.lFrame.contextLView=t}function ue(){let t=ce();for(;null!==t&&64===t.type;)t=t.parent;return t}function ce(){return re.lFrame.currentTNode}function le(t,e){const n=re.lFrame;n.currentTNode=t,n.isParent=e}function he(){return re.lFrame.isParent}function fe(){re.lFrame.isParent=!1}function de(){return re.isInCheckNoChangesMode}function pe(t){re.isInCheckNoChangesMode=t}function ge(){return re.lFrame.bindingIndex}function me(){return re.lFrame.bindingIndex++}function ye(t){const e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function be(t,e){const n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,ve(e)}function ve(t){re.lFrame.currentDirectiveIndex=t}function _e(t){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function we(){return re.lFrame.currentQueryIndex}function Oe(t){re.lFrame.currentQueryIndex=t}function Ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ce(t,e,n){if(n&vt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&vt.Host||(r=Ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=re.lFrame=Se();return r.currentTNode=e,r.lView=t,!0}function Te(t){const e=Se(),n=t[1];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Se(){const t=re.lFrame,e=null===t?null:t.child;return null===e?Ie(t):e}function Ie(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Pe(){const t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xe=Pe;function Ae(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ke(){return re.lFrame.selectedIndex}function je(t){re.lFrame.selectedIndex=t}function Ne(){const t=re.lFrame;return Kt(t.tView,t.selectedIndex)}let Re;function De(t){var e;return(null===(e=function(){if(void 0===Re&&(Re=null,D.trustedTypes))try{Re=D.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Re}())||void 0===e?void 0:e.createHTML(t))||t}class Me{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Le extends Me{getTypeName(){return"HTML"}}class Ue extends Me{getTypeName(){return"Style"}}class Fe extends Me{getTypeName(){return"Script"}}class Ve extends Me{getTypeName(){return"URL"}}class qe extends Me{getTypeName(){return"ResourceURL"}}function Qe(t){return t instanceof Me?t.changingThisBreaksApplicationSecurity:t}function He(t,e){const n=ze(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function ze(t){return t instanceof Me&&t.getTypeName()||null}function Be(t){return new Le(t)}function $e(t){return new Ue(t)}function Ge(t){return new Fe(t)}function We(t){return new Ve(t)}function Ke(t){return new qe(t)}let Je=!0,Xe=!1;function Ye(){return Xe=!0,Je}function Ze(){if(Xe)throw new Error("Cannot enable prod mode after platform setup.");Je=!1}class tn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(De(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class en{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=De(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=De(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sn(t){return(t=String(t)).match(nn)||t.match(rn)?t:(Ye()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function on(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function an(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const un=on("area,br,col,hr,img,wbr"),cn=on("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ln=on("rp,rt"),hn=an(ln,cn),fn=an(un,an(cn,on("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),an(ln,on("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hn),dn=on("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pn=on("srcset"),gn=an(dn,pn,on("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),on("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mn=on("script,style,template");class yn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!fn.hasOwnProperty(e))return this.sanitizedSomething=!0,!mn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!gn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;dn[s]&&(o=sn(o)),pn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>sn(t.trim())).join(", ")),this.buf.push(" ",e,'="',_n(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();fn.hasOwnProperty(e)&&!un.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_n(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const bn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vn=/([^\#-~ |!])/g;function _n(t){return t.replace(/&/g,"&amp;").replace(bn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wn;function On(t,e){let n=null;try{wn=wn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(De(""),"text/html")}catch(t){return!1}}()?new tn:new en(t)}(t);let r=e?String(e):"";n=wn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=wn.getInertBodyElement(r)}while(r!==s);const o=new yn,a=o.sanitizeChildren(En(n)||n);return Ye()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=En(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function En(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tn(t){const e=In();return e?e.sanitize(Cn.HTML,t)||"":He(t,"HTML")?Qe(t):On(Dt(),yt(t))}function Sn(t){const e=In();return e?e.sanitize(Cn.URL,t)||"":He(t,"URL")?Qe(t):sn(yt(t))}function In(){const t=se();return t&&t[12]}function Pn(t,e){return t.hasOwnProperty(rt)?t[rt]:null}class xn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function An(t,e){const n=e?" in "+e:"";throw new xn("201",`No provider for ${bt(t)} found${n}`)}class kn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function jn(){return Nn}function Nn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dn),Rn}function Rn(){const t=Mn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===J)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Dn(t,e,n,r){const i=Mn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:J,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new kn(u&&u.currentValue,e,o===J),t[r]=e}function Mn(t){return t.__ngSimpleChanges__||null}function Ln(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Un(t,e,n){qn(t,e,3,n)}function Fn(t,e,n,r){(3&t[2])===n&&qn(t,e,n,r)}function Vn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Qn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Qn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}jn.ngInherit=!0;const Hn=-1;class zn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Bn(t,e,n){const r=zt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Gn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function $n(t){return 3===t||4===t||6===t}function Gn(t){return 64===t.charCodeAt(0)}function Wn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Kn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Kn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Jn(t){return t!==Hn}function Xn(t){return 32767&t}function Yn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Zn=!0;function tr(t){const e=Zn;return Zn=t,e}let er=0;function nr(t,e){const n=ir(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rr(r.data,t),rr(e,null),rr(r.blueprint,null));const i=sr(t,e),s=t.injectorIndex;if(Jn(i)){const t=Xn(i),n=Yn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function rr(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ir(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function sr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Hn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Hn}function or(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(it)&&(r=n[it]),null==r&&(r=n[it]=er++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function ar(t,e,n){if(n&vt.Optional)return t;An(e,"NodeInjector")}function ur(t,e,n,r){if(n&vt.Optional&&void 0===r&&(r=null),0==(n&(vt.Self|vt.Host))){const i=t[9],s=wt(void 0);try{return i?i.get(e,r,n&vt.Optional):Ot(e,r,n&vt.Optional)}finally{wt(s)}}return ar(r,e,n)}function cr(t,e,n,r=vt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(it)?t[it]:void 0;return"number"==typeof e?e>=0?255&e:hr:e}(n);if("function"==typeof s){if(!Ce(e,t,r))return r&vt.Host?ar(i,n,r):ur(e,n,r,i);try{const t=s();if(null!=t||r&vt.Optional)return t;An(n)}finally{xe()}}else if("number"==typeof s){let i=null,o=ir(t,e),a=Hn,u=r&vt.Host?e[16][6]:null;for((-1===o||r&vt.SkipSelf)&&(a=-1===o?sr(t,e):e[o+8],a!==Hn&&mr(r,!1)?(i=e[1],o=Xn(a),e=Yn(a,e)):o=-1);-1!==o;){const t=e[1];if(gr(s,o,t.data)){const t=fr(o,e,n,i,r,u);if(t!==lr)return t}a=e[o+8],a!==Hn&&mr(r,e[1].data[o+8]===u)&&gr(s,o,e)?(i=t,o=Xn(a),e=Yn(a,e)):o=-1}}}return ur(e,n,r,i)}const lr={};function hr(){return new yr(ue(),se())}function fr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=dr(a,o,n,null==r?qt(a)&&Zn:r!=o&&0!=(3&a.type),i&vt.Host&&s===a);return null!==u?pr(e,o,u,a):lr}function dr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function pr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof zn){const o=i;o.resolving&&function(t,e){throw new xn("200","Circular dependency in DI detected for "+t)}(bt(s[n]));const a=tr(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?wt(o.injectImpl):null;Ce(t,r,vt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Nn(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&wt(u),tr(a),o.resolving=!1,xe()}}return i}function gr(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function mr(t,e){return!(t&vt.Self||t&vt.Host&&e)}class yr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return cr(this._tNode,this._lView,t,void 0,e)}}function br(t){const e=t;if(F(t))return()=>{const t=br(U(e));return t?t():null};let n=Pn(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function vr(t){return u(()=>{const e=t.prototype.constructor,n=e[rt]||br(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[rt]||br(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function _r(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Cr(t,e){t.__ngContext__=e}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D))();function Sr(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Pr(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return Ft(e)?e[3]:e}function Ar(t){return jr(t[13])}function kr(t){return jr(t[4])}function jr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let s,o=!1;Ft(r)?s=r:Ut(r)&&(o=!0,r=r[0]);const a=$t(r);0===t&&null!==n?null==i?qr(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Hr(t,e);r&&function(t,e,n,r){zt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==$t(n)&&Nr(e,t,r,s,i);for(let o=Lt;o<n.length;o++){const i=n[o];Jr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Rr(t,e,n){return zt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ne(i,-1)),n.splice(r,1)}function Mr(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Dr(s,r),e>0&&(t[n-1][4]=r[4]);const o=z(t,Lt+e);Jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];zt(n)&&n.destroyNode&&Jr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(Ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ut(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),Ut(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof zn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):$t(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&zt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ft(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===K.None||e===K.Emulated)return null}return Wt(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){zt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function qr(t,e,n){zt(t)?t.appendChild(e,n):e.appendChild(n)}function Qr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):qr(t,e,n)}function Hr(t,e){return zt(t)?t.parentNode(e):e.parentNode}function zr(t,e,n){return Br(t,e,n)}let Br=function(t,e,n){return 40&t.type?Wt(t,n):null};function $r(t,e,n,r){const i=Fr(t,r,e),s=e[11],o=zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Qr(s,i,n[a],o,!1);else Qr(s,i,n,o,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Wt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return Ft(n)?Wr(-1,n):$t(n)}}if(32&n)return Pr(e,t)()||$t(t[e.index]);{const n=t[16],r=n[6],i=xr(n),s=r.projection[e.projection];return null!=s?Gr(i,s):Gr(t,e.next)}}return null}function Wr(t,e){const n=Lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Kr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Cr($t(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kr(t,e,n.child,r,i,s,!1),Nr(e,t,i,a,s);else if(32&u){const o=Pr(n,r);let u;for(;u=o();)Nr(e,t,i,u,s);Nr(e,t,i,a,s)}else 16&u?Xr(t,e,r,n,i,s):Nr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Jr(t,e,n,r,i,s){Kr(n,r,t.firstChild,e,i,s,!1)}function Xr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Nr(e,t,i,a[u],s);else Kr(t,e,a,o[3],i,s,!0)}function Yr(t,e,n){zt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){zt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if($n(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(oi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(u))return!1;if(o&&oi(u))continue;o=!1,r=u|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=li(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=li(s,i)),e}const fi={};function di(t){pi(oe(),se(),ke()+t,de())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Un(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Fn(e,r,0,n)}je(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function yi(t){return 2|t}function bi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function _i(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Oe(i),n.contentQueries(2,e[s],s)}}}function Oi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=ce(),o=he(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),re.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return le(s,!0),s}function Ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ti(t,e,n){Te(e);try{const r=t.viewQuery;null!==r&&es(1,r,n);const i=t.template;null!==i&&Pi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ae()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;Te(e);const s=de();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Pi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Un(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Fn(e,n,0,null),Vn(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ne(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=kr(e))for(let t=Lt;t<e.length;t++){const n=e[t],r=n[1];Zt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Un(e,n)}else{const n=t.contentHooks;null!==n&&Fn(e,n,1),Vn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)je(~r);else{const i=r,s=n[++t],o=n[++t];be(s,i),o(2,e[i])}}}finally{je(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&es(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Un(e,n)}else{const n=t.viewHooks;null!==n&&Fn(e,n,2),Vn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{Ae()}}function Ii(t,e,n,r){const i=e[10],s=!de(),o=Yt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ti(t,e,r),Si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Pi(t,e,n,r,i){const s=ke();try{je(-1),2&r&&e.length>Mt&&pi(t,e,Mt,de()),n(r,i)}finally{je(s)}}function xi(t,e,n){if(Vt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ai(t,e,n){ie()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||nr(n,e),Cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&zi(e,n,r);const u=pr(e,t,a,n);Cr(u,e),null!==o&&Bi(0,a-i,u,r,0,o),s&&(Jt(n.index,e)[8]=u)}}(t,e,n,Wt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=re.lFrame.currentDirectiveIndex;try{je(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{je(-1),ve(o)}}(t,e,n))}function ki(t,e,n=Wt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,s,o,a,u,c){const l=Mt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=rs(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,s,o,a){const u=Wt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ss(t,n,c,r,i),qt(e)&&function(t,e){const n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,zt(s)?s.setProperty(u,r,i):Gn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(ie()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ui(n,o.selectors,!1)&&(i||(i=[]),or(nr(n,e),t,o.type),Ht(o)?(Vi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Qi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ci(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Wn(n.mergedAttrs,c.hostAttrs),Hi(t,n,e,u,c),qi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:$i(n,i);s.push(c),o=Di(n,u,o),a=Di(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new xn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Wn(n.mergedAttrs,n.attrs),i}function Ui(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function Qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Pn(i.type)),o=new zn(s,Ht(i),null);t.blueprint[r]=o,n[r]=o,Ui(t,e,0,r,Ci(t,n,i.hostVars,fi),i)}function zi(t,e,n){const r=Wt(e,t),i=ji(n),s=t[10],o=Xi(t,Oi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function $i(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Wi(t,e){const n=Jt(e,t);if(Zt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Ar(t);null!==n;n=kr(n))for(let t=Lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Jt(e[n],t);Zt(r)&&r[5]>0&&Ki(r)}}function Ji(t,e){const n=Jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ti(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw is(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Xt(n),i=r[1];Ii(i,r,i.template,n)}}(t[8])}function es(t,e,n){Oe(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function rs(t){return t[7]||(t[7]=[])}function is(t,e){const n=t[9],r=n?n.get(Er,null):null;r&&r.handleError(e)}function ss(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function os(t,e,n){const r=Gt(e,t);!function(t,e,n){zt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=m(i,t):2==s&&(r=m(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const us=new P("INJECTOR",-1);class cs{get(t,e=Et){if(e===Et){const e=new Error(`NullInjectorError: No provider for ${g(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new P("Set Injector scope."),hs={},fs={},ds=[];let ps=void 0;function gs(){return void 0===ps&&(ps=new cs),ps}function ms(t,e=null,n=null,r){return new ys(t,n,e||gs(),r)}class ys{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Q(e,n=>this.processProvider(n,t,e)),Q([t],t=>this.processInjectorType(t,[],i)),this.records.set(us,_s(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:g(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Et,n=vt.Default){this.assertNotDestroyed();const r=Pt(this);try{if(!(n&vt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof P)&&w(t);e=n&&this.injectableDefInScope(n)?_s(bs(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&vt.Self?gs():this.parent).get(t,e=n&vt.Optional&&e===Et?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(g(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Tt]&&i.unshift(e[Tt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=g(e);if(Array.isArray(e))i=e.map(g).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):g(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ct,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Pt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(g(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Q(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Q(r,t=>this.processProvider(t,n,r||ds))}}this.injectorDefTypes.add(s),this.records.set(s,_s(r.factory,hs));const a=r.providers;if(null!=a&&!o){const e=t;Q(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Os(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return ws(t)?_s(void 0,t.useValue):_s(vs(t),hs)}(t);if(Os(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=_s(void 0,hs,!0),e.factory=()=>jt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function bs(t){const e=w(t),n=null!==e?e.factory:Pn(t);if(null!==n)return n;const r=E(t);if(null!==r)return r.factory;if(t instanceof P)throw new Error(`Token ${g(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=B(e,"?");throw new Error(`Can't resolve all parameters for ${g(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vs(t,e,n){let r=void 0;if(Os(t)){const e=U(t);return Pn(e)||bs(e)}if(ws(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...jt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>At(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pn(e)||bs(e);r=()=>new e(...jt(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&St in t}function Os(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,r){const i=ms(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Et,t.NULL=new cs,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>At(us)}),t.__NG_ELEMENT_ID__=-1,t})();function Ts(t,e){Ln(Xt(t)[1],ue())}function Ss(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&As(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ps(t,s),o&&xs(t,o),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ss&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wn(i.hostAttrs,n=Wn(n,i.hostAttrs))}}(r)}function Is(t){return t===J?{}:t===X?[]:t}function Ps(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function xs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function As(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ks=null;function js(){if(!ks){const t=D.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}class Ns{constructor(t){this.wrapped=t}static wrap(t){return new Ns(t)}static unwrap(t){return Ns.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ns}}function Rs(t){return!!Ds(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Ds(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ms(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,r){const i=se();return Ms(i,me(),e)&&(oe(),function(t,e,n,r,i,s){const o=Wt(t,e);!function(t,e,n,r,i,s,o){if(null==s)zt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?yt(s):o(s,r||"",i);zt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Ne(),i,t,e,n,r)),Ls}function Us(t,e,n,r){return Ms(t,me(),n)?e+yt(n)+r:fi}function Fs(t,e,n,r,i,s,o,a){const u=se(),c=oe(),l=t+Mt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ei(e,t,4,o||null,te(c,a));Li(e,n,l,te(c,u)),Ln(e,l);const h=l.tViews=Ni(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];le(h,!1);const f=u[11].createComment("");$r(c,u,f,h),Cr(f,u),Xi(u,u[l]=Gi(f,u,f,h)),Qt(h)&&Ai(c,u,h),null!=o&&ki(u,h,a)}function Vs(t,e=vt.Default){const n=se();return null===n?At(t,e):cr(ue(),n,U(t),e)}function qs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if($n(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ue(),t)}function Qs(t,e,n){const r=se();return Ms(r,me(),e)&&Mi(oe(),Ne(),r,t,e,r[11],n,!1),Qs}function Hs(t,e,n,r,i){const s=i?"class":"style";ss(t,n,e.inputs[s],s,r)}function zs(t,e,n,r){const i=se(),s=oe(),o=Mt+t,a=i[11],u=i[o]=Rr(a,e,re.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ei(e,t,2,i,te(a,s));return Li(e,n,u,te(a,o)),null!==u.attrs&&as(u,u.attrs,!1),null!==u.mergedAttrs&&as(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];le(c,!0);const l=c.mergedAttrs;null!==l&&Bn(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&$r(s,i,u,c),0===re.lFrame.elementDepthCount&&Cr(u,i),re.lFrame.elementDepthCount++,Qt(c)&&(Ai(s,i,c),xi(s,c,i)),null!==r&&ki(i,c)}function Bs(){let t=ue();he()?fe():(t=t.parent,le(t,!1));const e=t;re.lFrame.elementDepthCount--;const n=oe();n.firstCreatePass&&(Ln(n,t),Vt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Hs(n,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Hs(n,e,se(),e.stylesWithoutHost,!1)}function $s(t,e,n,r){zs(t,e,n,r),Bs()}function Gs(t,e,n){const r=se(),i=oe(),s=t+Mt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=te(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Li(e,n,a,te(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];le(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),Cr(a,r),Qt(o)&&(Ai(i,r,o),xi(i,o,r)),null!=n&&ki(r,o)}function Ws(){let t=ue();const e=oe();he()?fe():(t=t.parent,le(t,!1)),e.firstCreatePass&&(Ln(e,t),Vt(t)&&e.queries.elementEnd(t))}function Ks(){return se()}function Js(t){return!!t&&"function"==typeof t.then}function Xs(t){return!!t&&"function"==typeof t.subscribe}function Ys(t,e,n=!1,r){const i=se(),s=oe(),o=ue();return function(t,e,n,r,i,s,o=!1,a){const u=Qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=rs(e);let h=!0;if(3&r.type){const f=Wt(r,e),d=a?a(f):J,p=d.target||f,g=l.length,m=a?t=>a($t(t[r.index])).target:r.index;if(zt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=to(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=to(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Ys}function Zs(t,e,n){try{return!1!==e(n)}catch(r){return is(t,r),!1}}function to(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&Yi(o);let a=Zs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Zs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function eo(t=1){return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function no(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ui(t,s,!0):ci(r,s))return i}else n=i}return n}function ro(t){const e=se()[16][6];if(!e.projection){const n=e.projection=B(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?no(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function io(t,e=0,n){const r=se(),i=oe(),s=Ei(i,Mt+t,16,null,n||null);null===s.projection&&(s.projection=e),fe(),64!=(64&s.flags)&&function(t,e,n){Xr(e[11],0,e,n,Fr(t,n,e),zr(n.parent||e[6],n,e))}(i,r,s)}function so(t,e,n){return oo(t,"",e,"",n),so}function oo(t,e,n,r,i){const s=se(),o=Us(s,e,n,r);return o!==fi&&Mi(oe(),Ne(),s,t,o,s[11],i,!1),oo}const ao=[];function uo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?mi(s):bi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];co(t[a],e)&&(u=!0,t[a+1]=r?_i(n):yi(n)),a=r?mi(n):bi(n)}u&&(t[n+1]=r?yi(s):_i(s))}function co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&W(t,e)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(lo.key,lo.keyEnd)}function fo(t,e){const n=lo.textEnd;return n===e?-1:(e=lo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,lo.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function go(t,e,n){return vo(t,e,n,!1),go}function mo(t,e){return vo(t,e,null,!0),mo}function yo(t){!function(t,e,n,r){const i=oe(),s=ye(2);i.firstUpdatePass&&wo(i,null,s,r);const o=se();if(n!==fi&&Ms(o,s,n)){const a=i.data[ke()];if(Io(a,r)&&!_o(i,s)){let t=a.classesWithoutHost;null!==t&&(n=m(t,n||"")),Hs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===fi&&(i=ao);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&Co(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ao;const r=[],i=Qe(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}($,bo,t,!0)}function bo(t,e){for(let n=function(t){return function(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),fo(t,po(t,0,lo.textEnd))}(e);n>=0;n=fo(e,n))$(t,ho(e),!0)}function vo(t,e,n,r){const i=se(),s=oe(),o=ye(2);s.firstUpdatePass&&wo(s,t,o,r),e!==fi&&Ms(i,o,e)&&Co(s,s.data[ke()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=g(Qe(t)))),t}(e,n),r,o)}function _o(t,e){return e>=t.expandoStartIndex}function wo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ke()],o=_o(t,n);Io(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=_e(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Eo(n=Oo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Oo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Oo(null,t,e,n[1],r),n=Eo(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Eo(r,t[s].hostAttrs,n);return Eo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mi(o),u=bi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||W(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),uo(t,c,r,!0),uo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&W(s,e)>=0&&(n[r+1]=_i(n[r+1]))}(e,c,t,r,s),o=gi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Oo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Eo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Eo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$(t,o,!!n||e[++s]))}return void 0===t?null:t}function Co(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];So(1==(1&c)?To(u,e,n,i,bi(c),o):void 0)||(So(s)||2==(2&c)&&(s=To(u,null,n,i,a,o)),function(t,e,n,r,i){const s=zt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ir.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ir.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Gt(ke(),n),i,s))}function To(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===fi&&(l=c?ao:void 0);let h=c?G(l,r):u===r?l:void 0;if(s&&!So(h)&&(h=G(e,r)),So(h)&&(a=h,o))return a;const f=t[i+1];i=o?mi(f):bi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=G(t,r))}return a}function So(t){return void 0!==t}function Io(t,e){return 0!=(t.flags&(e?16:32))}function Po(t,e=""){const n=se(),r=oe(),i=t+Mt,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return zt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,o,s),le(s,!1)}function xo(t){return Ao("",t,""),xo}function Ao(t,e,n){const r=se(),i=Us(r,t,e,n);return i!==fi&&os(r,ke(),i),Ao}function ko(t,e,n,r,i){const s=se(),o=function(t,e,n,r,i,s){const o=function(t,e,n,r){const i=Ms(t,e,n);return Ms(t,e+1,r)||i}(t,ge(),n,i);return ye(2),o?e+yt(n)+r+yt(i)+s:fi}(s,t,e,n,r,i);return o!==fi&&os(s,ke(),o),ko}function jo(t,e,n){const r=se();return Ms(r,me(),e)&&Mi(oe(),Ne(),r,t,e,r[11],n,!0),jo}function No(t,e,n){const r=se();if(Ms(r,me(),e)){const i=oe(),s=Ne();Mi(i,s,r,t,e,function(t,e,n){return(null===t||Ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(_e(i.data),s,r),n,!0)}return No}const Ro=void 0;var Do=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Mo={};function Lo(t,e,n){"string"!=typeof e&&(n=e,e=t[Qo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Mo[e]=t,n&&(Mo[e][Qo.ExtraData]=n)}function Uo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=qo(e);if(n)return n;const r=e.split("-")[0];if(n=qo(r),n)return n;if("en"===r)return Do;throw new Error(`Missing locale data for the locale "${t}".`)}function Fo(t){return Uo(t)[Qo.CurrencyCode]||null}function Vo(t){return Uo(t)[Qo.PluralCase]}function qo(t){return t in Mo||(Mo[t]=D.ng&&D.ng.common&&D.ng.common.locales&&D.ng.common.locales[t]),Mo[t]}var Qo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ho="en-US";let zo=Ho;function Bo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(zo=t.toLowerCase().replace(/_/g,"-"))}function $o(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let s=0;s<t.length;s++)$o(t[s],e,n,r,i);else{const s=oe(),o=se();let a=Os(t)?t:U(t.provide),u=vs(t);const c=ue(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Os(t)||!t.multi){const r=new zn(u,i,Vs),d=Ko(a,e,i?l:l+f,h);-1===d?(or(nr(c,o),s,a),Go(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Ko(a,e,l+f,h),p=Ko(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){or(nr(c,o),s,a);const l=function(t,e,n,r,i){const s=new zn(t,n,Vs);return s.multi=[],s.index=e,s.componentProviders=0,Wo(s,i,r&&!n),s}(i?Xo:Jo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Go(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Go(s,t,d>-1?d:p,Wo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Go(t,e,n,r){const i=Os(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Wo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ko(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Jo(t,e,n,r){return Yo(this.multi,[])}function Xo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=pr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Yo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Yo(i,s);return s}function Yo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=oe();if(r.firstCreatePass){const i=Ht(t);$o(n,r.data,r.blueprint,i,!0),$o(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ta{}class ea{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${g(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let na=(()=>{class t{}return t.NULL=new ea,t})();function ra(...t){}function ia(t,e){return new oa(Wt(t,e))}const sa=function(){return ia(ue(),se())};let oa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=sa,t})();class aa{}let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ca(),t})();const ca=function(){const t=se(),e=Jt(ue().index,t);return function(t){return t[11]}(Ut(e)?e:t)};let la=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ha{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fa=new ha("11.0.2");class da{constructor(){}supports(t){return Rs(t)}create(t){return new ga(t)}}const pa=(t,e)=>e;class ga{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<va(n,r,i)?e:n,o=va(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${g(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ma(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ba),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ba),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ya{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ba{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ya,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function va(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class _a{constructor(){}supports(t){return t instanceof Map||Ds(t)}create(){return new wa}}class wa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ds(t)))throw new Error(`Error trying to diff '${g(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Oa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Oa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new da])}),t})(),Ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new _a])}),t})();function Ta(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push($t(s)),Ft(s))for(let t=Lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ta(e[1],e,n,r)}const o=n.type;if(8&o)Ta(t,e,n.child,r);else if(32&o){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=xr(t);Ta(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Sa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Ta(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Lr(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){pe(!0);try{Zi(t,e,n)}finally{pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Jr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends Sa{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){pe(!0);try{ts(t)}finally{pe(!1)}}(this._view)}get context(){return null}}const Pa=Aa;let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pa,t.__ChangeDetectorRef__=!0,t})();function Aa(t=!1){return function(t,e,n){if(!n&&qt(t)){const n=Jt(t.index,e);return new Sa(n,n)}return 47&t.type?new Sa(e[16],e):null}(ue(),se(),t)}const ka=[new _a],ja=new Ea([new da]),Na=new Ca(ka),Ra=function(){return Ua(ue(),se())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const Ma=Da,La=class extends Ma{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ti(e,n,t),new Sa(n)}};function Ua(t,e){return 4&t.type?new La(e,t,ia(t,e)):null}class Fa{}class Va{}const qa=function(){return Ga(ue(),se())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=qa,t})();const Ha=Qa,za=class extends Ha{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=sr(this._hostTNode,this._hostLView);if(Jn(t)){const e=Yn(t,this._hostLView),n=Xn(t);return new yr(e[1].data[n+8],e)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ba(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Fa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new za(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Lt?(e[4]=n[i],H(n,Lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Wr(i,s),a=n[11],u=Hr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Jr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),H($a(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ba(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(z($a(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=z($a(this._lContainer),e)?new Sa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ba(t){return t[8]}function $a(t){return t[8]||(t[8]=[])}function Ga(t,e){let n;const r=e[t.index];if(Ft(r))n=r;else{let i;if(8&t.type)i=$t(r);else{const n=e[11];i=n.createComment("");const r=Wt(t,e);Vr(n,Hr(n,r),i,function(t,e){return zt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Gi(r,e,i,t),Xi(e,n)}return new za(n,t,e)}const Wa={};class Ka extends na{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=gt(t);return new Ya(e,this.ngModule)}}function Ja(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Xa=new P("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class Ya extends ta{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ja(this.componentDef.inputs)}get outputs(){return Ja(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Wa,i);return s!==Wa||r===Wa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(aa,Bt),o=i.get(la,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(zt(t))return t.selectRootElement(e,n===K.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Rr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:ns,playerHandler:null,flags:0},f=Ni(0,null,null,1,0,null,null,null,null,null),d=Oi(null,f,h,l,null,null,s,a,o,i);let p,g;Te(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(as(a,u,!0),null!==t&&(Bn(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Oi(n,ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(or(nr(a,n),o,e.type),Vi(o,a),Qi(a,n.length,1)),Xi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Bn(a,c,["ng-version",fa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Bn(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Kt(f,Mt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(t,r,e,Ci(t,e,1,null),n));const i=pr(e,t,r.directiveStart,r);Cr(i,e);const s=Wt(r,e);return s&&Cr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=ue();e.contentQueries(1,o,t.directiveStart)}const a=ue();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(je(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,o)),o}(t,this.componentDef,d,h,[Ts]),Ti(f,d,null)}finally{Ae()}return new Za(this.componentType,p,ia(g,d),d,g)}}class Za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const tu=new Map;class eu extends Fa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ka(this);const n=mt(t),r=t[nt]||null;r&&Bo(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=ms(t,e,[{provide:Fa,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],g(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=vt.Default){return t===Cs||t===Fa||t===us?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nu extends Va{constructor(t){super(),this.moduleType=t,null!==mt(t)&&function(t){const e=new Set;!function t(n){const r=mt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${g(e)} vs ${g(e.name)}`)}(i,tu.get(i),n),tu.set(i,n));const s=Sr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new eu(this.moduleType,t)}}function ru(t,e){const n=oe();let r;const i=t+Mt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new xn("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pn(r.type)),o=wt(Vs);try{const t=tr(!1),e=s();return tr(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,se(),i,e),e}finally{wt(o)}}function iu(t,e,n){const r=t+Mt,i=se(),s=function(t,e){return t[e]}(i,r);return function(t,e){return Ns.isWrapped(e)&&(e=Ns.unwrap(e),t[ge()]=fi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Ms(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===fi?void 0:n}(t,o+1)}(i,function(){const t=re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}const su=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ou(){return this._results[js()]()}class au{constructor(){this.dirty=!0,this._results=[],this.changes=new su,this.length=0;const t=js(),e=au.prototype;e[t]||(e[t]=ou)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=q(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class uu{constructor(t){this.queryList=t,this.matches=null}clone(){return new uu(this.queryList)}setDirty(){this.queryList.setDirty()}}class cu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new cu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_u(t,e).matches&&this.queries[e].setDirty()}}class lu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class hu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new hu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,du(e,i)),this.matchTNodeWithReadOption(t,e,dr(e,t,i,!1,!1))}else n===Da?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===oa||r===Qa||r===Da&&4&e.type)this.addMatch(e.index,-2);else{const n=dr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function du(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function pu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ia(t,e):4&t.type?Ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===oa?ia(e,t):n===Da?Ua(e,t):n===Qa?Ga(e,t):void 0}(t,e,r):pr(t,t[1],n,e)}function gu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:pu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function mu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=gu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=Lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&mu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];mu(n[1],n,i,r)}}}}}return r}function yu(t){const e=se(),n=oe(),r=we();Oe(r+1);const i=_u(n,r);if(t.dirty&&Yt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?mu(n,e,r,[]):gu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function bu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new hu),t.queries.track(new fu(e,n))}(t,new lu(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new au;Ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new cu),e[19].queries.push(new uu(n))}(t,e)}(oe(),se(),e,n,r,0,ue(),t)}function vu(){return t=se(),e=we(),t[19].queries[e].queryList;var t,e}function _u(t,e){return t.queries.getByIndex(e)}function wu(t=vt.Default){const e=Aa(!0);if(null!=e||t&vt.Optional)return e;An("ChangeDetectorRef")}const Ou=new P("Application Initializer");let Eu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ra,this.reject=ra,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(At(Ou,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Cu=new P("AppId"),Tu={provide:Cu,useFactory:function(){return`${Su()}${Su()}${Su()}`},deps:[]};function Su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iu=new P("Platform Initializer"),Pu=new P("Platform ID"),xu=new P("appBootstrapListener");let Au=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const ku=new P("LocaleId"),ju=new P("DefaultCurrencyCode");class Nu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ru=function(t){return new nu(t)},Du=Ru,Mu=function(t){return Promise.resolve(Ru(t))},Lu=function(t){const e=Ru(t),n=Sr(mt(t).declarations).reduce((t,e)=>{const n=gt(e);return n&&t.push(new Ya(n)),t},[]);return new Nu(e,n)},Uu=Lu,Fu=function(t){return Promise.resolve(Lu(t))};let Vu=(()=>{class t{constructor(){this.compileModuleSync=Du,this.compileModuleAsync=Mu,this.compileModuleAndAllComponentsSync=Uu,this.compileModuleAndAllComponentsAsync=Fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const qu=(()=>Promise.resolve(0))();function Qu(t){"undefined"==typeof Zone?qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new su(!1),this.onMicrotaskEmpty=new su(!1),this.onStable=new su(!1),this.onError=new su(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=D.requestAnimationFrame,e=D.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(D,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),$u(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Wu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Ku(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Wu(t),e.invoke(r,i,s,o,a)}finally{Ku(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gu(t),$u(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Bu,zu,zu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function zu(){}const Bu={};function $u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Wu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ku(t){t._nesting--,$u(t)}class Ju{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new su,this.onMicrotaskEmpty=new su,this.onStable=new su,this.onError=new su}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Xu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),Qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(At(Hu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,nc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return nc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class Zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function tc(t){nc=t}let ec,nc=new Zu;const rc=new P("AllowMultipleToken");class ic{constructor(t,e){this.name=t,this.token=e}}function sc(t,e,n=[]){const r="Platform: "+e,i=new P(r);return(e=[])=>{let s=oc();if(!s||s.injector.get(rc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(ec&&!ec.destroyed&&!ec.injector.get(rc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ec=t.get(ac);const e=t.get(Iu,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:r}))}return function(t){const e=oc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function oc(){return ec&&!ec.destroyed?ec:null}let ac=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ju:("zone.js"===t?void 0:t)||new Hu({enableLongStackTrace:Ye(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Hu,useValue:n}];return n.run(()=>{const e=Cs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Er,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>lc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Eu);return t.runInitializers(),t.donePromise.then(()=>(Bo(i.injector.get(ku,Ho)||Ho),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=uc({},e);return function(t,e,n){const r=new nu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(cc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${g(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(At(Cs))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function uc(t,e){return Array.isArray(e)?e.reduce(uc,t):Object.assign(Object.assign({},t),e)}let cc=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ye(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),Qu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ta?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Fa),i=n.create(Cs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Xu,null);return s&&i.injector.get(Yu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Ye()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;lc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),lc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(At(Hu),At(Au),At(Cs),At(Er),At(na),At(Eu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function lc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hc{}class fc{}const dc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||dc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>gc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>gc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(At(Vu),At(fc,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function gc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const mc=function(t){return null},yc=sc(null,"core",[{provide:Pu,useValue:"unknown"},{provide:ac,deps:[Cs]},{provide:Yu,deps:[]},{provide:Au,deps:[]}]),bc=[{provide:cc,useClass:cc,deps:[Hu,Au,Cs,Er,na,Eu]},{provide:Xa,deps:[Hu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Eu,useClass:Eu,deps:[[new f,Ou]]},{provide:Vu,useClass:Vu,deps:[]},Tu,{provide:Ea,useFactory:function(){return ja},deps:[]},{provide:Ca,useFactory:function(){return Na},deps:[]},{provide:ku,useFactory:function(t){return Bo(t=t||"undefined"!=typeof $localize&&$localize.locale||Ho),t},deps:[[new h(ku),new f,new p]]},{provide:ju,useValue:"USD"}];let vc=(()=>{class t{constructor(t){}}return t.\u0275mod=lt({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(At(cc))},providers:bc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.2");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[b,u.z,[new u.A,v]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)(u.Ub(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i="api/";let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Ub)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Ub)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Ub)(a).location;return new _(Object(r.Ub)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(y),r.Ub(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Hb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Ub)(y),Object(r.Ub)(u))}function C(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.nb;class I{}let P=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let M=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:P}]}),t})();function L(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new F(Object(r.Ub)(a),window,Object(r.Ub)(r.m))}),t})();class F{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,Q||(Q=document.createElement("a")),Q.setAttribute("href",n),"/"===Q.pathname.charAt(0)?Q.pathname:"/"+Q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let Q,H=null;const z=new r.q("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,a,r.r],multi:!0}];class ${static init(){Object(r.Y)(new $)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(G),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(W),r.Ub(X),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(dt)},token:t,providedIn:"root"}),t})(),dt=(()=>{class t extends ft{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.eb)(e,"HTML")?Object(r.wb)(e):Object(r.cb)(this._doc,String(e));case r.I.STYLE:return Object(r.eb)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.eb)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.ob)(e),Object(r.eb)(e,"URL")?Object(r.wb)(e):Object(r.db)(String(e));case r.I.RESOURCE_URL:if(Object(r.eb)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.fb)(t)}bypassSecurityTrustStyle(t){return Object(r.ib)(t)}bypassSecurityTrustScript(t){return Object(r.hb)(t)}bypassSecurityTrustUrl(t){return Object(r.jb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.gb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new dt(t.get(a));var t},token:t,providedIn:"root"}),t})();const pt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),$.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],gt=Object(r.S)(r.X,"browser",pt),mt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:G,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[W,X,r.c]},{provide:r.F,useExisting:nt},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:W,useClass:W,deps:[G,r.z]},[]];let yt,bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:mt,imports:[M,r.f]}),t})();"undefined"!=typeof window&&window;try{yt="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(DT){yt=!1}let vt=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.B))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.B))},token:t,providedIn:"root"}),t})();var _t=n("XNiG"),wt=n("quSY"),Ot=n("LRne"),Et=n("vkgz"),Ct=n("7o/Q"),Tt=n("D0XW");function St(t,e){return function(n){return n.lift(new It(t,e))}}class It{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Pt(t,this.predicate,this.thisArg))}}class Pt extends Ct.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var xt=n("lJxs");const At=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var kt=n("EY2u");function jt(t){return e=>0===t?Object(kt.b)():e.lift(new Nt(t))}class Nt{constructor(t){if(this.total=t,this.total<0)throw new At}call(t,e){return e.subscribe(new Rt(t,this.total))}}class Rt extends Ct.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var Dt=n("HDdC");"undefined"!=typeof Element&&Element;const Mt="cdk-high-contrast-black-on-white",Lt="cdk-high-contrast-white-on-black",Ut="cdk-high-contrast-active";let Ft=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ut),t.remove(Mt),t.remove(Lt);const e=this.getHighContrastMode();1===e?(t.add(Ut),t.add(Mt)):2===e&&(t.add(Ut),t.add(Lt))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(vt),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(vt),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),Vt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();const qt=new r.P("11.0.1");var Qt=n("bHdf");function Ht(){return Object(Qt.a)(1)}function zt(...t){return Ht()(Object(Ot.a)(...t))}var Bt=n("z+Ro");function $t(...t){const e=t[t.length-1];return Object(Bt.a)(e)?(t.pop(),n=>zt(t,n,e)):e=>zt(t,e)}class Gt{}const Wt="*";function Kt(t,e){return{type:7,name:t,definitions:e,options:{}}}function Jt(t,e=null){return{type:4,styles:e,timings:t}}function Xt(t,e=null){return{type:2,steps:t,options:e}}function Yt(t){return{type:6,styles:t,offset:null}}function Zt(t,e,n){return{type:0,name:t,styles:e,options:n}}function te(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ee(t){Promise.resolve(null).then(t)}class ne{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ee(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class re{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ee(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function ie(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function se(t){switch(t.length){case 0:return new ne;case 1:return t[0];default:return new re(t)}}function oe(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Wt:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ae(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ue(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ue(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ue(n,"destroy",t)))}}function ue(t,e,n){const r=n.totalTime,i=ce(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function ce(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function le(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function he(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let fe=(t,e)=>!1,de=(t,e)=>!1,pe=(t,e,n)=>[];const ge=ie();(ge||"undefined"!=typeof Element)&&(fe=(t,e)=>t.contains(e),de=(()=>{if(ge||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):de}})(),pe=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let me=null,ye=!1;function be(t){me||(me=("undefined"!=typeof document?document.body:null)||{},ye=!!me.style&&"WebkitAppearance"in me.style);let e=!0;return me.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in me.style,!e&&ye)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in me.style),e}const ve=de,_e=fe,we=pe;function Oe(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ee=(()=>{class t{validateStyleProperty(t){return be(t)}matchesElement(t,e){return ve(t,e)}containsElement(t,e){return _e(t,e)}query(t,e,n){return we(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new ne(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ce=(()=>{class t{}return t.NOOP=new Ee,t})();const Te="ng-enter",Se="ng-leave",Ie="ng-trigger",Pe=".ng-trigger",xe="ng-animating",Ae=".ng-animating";function ke(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:je(parseFloat(e[1]),e[2])}function je(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ne(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=je(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=je(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Re(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function De(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Re(t,n);return n}function Me(t,e,n){return n?e+":"+n+";":""}function Le(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Me(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Me(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ue(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=$e(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ie()&&Le(t))}function Fe(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=$e(e);t.style[n]=""}),ie()&&Le(t))}function Ve(t){return Array.isArray(t)?1==t.length?t[0]:Xt(t):t}const qe=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qe(t){let e=[];if("string"==typeof t){let n;for(;n=qe.exec(t);)e.push(n[1]);qe.lastIndex=0}return e}function He(t,e,n){const r=t.toString(),i=r.replace(qe,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function ze(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Be=/-+([a-z0-9])/g;function $e(t){return t.replace(Be,(...t)=>t[1].toUpperCase())}function Ge(t,e){return 0===t||0===e}function We(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Je(t,e)})}}return e}function Ke(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Je(t,e){return window.getComputedStyle(t)[e]}const Xe="*";function Ye(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(en(i,o)),"<"!=s[0]||i==Xe&&o==Xe||e.push(en(o,i))}(t,n,e)):n.push(t),n}const Ze=new Set(["true","1"]),tn=new Set(["false","0"]);function en(t,e){const n=Ze.has(t)||tn.has(t),r=Ze.has(e)||tn.has(e);return(i,s)=>{let o=t==Xe||t==i,a=e==Xe||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ze.has(t):tn.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ze.has(e):tn.has(e)),o&&a}}const nn=new RegExp("s*:selfs*,?","g");function rn(t,e,n){return new sn(t).build(e,n)}class sn{constructor(t){this._driver=t}build(t,e){const n=new on(e);return this._resetContextStyleTimingState(n),Ke(this,Ve(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(an(t)){const e=t;Object.keys(e).forEach(t=>{Qe(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ze(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ke(this,Ve(t.animation),e);return{type:1,matchers:Ye(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:un(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ke(this,t,e)),options:un(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ke(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:un(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return cn(Ne(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=cn(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Ne(r,e),cn(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Yt({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Yt(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Wt?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(an(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Qe(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(an(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(an(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ke(this,Ve(t.animation),e),options:un(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:un(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:un(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(nn,"")),[t=t.replace(/@\*/g,Pe).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Ae),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,le(e.collectedStyles,e.currentQuerySelector,{});const o=Ke(this,Ve(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:un(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ne(t.timings,e.errors,!0);return{type:12,animation:Ke(this,Ve(t.animation),e),timings:n,options:null}}}class on{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function an(t){return!Array.isArray(t)&&"object"==typeof t}function un(t){var e;return t?(t=Re(t)).params&&(t.params=(e=t.params)?Re(e):null):t={},t}function cn(t,e,n){return{duration:t,delay:e,easing:n}}function ln(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class hn{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fn=new RegExp(":enter","g"),dn=new RegExp(":leave","g");function pn(t,e,n,r,i,s={},o={},a,u,c=[]){return(new gn).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class gn{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new hn;const l=new yn(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Ke(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ln(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ke(n.duration):null,s=null!=n.delay?ke(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ke(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mn);const t=ke(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ke(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ke(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Ke(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ne(e.params?He(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ke(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mn);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Ke(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Ke(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const mn={};class yn{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bn(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ke(n.duration)),null!=n.delay&&(r.delay=ke(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=He(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new yn(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=mn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new vn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(fn,"."+this._enterClassName)).replace(dn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wt,this._currentKeyframe[t]=Wt}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Wt})):De(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=He(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Wt),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=De(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Wt&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ze(t.values()):[],s=e.size?ze(e.values()):[];if(n){const t=r[0],e=Re(t);t.offset=0,e.offset=1,r=[t,e]}return ln(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class vn extends bn{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=De(t[0],!1);a.offset=0,i.push(a);const u=De(t[0],!1);u.offset=_n(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=De(t[r],!1);o.offset=_n((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return ln(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function _n(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class wn{}class On extends wn{normalizePropertyName(t,e){return $e(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(En[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const En=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Cn(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Tn={};class Sn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Tn,f=this.buildStyles(n,o&&o.params||Tn,l),d=a&&a.params||Tn,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:pn(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Cn(e,this._triggerName,n,r,b,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=le(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=le(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=ze(g.values());return Cn(e,this._triggerName,n,r,b,f,p,_,O,m,y,w)}}class In{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Re(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=He(s,r,e)),n[t]=s})}}),n}}class Pn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new In(t.style,t.options&&t.options.params||{})}),xn(this.states,"true","1"),xn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Sn(t,e,this.states))}),this.fallbackTransition=new Sn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const An=new hn;class kn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=rn(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=oe(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=pn(this._driver,e,i,Te,Se,{},{},n,An,r),s.forEach(t=>{const e=le(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Wt)})});const a=se(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=ce(e,"","","");return ae(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const jn="ng-animate-queued",Nn="ng-animate-disabled",Rn=".ng-animate-disabled",Dn=[],Mn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ln={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Un{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Re(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Fn="void",Vn=new Un(Fn);class qn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=le(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=le(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Wn(t,Ie),Wn(t,"ng-trigger-"+e),a[e]=Vn),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Hn(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Wn(t,Ie),Wn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Un(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Vn),u.value!==Fn&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Fe(t,n),Ue(t,r)})}return}const c=le(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Wn(t,jn),s.onStart(()=>{Kn(t,jn)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Pe,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Fn,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&se(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Vn,o=new Un(Fn),a=new Hn(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Mn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Wn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=ce(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ae(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Qn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new qn(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(zn(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!zn(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wn(t,Nn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kn(t,Nn))}removeNode(t,e,n,r){if(zn(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return zn(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Pe,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ae,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return se(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Mn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Rn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Rn,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Wn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?se(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new hn,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Gn(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Te+p++;d.set(e,n),t.forEach(t=>Wn(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=Gn(h,Array.from(m));v.forEach((t,e)=>{const n=Se+p++;b.set(e,n),t.forEach(t=>Wn(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Kn(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Kn(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Fe(i,p.fromStyles)),e.onDestroy(()=>Ue(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Fe(i,p.fromStyles)),e.onDestroy(()=>Ue(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>le(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{le(O,e,[]).push(t),t.destroy()})});const C=g.filter(t=>Yn(t,a,u)),T=new Map;$n(T,this.driver,y,u,Wt).forEach(t=>{Yn(t,a,u)&&C.push(t)});const S=new Map;f.forEach((t,e)=>{$n(S,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=T.get(t),n=S.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],P=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Ue(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,S,T);if(s.setRealPlayer(n),t===x)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=se(e)),r.push(s)}}else Fe(e,o.fromStyles),s.onDestroy(()=>Ue(e,o.toStyles)),P.push(s),c.has(e)&&r.push(s)}),P.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=se(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Kn(t,Se),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Ae,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Jn(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Fn;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=le(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Fe(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new ne(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return Xn(t,e),e}((n.get(h)||Dn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=oe(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Hn(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{le(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Wn(t,xe));const f=se(h);return f.onDestroy(()=>{c.forEach(t=>Kn(t,xe)),Ue(a,e.toStyles)}),l.forEach(t=>{le(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ne(t.duration,t.delay)}}class Hn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ne,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ae(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){le(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zn(t){return t&&1===t.nodeType}function Bn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function $n(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Bn(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ln,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Bn(t,s[a++])),o}function Gn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Wn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Kn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Jn(t,e,n){se(n).onDone(()=>t.processLeaveNode(e))}function Xn(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof re?Xn(r.players,e):e.push(r)}}function Yn(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Zn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Qn(t,e,n),this._timelineEngine=new kn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=rn(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Pn(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=he(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=he(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tr(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=nr(e[0]),e.length>1&&(r=nr(e[e.length-1]))):e&&(n=nr(e)),n||r?new er(t,n,r):null}let er=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ue(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ue(this._element,this._initialStyles),this._endStyles&&(Ue(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),Ue(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function nr(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];rr(i)&&(e=e||{},e[i]=t[i])}return e}function rr(t){return"display"===t||"position"===t}const ir="animation",sr="animationend";class or{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=fr(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),hr(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ar(this._element,this._name,"paused")}resume(){ar(this._element,this._name,"running")}setPosition(t){const e=ur(this._element,this._name);this._position=t*this._duration,hr(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=fr(t,"").split(","),r=cr(n,e);r>=0&&(n.splice(r,1),hr(t,"",n.join(",")))}(this._element,this._name))}}function ar(t,e,n){hr(t,"PlayState",n,ur(t,e))}function ur(t,e){const n=fr(t,"");return n.indexOf(",")>0?cr(n.split(","),e):cr([n],e)}function cr(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function lr(t,e,n){n?t.removeEventListener(sr,e):t.addEventListener(sr,e)}function hr(t,e,n,r){const i=ir+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function fr(t,e){return t.style[ir+e]}class dr{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new or(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Je(this.element,n))})}this.currentSnapshot=t}}class pr extends ne{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Oe(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class gr{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return be(t)}matchesElement(t,e){return ve(t,e)}containsElement(t,e){return _e(t,e)}query(t,e,n){return we(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Oe(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof dr),u={};Ge(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=We(t,e,u));if(0==n)return new pr(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=tr(t,e),d=new dr(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class mr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Je(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(br().toString()),this._cssKeyframesDriver=new gr}validateStyleProperty(t){return be(t)}matchesElement(t,e){return ve(t,e)}containsElement(t,e){return _e(t,e)}query(t,e,n){return we(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof mr);Ge(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=tr(t,e=We(t,e=e.map(t=>De(t,!1)),u));return new mr(t,e,a,l)}}function br(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let vr=(()=>{class t extends Gt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Xt(t):t;return Or(this._renderer,null,e,"register",[n]),new _r(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class _r extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wr(this._id,t,e||{},this._renderer)}}class wr{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Or(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Or(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Er="@",Cr="@.disabled";let Tr=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Sr("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Ir(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(Zn),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Sr{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Er&&e==Cr?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ir extends Sr{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Er?"."==e.charAt(1)&&e==Cr?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Er){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Er&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Pr=(()=>{class t extends Zn{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(Ce),r.Ub(wn))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const xr=new r.q("AnimationModuleType"),Ar=[{provide:Gt,useClass:vr},{provide:wn,useFactory:function(){return new On}},{provide:Zn,useClass:Pr},{provide:r.F,useFactory:function(t,e,n){return new Tr(t,e,n)},deps:[nt,Zn,r.z]}],kr=[{provide:Ce,useFactory:function(){return"function"==typeof br()?new yr:new gr}},{provide:xr,useValue:"BrowserAnimations"},...Ar],jr=[{provide:Ce,useClass:Ee},{provide:xr,useValue:"NoopAnimations"},...Ar];let Nr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:kr,imports:[bt]}),t})(),Rr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:jr,imports:[bt]}),t})();const Dr=new r.P("11.0.1"),Mr=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Lr,Ur=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Dr.full!==qt.full&&console.warn("The Angular Material version ("+Dr.full+") does not match the Angular CDK version ("+qt.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Ft),r.Ub(Mr,8),r.Ub(a))},imports:[[Vt],Vt]}),t})();try{Lr="undefined"!=typeof Intl}catch(DT){Lr=!1}n("z6cu");var Fr=n("DH7j"),Vr=n("XoHu"),qr=n("Cfvw");function Qr(t,e){return new Dt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(qr.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var Hr=n("zx2A");function zr(t){return function(e){const n=new Br(t),r=e.lift(n);return n.caught=r}}class Br{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $r(t,this.selector,this.caught))}}class $r extends Hr.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Hr.a(this);this.add(r);const i=Object(Hr.c)(n,r);i!==r&&this.add(i)}}}class Gr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Wr(t,this.callback))}}class Wr extends Ct.a{constructor(t,e){super(t),this.add(new wt.a(e))}}n("w1tV");var Kr=n("5+tZ");function Jr(t,e){return Object(Kr.a)(t,e,1)}class Xr{}class Yr{}class Zr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ti{encodeKey(t){return ei(t)}encodeValue(t){return ei(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ei(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ni{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ti,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ni({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ri(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ii(t){return"undefined"!=typeof Blob&&t instanceof Blob}function si(t){return"undefined"!=typeof FormData&&t instanceof FormData}class oi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Zr),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ni,this.urlWithParams=e}serializeBody(){return null===this.body?null:ri(this.body)||ii(this.body)||si(this.body)||"string"==typeof this.body?this.body:this.body instanceof ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||si(this.body)?null:ii(this.body)?this.body.type||null:ri(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new oi(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var ai=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ui{constructor(t,e=200,n="OK"){this.headers=t.headers||new Zr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ci extends ui{constructor(t={}){super(t),this.type=ai.ResponseHeader}clone(t={}){return new ci({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class li extends ui{constructor(t={}){super(t),this.type=ai.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new li({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hi extends ui{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fi(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let di=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof oi)r=t;else{let i=void 0;i=n.headers instanceof Zr?n.headers:new Zr(n.headers);let s=void 0;n.params&&(s=n.params instanceof ni?n.params:new ni({fromObject:n.params})),r=new oi(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ot.a)(r).pipe(Jr(t=>this.handler.handle(t)));if(t instanceof oi||"events"===n.observe)return i;const s=i.pipe(St(t=>t instanceof li));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(xt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(xt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(xt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(xt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ni).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,fi(n,e))}post(t,e,n={}){return this.request("POST",t,fi(n,e))}put(t,e,n={}){return this.request("PUT",t,fi(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xr))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class pi{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const gi=new r.q("HTTP_INTERCEPTORS");let mi=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const yi=/^\)\]\}',?\n/;class bi{}let vi=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_i=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Dt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Zr(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ci({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(yi,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new li({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new hi({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new hi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:ai.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:ai.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:ai.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(bi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const wi=new r.q("XSRF_COOKIE_NAME"),Oi=new r.q("XSRF_HEADER_NAME");class Ei{}let Ci=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(r.B),r.Ub(wi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ti=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ei),r.Ub(Oi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Si=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(gi,[]);this.chain=t.reduceRight((t,e)=>new pi(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Yr),r.Ub(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ii=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ti,useClass:mi}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:wi,useValue:e.cookieName}:[],e.headerName?{provide:Oi,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Ti,{provide:gi,useExisting:Ti,multi:!0},{provide:Ei,useClass:Ci},{provide:wi,useValue:"XSRF-TOKEN"},{provide:Oi,useValue:"X-XSRF-TOKEN"}]}),t})(),Pi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[di,{provide:Xr,useClass:Si},_i,{provide:Yr,useExisting:_i},vi,{provide:bi,useExisting:vi}],imports:[[Ii.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),xi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Ur],Ur]}),t})();var Ai=n("9ppp");class ki extends _t.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ai.a;return this._value}next(t){super.next(this._value=t)}}class ji extends Ct.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ni extends Ct.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ri=n("SeVD");function Di(t,e,n,r,i=new Ni(t,n,r)){if(!i.closed)return e instanceof Dt.a?e.subscribe(i):Object(Ri.a)(e)(i)}var Mi=n("yCtX");const Li={};class Ui{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Fi(t,this.resultSelector))}}class Fi extends ji{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Li),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Di(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Li?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function qi(t){return new Dt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(qr.a)(n):Object(kt.b)()).subscribe(e)})}function Qi(t){return function(e){return 0===t?Object(kt.b)():e.lift(new Hi(t))}}class Hi{constructor(t){if(this.total=t,this.total<0)throw new At}call(t,e){return e.subscribe(new zi(t,this.total))}}class zi extends Ct.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Bi(t=Wi){return e=>e.lift(new $i(t))}class $i{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Gi(t,this.errorFactory))}}class Gi extends Ct.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Wi(){return new Vi}function Ki(t=null){return e=>e.lift(new Ji(t))}class Ji{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Xi(t,this.defaultValue))}}class Xi extends Ct.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Yi=n("SpAZ");function Zi(t,e){return"function"==typeof e?n=>n.pipe(Zi((n,r)=>Object(qr.a)(t(n,r)).pipe(Object(xt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ts(t))}class ts{constructor(t){this.project=t}call(t,e){return e.subscribe(new es(t,this.project))}}class es extends Hr.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Hr.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Hr.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ns(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new rs(t,e,n))}}class rs{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new is(t,this.accumulator,this.seed,this.hasSeed))}}class is extends Ct.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ss(t,e){const n=arguments.length>=2;return r=>r.pipe(t?St((e,n)=>t(e,n,r)):Yi.a,jt(1),n?Ki(e):Bi(()=>new Vi))}class os{constructor(t,e){this.id=t,this.url=e}}class as extends os{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends os{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cs extends os{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ls extends os{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hs extends os{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends os{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends os{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ps extends os{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs extends os{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ys{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bs{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Es="primary";class Cs{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ts(t){return new Cs(t)}function Ss(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Is(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ps(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xs(t[i],e[i]))return!1;return!0}function xs(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function As(t){return Array.prototype.concat.apply([],t)}function ks(t){return t.length>0?t[t.length-1]:null}function js(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ns(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(qr.a)(Promise.resolve(t)):Object(Ot.a)(t)}function Rs(t,e,n){return n?function(t,e){return Ps(t,e)}(t.queryParams,e.queryParams)&&Ds(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xs(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ms(t.root,e.root)}function Ds(t,e){if(!qs(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ds(t.children[n],e.children[n]))return!1}return!0}function Ms(t,e){return Ls(t,e,e.segments)}function Ls(t,e,n){if(t.segments.length>n.length)return!!qs(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!qs(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ms(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!qs(t.segments,r)&&!!t.children.primary&&Ls(t.children.primary,e,i)}}class Us{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return Bs.serialize(this)}}class Fs{constructor(t,e){this.segments=t,this.children=e,this.parent=null,js(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $s(this)}}class Vs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ts(this.parameters)),this._parameterMap}toString(){return Zs(this)}}function qs(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Qs(t,e){let n=[];return js(t.children,(t,r)=>{r===Es&&(n=n.concat(e(t,r)))}),js(t.children,(t,r)=>{r!==Es&&(n=n.concat(e(t,r)))}),n}class Hs{}class zs{parse(t){const e=new io(t);return new Us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Gs(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ks(e)}=${Ks(t)}`).join("&"):`${Ks(e)}=${Ks(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Bs=new zs;function $s(t){return t.segments.map(t=>Zs(t)).join("/")}function Gs(t,e){if(!t.hasChildren())return $s(t);if(e){const e=t.children.primary?Gs(t.children.primary,!1):"",n=[];return js(t.children,(t,e)=>{e!==Es&&n.push(`${e}:${Gs(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Qs(t,(e,n)=>n===Es?[Gs(t.children.primary,!1)]:[`${n}:${Gs(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${$s(t)}/${e[0]}`:`${$s(t)}/(${e.join("//")})`}}function Ws(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ks(t){return Ws(t).replace(/%3B/gi,";")}function Js(t){return Ws(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xs(t){return decodeURIComponent(t)}function Ys(t){return Xs(t.replace(/\+/g,"%20"))}function Zs(t){return`${Js(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Js(t)}=${Js(e[t])}`).join("")}`;var e}const to=/^[^\/()?;=#]+/;function eo(t){const e=t.match(to);return e?e[0]:""}const no=/^[^=?&#]+/,ro=/^[^?&#]+/;class io{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fs([],{}):new Fs([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Fs(t,e)),n}parseSegment(){const t=eo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Vs(Xs(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=eo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=eo(this.remaining);t&&(n=t,this.capture(n))}t[Xs(e)]=Xs(n)}parseQueryParam(t){const e=function(t){const e=t.match(no);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ro);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ys(e),i=Ys(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=eo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Es);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Fs([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class so{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=oo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ao(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ao(t,this._root).map(t=>t.value)}}function oo(t,e){if(t===e.value)return e;for(const n of e.children){const e=oo(t,n);if(e)return e}return null}function ao(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ao(t,n);if(r.length)return r.unshift(e),r}return[]}class uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function co(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class lo extends so{constructor(t,e){super(t),this.snapshot=e,yo(this,t)}toString(){return this.snapshot.toString()}}function ho(t,e){const n=function(t,e){const n=new go([],{},{},"",{},Es,e,null,t.root,-1,{});return new mo("",new uo(n,[]))}(t,e),r=new ki([new Vs("",{})]),i=new ki({}),s=new ki({}),o=new ki({}),a=new ki(""),u=new fo(r,i,o,a,s,Es,e,n.root);return u.snapshot=n.root,new lo(new uo(u,[]),n)}class fo{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(xt.a)(t=>Ts(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(xt.a)(t=>Ts(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function po(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class go{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends so{constructor(t,e){super(e),this.url=t,yo(this,e)}toString(){return bo(this._root)}}function yo(t,e){e.value._routerState=t,e.children.forEach(e=>yo(t,e))}function bo(t){const e=t.children.length>0?` { ${t.children.map(bo).join(", ")} } `:"";return`${t.value}${e}`}function vo(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ps(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ps(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ps(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ps(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _o(t,e){return Ps(t.params,e.params)&&function(t,e){return qs(t,e)&&t.every((t,n)=>Ps(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||_o(t.parent,e.parent))}function wo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return wo(t,e,r);return wo(t,e)})}(t,e,n);return new uo(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Oo(e,t),t}{const n=new fo(new ki((r=e.value).url),new ki(r.params),new ki(r.queryParams),new ki(r.fragment),new ki(r.data),r.outlet,r.component,r),i=e.children.map(e=>wo(t,e));return new uo(n,i)}}var r}function Oo(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Oo(t.children[n],e.children[n])}function Eo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Co(t){return"object"==typeof t&&null!=t&&t.outlets}function To(t,e,n,r,i){let s={};return r&&js(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Us(n.root===t?e:So(n.root,t,e),s,i)}function So(t,e,n){const r={};return js(t.children,(t,i)=>{r[i]=t===e?n:So(t,e,n)}),new Fs(t.segments,r)}class Io{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Eo(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Co);if(r&&r!==ks(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Po{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function xo(t,e,n){if(t||(t=new Fs([],{})),0===t.segments.length&&t.hasChildren())return Ao(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Co(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ro(a,u,e))return s;r+=2}else{if(!Ro(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Fs(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Fs(t.segments.slice(r.pathIndex),t.children),Ao(e,0,i)}return r.match&&0===i.length?new Fs(t.segments,{}):r.match&&!t.hasChildren()?ko(t,e,n):r.match?Ao(t,0,i):ko(t,e,n)}function Ao(t,e,n){if(0===n.length)return new Fs(t.segments,{});{const r=function(t){return Co(t[0])?t[0].outlets:{[Es]:t}}(n),i={};return js(r,(n,r)=>{null!==n&&(i[r]=xo(t.children[r],e,n))}),js(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Fs(t.segments,i)}}function ko(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Co(s)){const t=jo(s.outlets);return new Fs(r,t)}if(0===i&&Eo(n[0])){r.push(new Vs(t.segments[e].path,n[0])),i++;continue}const o=Co(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Eo(a)?(r.push(new Vs(o,No(a))),i+=2):(r.push(new Vs(o,{})),i++)}return new Fs(r,{})}function jo(t){const e={};return js(t,(t,n)=>{null!==t&&(e[n]=ko(new Fs([],{}),0,t))}),e}function No(t){const e={};return js(t,(t,n)=>e[n]=""+t),e}function Ro(t,e,n){return t==n.path&&Ps(e,n.parameters)}class Do{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),vo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=co(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),js(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=co(t),i=t.value.component?n.children:e;js(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=co(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ws(t.value.snapshot))}),t.children.length&&this.forwardEvent(new vs(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(vo(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Mo(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Mo(t){vo(t.value),t.children.forEach(Mo)}class Lo{constructor(t,e){this.routes=t,this.module=e}}function Uo(t){return"function"==typeof t}function Fo(t){return t instanceof Us}const Vo=Symbol("INITIAL_VALUE");function qo(){return Zi(t=>function(...t){let e=void 0,n=void 0;return Object(Bt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Fr.a)(t[0])&&(t=t[0]),Object(Mi.a)(t,n).lift(new Ui(e))}(...t.map(t=>t.pipe(jt(1),$t(Vo)))).pipe(ns((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Vo)return t;if(r===Vo&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Fo(r))return r}return t},t)},Vo),St(t=>t!==Vo),Object(xt.a)(t=>Fo(t)?t:!0===t),jt(1)))}let Qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[Ma]},encapsulation:2}),t})();function Ho(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];zo(r,Bo(e,r))}}function zo(t,e){t.children&&Ho(t.children,e)}function Bo(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $o(t){const e=t.children&&t.children.map($o),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Es&&(n.component=Qo),n}function Go(t){return t.outlet||Es}class Wo{constructor(t){this.segmentGroup=t||null}}class Ko{constructor(t){this.urlTree=t}}function Jo(t){return new Dt.a(e=>e.error(new Wo(t)))}function Xo(t){return new Dt.a(e=>e.error(new Ko(t)))}function Yo(t){return new Dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Zo{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Es).pipe(Object(xt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(zr(t=>{if(t instanceof Ko)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Es).pipe(Object(xt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(zr(t=>{if(t instanceof Wo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Fs([],{[Es]:t}):t;return new Us(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(xt.a)(t=>new Fs([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ot.a)({});const n=[],r=[],i={};return js(t,(t,s)=>{const o=e(s,t).pipe(Object(xt.a)(t=>i[s]=t));s===Es?n.push(o):r.push(o)}),Ot.a.apply(null,n.concat(r)).pipe(Ht(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?St((e,n)=>t(e,n,r)):Yi.a,Qi(1),n?Ki(e):Bi(()=>new Vi))}(),Object(xt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=Go(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(qr.a)(n).pipe(Jr(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(zr(t=>{if(t instanceof Wo)return Object(Ot.a)(null);throw t}))),ss(t=>null!==t),zr(t=>{if(t instanceof Vi||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ot.a)(new Fs([],{}));throw new Wo(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(xt.a)(()=>null),zr(()=>Object(Ot.a)(null)))});return Object(qr.a)(u).pipe(t=>t.lift(new Ui(void 0)),ss(),Object(xt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Go(r)!==s&&""!==r.path?Jo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Jo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xo(i):this.lineralizeSegments(n,i).pipe(Object(Kr.a)(n=>{const i=new Fs(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ta(e,r,i);if(!o)return Jo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Xo(l):this.lineralizeSegments(r,l).pipe(Object(Kr.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(xt.a)(t=>(n._loadedConfig=t,new Fs(r,{})))):Object(Ot.a)(new Fs(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=ta(e,n,r);if(!i)return Jo(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Kr.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>na(t,e,n)&&Go(n)!==Es)}(t,n,r)?{segmentGroup:ea(new Fs(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Go(r)!==Es&&(n[Go(r)]=new Fs([],{}));return n}(r,new Fs(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>na(t,e,n))}(t,n,r)?{segmentGroup:ea(new Fs(t.segments,function(t,e,n,r){const i={};for(const s of n)na(t,e,s)&&!r[Go(s)]&&(i[Go(s)]=new Fs([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(xt.a)(t=>new Fs(s,t))):0===r.length&&0===o.length?Object(Ot.a)(new Fs(s,{})):this.expandSegment(n,i,r,o,Es,!0).pipe(Object(xt.a)(t=>new Fs(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ot.a)(new Lo(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ot.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Kr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(xt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.a(e=>e.error(Ss(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ot.a)(new Lo([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ot.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Uo(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Uo(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ns(s)});return Object(Ot.a)(i).pipe(qo(),Object(Et.a)(t=>{if(!Fo(t))return;const e=Ss(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(xt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ot.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Yo(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Us(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return js(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return js(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Fs(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ta(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Is)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ea(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Fs(t.segments.concat(e.segments),e.children)}return t}function na(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class ra{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ia{constructor(t,e){this.component=t,this.route=e}}function sa(t,e,n){const r=t._root;return aa(r,e?e._root:null,n,[r.value])}function oa(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=co(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!qs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qs(t.url,e.url)||!Ps(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_o(t,e)||!Ps(t.queryParams,e.queryParams);case"paramsChange":default:return!_o(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ra(r)):(s.data=o.data,s._resolvedData=o._resolvedData),aa(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ia(a.outlet.component,o))}else o&&ua(e,a,i),i.canActivateChecks.push(new ra(r)),aa(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),js(s,(t,e)=>ua(t,n.getContext(e),i)),i}function ua(t,e,n){const r=co(t),i=t.value;js(r,(t,r)=>{ua(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ia(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ca(t,e){return null!==t&&e&&e(new _s(t)),Object(Ot.a)(!0)}function la(t,e){return null!==t&&e&&e(new bs(t)),Object(Ot.a)(!0)}function ha(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ot.a)(!0);const i=r.map(r=>qi(()=>{const i=oa(r,e,n);let s;if(function(t){return t&&Uo(t.canActivate)}(i))s=Ns(i.canActivate(e,t));else{if(!Uo(i))throw new Error("Invalid CanActivate guard");s=Ns(i(e,t))}return s.pipe(ss())}));return Object(Ot.a)(i).pipe(qo())}function fa(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qi(()=>{const i=e.guards.map(i=>{const s=oa(i,e.node,n);let o;if(function(t){return t&&Uo(t.canActivateChild)}(s))o=Ns(s.canActivateChild(r,t));else{if(!Uo(s))throw new Error("Invalid CanActivateChild guard");o=Ns(s(r,t))}return o.pipe(ss())});return Object(Ot.a)(i).pipe(qo())}));return Object(Ot.a)(i).pipe(qo())}class da{}class pa{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=ya(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Es),n=new go([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Es,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new uo(n,e),i=new mo(this.url,r);return this.inheritParamsAndData(i._root),Object(Ot.a)(i)}catch(t){return new Dt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=po(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Qs(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Es?-1:e.value.outlet===Es?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof da))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new da}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new da;if((t.outlet||Es)!==r)throw new da;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?ks(n).parameters:{};i=new go(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_a(t),r,t.component,t,ga(e),ma(e)+n.length,wa(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new da;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Is)(n,t,e);if(!r)throw new da;const i={};js(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new go(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_a(t),r,t.component,t,ga(e),ma(e)+s.length,wa(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ya(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new uo(i,t)]}if(0===a.length&&0===c.length)return[new uo(i,[])];const l=this.processSegment(a,u,c,Es);return[new uo(i,l)]}}function ga(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ma(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ya(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ba(t,e,n)&&va(n)!==Es)}(t,n,r)){const i=new Fs(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&va(s)!==Es){const n=new Fs([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[va(s)]=n}return i}(t,e,r,new Fs(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ba(t,e,n))}(t,n,r)){const s=new Fs(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(ba(t,n,a)&&!i[va(a)]){const n=new Fs([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[va(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Fs(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ba(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function va(t){return t.outlet||Es}function _a(t){return t.data||{}}function wa(t){return t.resolve||{}}function Oa(t){return function(e){return e.pipe(Zi(e=>{const n=t(e);return n?Object(qr.a)(n).pipe(Object(xt.a)(()=>e)):Object(qr.a)([e])}))}}class Ea extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ca=new r.q("ROUTES");class Ta{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(xt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Lo(As(r.injector.get(Ca)).map($o),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(qr.a)(this.loader.load(t)):Ns(t()).pipe(Object(Kr.a)(t=>t instanceof r.v?Object(Ot.a)(t):Object(qr.a)(this.compiler.compileModuleAsync(t))))}}class Sa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ia,this.attachRef=null}}class Ia{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Sa,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Pa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function xa(t){throw t}function Aa(t,e,n){return e.parse("/")}function ka(t,e){return Object(Ot.a)(null)}let ja=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _t.a,this.errorHandler=xa,this.malformedUriErrorHandler=Aa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ka,afterPreactivation:ka},this.urlHandlingStrategy=new Pa,this.routeReuseStrategy=new Ea,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Us(new Fs([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ta(o,a,t=>this.triggerEvent(new ms(t)),t=>this.triggerEvent(new ys(t))),this.routerState=ho(this.currentUrlTree,this.rootComponentType),this.transitions=new ki({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(St(t=>0!==t.id),Object(xt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zi(t=>{let n=!1,r=!1;return Object(Ot.a)(t).pipe(Object(Et.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ot.a)(t).pipe(Zi(t=>{const n=this.transitions.getValue();return e.next(new as(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?kt.a:[t]}),Zi(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Zi(t=>function(t,e,n,r,i){return new Zo(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(xt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Et.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Kr.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new pa(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(xt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Et.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Et.a)(t=>{const n=new hs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new as(n,this.serializeUrl(r),i,s);e.next(a);const u=ho(r,this.rootComponentType).snapshot;return Object(Ot.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),kt.a}),Oa(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Et.a)(t=>{const e=new fs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(xt.a)(t=>Object.assign(Object.assign({},t),{guards:sa(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Kr.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ot.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(qr.a)(t).pipe(Object(Kr.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ot.a)(!0);const o=s.map(s=>{const o=oa(s,e,i);let a;if(function(t){return t&&Uo(t.canDeactivate)}(o))a=Ns(o.canDeactivate(t,e,n,r));else{if(!Uo(o))throw new Error("Invalid CanDeactivate guard");a=Ns(o(t,e,n,r))}return a.pipe(ss())});return Object(Ot.a)(o).pipe(qo())}(t.component,t.route,n,e,r)),ss(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Kr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(qr.a)(e).pipe(Jr(e=>Object(qr.a)([la(e.route.parent,r),ca(e.route,r),fa(t,e.path,n),ha(t,e.route,n)]).pipe(Ht(),ss(t=>!0!==t,!0))),ss(t=>!0!==t,!0))}(r,s,t,e):Object(Ot.a)(n)),Object(xt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Et.a)(t=>{if(Fo(t.guardsResult)){const e=Ss(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Et.a)(t=>{const e=new ds(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),St(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new cs(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Oa(t=>{if(t.guards.canActivateChecks.length)return Object(Ot.a)(t).pipe(Object(Et.a)(t=>{const e=new ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zi(t=>{let n=!1;return Object(Ot.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Kr.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ot.a)(t);let s=0;return Object(qr.a)(n).pipe(Jr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ot.a)({});const s={};return Object(qr.a)(i).pipe(Object(Kr.a)(i=>function(t,e,n,r){const i=oa(t,e,r);return Ns(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Et.a)(t=>{s[i]=t}))),Qi(1),Object(Kr.a)(()=>Object.keys(s).length===i.length?Object(Ot.a)(s):kt.a))}(t._resolve,t,e,r).pipe(Object(xt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),po(t,n).resolve),null)))}(t.route,e,r,i)),Object(Et.a)(()=>s++),Qi(1),Object(Kr.a)(e=>s===n.length?Object(Ot.a)(t):kt.a))}))}),Object(Et.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new cs(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Et.a)(t=>{const e=new gs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Oa(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(xt.a)(t=>{const e=function(t,e,n){const r=wo(t,e._root,n?n._root:void 0);return new lo(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Et.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(xt.a)(t=>(new Do(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Et.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new cs(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Gr(i))),zr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Fo(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new cs(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ls(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Xg){t.reject(Xg)}}var i;return kt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ho(t),this.config=t.map($o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return To(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Io(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return js(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Io(n,e,r)}(n);if(s.toRoot())return To(e.root,new Fs([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Po(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Po(t,t===e.root,0)}const r=Eo(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Po(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Ao(o.segmentGroup,o.index,s.commands):xo(o.segmentGroup,o.index,s.commands);return To(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Fo(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Fo(t))return Rs(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Rs(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new us(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(Hs),r.Ub(Ia),r.Ub(O),r.Ub(r.r),r.Ub(r.w),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Na=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new _t.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Da(this.skipLocationChange),replaceUrl:Da(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Da(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ja),r.Lb(fo),r.Vb("tabindex"),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})(),Ra=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new _t.a,this.subscription=t.events.subscribe(t=>{t instanceof us&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Da(this.skipLocationChange),replaceUrl:Da(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Da(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ja),r.Lb(fo),r.Lb(y))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.jc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function Da(t){return""===t||!!t}let Ma=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Es,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new La(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ia),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class La{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===fo?this.route:t===Ia?this.childContexts:this.parent.get(t,e)}}class Ua{}class Fa{preload(t,e){return Object(Ot.a)(null)}}let Va=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ta(e,n,e=>t.triggerEvent(new ms(e)),e=>t.triggerEvent(new ys(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(St(t=>t instanceof us),Jr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(qr.a)(n).pipe(Object(Qt.a)(),Object(xt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Kr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ja),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(Ua))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),qa=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof as?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof us&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Os&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Os(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ja),r.Ub(U),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Qa=new r.q("ROUTER_CONFIGURATION"),Ha=new r.q("ROUTER_FORROOT_GUARD"),za=[O,{provide:Hs,useClass:zs},{provide:ja,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ja(null,t,e,n,r,i,s,As(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Hs,Ia,O,r.r,r.w,r.i,Ca,Qa,[class{},new r.A],[class{},new r.A]]},Ia,{provide:fo,useFactory:function(t){return t.routerState.root},deps:[ja]},{provide:r.w,useClass:r.K},Va,Fa,class{preload(t,e){return e().pipe(zr(()=>Object(Ot.a)(null)))}},{provide:Qa,useValue:{enableTracing:!1}}];function Ba(){return new r.y("Router",ja)}let $a=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[za,Ja(e),{provide:Ha,useFactory:Ka,deps:[[ja,new r.A,new r.J]]},{provide:Qa,useValue:n||{}},{provide:y,useFactory:Wa,deps:[u,[new r.p(v),new r.A],Qa]},{provide:qa,useFactory:Ga,deps:[ja,U,Qa]},{provide:Ua,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fa},{provide:r.y,multi:!0,useFactory:Ba},[Xa,{provide:r.d,multi:!0,useFactory:Ya,deps:[Xa]},{provide:tu,useFactory:Za,deps:[Xa]},{provide:r.b,multi:!0,useExisting:tu}]]}}static forChild(e){return{ngModule:t,providers:[Ja(e)]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Ha,8),r.Ub(ja,8))}}),t})();function Ga(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new qa(t,e,n)}function Wa(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Ka(t){return"guarded"}function Ja(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ca,multi:!0,useValue:t}]}let Xa=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new _t.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ja),r=this.injector.get(Qa);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ot.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Qa),n=this.injector.get(Va),i=this.injector.get(qa),s=this.injector.get(ja),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function Ya(t){return t.appInitializer.bind(t)}function Za(t){return t.bootstrapListener.bind(t)}const tu=new r.q("Router Initializer"),eu=["toast-component",""];function nu(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.hc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.oc(2,"\xd7"),r.Pb(),r.Pb()}}function ru(t,e){if(1&t&&(r.Ob(0),r.oc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.qc("[",t.duplicatesCount+1,"]")}}function iu(t,e){if(1&t&&(r.Qb(0,"div"),r.oc(1),r.nc(2,ru,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.qc(" ",t.title," "),r.Ab(1),r.ec("ngIf",t.duplicatesCount)}}function su(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.ec("innerHTML",t.message,r.ic)}}function ou(t,e){if(1&t&&(r.Qb(0,"div",8),r.oc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.qc(" ",t.message," ")}}function au(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.lc("width",t.width+"%")}}function uu(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.hc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.oc(2,"\xd7"),r.Pb(),r.Pb()}}function cu(t,e){if(1&t&&(r.Ob(0),r.oc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.qc("[",t.duplicatesCount+1,"]")}}function lu(t,e){if(1&t&&(r.Qb(0,"div"),r.oc(1),r.nc(2,cu,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.qc(" ",t.title," "),r.Ab(1),r.ec("ngIf",t.duplicatesCount)}}function hu(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.ec("innerHTML",t.message,r.ic)}}function fu(t,e){if(1&t&&(r.Qb(0,"div",8),r.oc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.qc(" ",t.message," ")}}function du(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.lc("width",t.width+"%")}}class pu{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new _t.a,this._onAction=new _t.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const gu={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},mu=new r.q("ToastConfig");class yu{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class bu extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let vu=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class _u{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let wu=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new bu(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new _u(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(vu),r.Ub(r.j),r.Ub(r.g),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(vu),Object(r.Ub)(r.j),Object(r.Ub)(r.g),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class Ou{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new _t.a,this._activate=new _t.a,this._manualClose=new _t.a,this._resetTimeout=new _t.a,this._countDuplicate=new _t.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Eu{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===pu?this._toastPackage:this._parentInjector.get(t,e,n)}}let Cu=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.I.HTML,e));const c=new Ou(a),l=new pu(this.index,i,u,n,t,c),h=new Eu(l,this._injector),f=new yu(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(mu),r.Ub(wu),r.Ub(r.r),r.Ub(ft),r.Ub(r.z))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(mu),Object(r.Ub)(wu),Object(r.Ub)(r.o),Object(r.Ub)(ft),Object(r.Ub)(r.z))},token:t,providedIn:"root"}),t})(),Tu=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Cu),r.Lb(pu),r.Lb(r.z))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.mc("@flyInOut",e.state),r.Cb(e.toastClasses),r.lc("display",e.displayStyle))},attrs:eu,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.nc(0,nu,3,0,"button",0),r.nc(1,iu,3,5,"div",1),r.nc(2,su,1,3,"div",2),r.nc(3,ou,2,4,"div",3),r.nc(4,au,2,2,"div",4)),2&t&&(r.ec("ngIf",e.options.closeButton),r.Ab(1),r.ec("ngIf",e.title),r.Ab(1),r.ec("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.ec("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.ec("ngIf",e.options.progressBar))},directives:[N],encapsulation:2,data:{animation:[Kt("flyInOut",[Zt("inactive",Yt({opacity:0})),Zt("active",Yt({opacity:1})),Zt("removed",Yt({opacity:0})),te("inactive => active",Jt("{{ easeTime }}ms {{ easing }}")),te("active => removed",Jt("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Su=Object.assign(Object.assign({},gu),{toastComponent:Tu});let Iu=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:mu,useValue:{default:Su,config:e}}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[M]]}),t})(),Pu=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Cu),r.Lb(pu),r.Lb(r.g))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Cb(e.toastClasses),r.lc("display",e.displayStyle))},attrs:eu,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.nc(0,uu,3,0,"button",0),r.nc(1,lu,3,5,"div",1),r.nc(2,hu,1,3,"div",2),r.nc(3,fu,2,4,"div",3),r.nc(4,du,2,2,"div",4)),2&t&&(r.ec("ngIf",e.options.closeButton),r.Ab(1),r.ec("ngIf",e.title),r.Ab(1),r.ec("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.ec("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.ec("ngIf",e.options.progressBar))},directives:[N],encapsulation:2}),t})();Object.assign(Object.assign({},gu),{toastComponent:Pu});class xu{constructor(t){Object.assign(this,t)}}let Au=(()=>{class t{constructor(){this.spinnerObservable=new ki(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(St(e=>e&&e.name===t))}show(t="primary",e){setTimeout(()=>new Promise((n,r)=>{e&&Object.keys(e).length?(e.name=t,this.spinnerObservable.next(new xu(Object.assign(Object.assign({},e),{show:!0}))),n(!0)):(this.spinnerObservable.next(new xu({name:t,show:!0})),n(!0))}),10)}hide(t="primary",e=10){setTimeout(()=>new Promise((e,n)=>{this.spinnerObservable.next(new xu({name:t,show:!1})),e(!0)}),e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ku=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[M]]}),t})(),ju=(()=>{class t{constructor(t,e){this.toast=t,this.spinner=e,this.shopping_cart_items=[],this.baseUrl=i,this.addProduct=t=>{let e=this.get_shopping_cart_items();if(!e&&t.stock>0)this.shopping_cart_items.push({id:t.id,name:t.name,quantity:1,subtotal:t.price,price:t.price,image:t.image,description:t.description,category:t.category}),localStorage.setItem("shopping_cart",JSON.stringify(this.shopping_cart_items));else if(e&&t.stock>0&&e){let n=e.find(e=>e.name==t.name);if(n){const t=Object.assign({},n);t.quantity++,t.subtotal=t.quantity*t.price;const r=e.indexOf(n);e.splice(r,1),e.push(t),localStorage.setItem("shopping_cart",JSON.stringify(e))}else n||(e.push({id:t.id,name:t.name,quantity:1,subtotal:t.price,price:t.price,image:t.image,description:t.description,category:t.category}),localStorage.setItem("shopping_cart",JSON.stringify(e)))}t.stock>0&&this.toast.success(t.name+" added to the cart.","Product Added",{timeOut:1500,progressBar:!0,progressAnimation:"increasing",positionClass:"toast-top-right"}),0===t.stock&&this.toast.error(`Sorry, ${t.name} is out of stock.`,"Out of stock",{timeOut:1500,progressBar:!0,progressAnimation:"increasing",positionClass:"toast-top-right"})},this.get_shopping_cart_items=()=>{let t=localStorage.getItem("shopping_cart");return JSON.parse(t)},this.getCartLength=()=>{let t=this.get_shopping_cart_items();return null==t?void 0:t.reduce((t,e)=>t+e.quantity,0)},this.getTotal=()=>{let t=this.get_shopping_cart_items(),e=null==t?void 0:t.reduce((t,e)=>t+e.subtotal,0);return localStorage.setItem("shopping_cart",JSON.stringify(t)),e},this.changeQuantity=(t,e)=>{let n=this.get_shopping_cart_items();const r=n.findIndex(e=>e.name===t.name);n[r].quantity=n[r].quantity+e,n[r].subtotal=n[r].quantity*n[r].price,0===n[r].quantity&&n.splice(r,1),localStorage.setItem("shopping_cart",JSON.stringify(n))},this.removeItem=t=>{let e=this.get_shopping_cart_items();const n=e.findIndex(e=>e.name==t.name);if(n>=0)return e[n].quantity-=1,e[n].subtotal=e[n].quantity*e[n].price,0===e[n].quantity&&e.splice(n,1),this.toast.info(t.name+" removed from the cart","Product Updated",{timeOut:1500,progressBar:!0,progressAnimation:"increasing",positionClass:"toast-top-right"}),localStorage.setItem("shopping_cart",JSON.stringify(e))}}removeEntireProduct(t){let e=this.get_shopping_cart_items();const n=e.findIndex(e=>e.name==t.name);if(n>=0)return e.splice(n,1),this.toast.info(t.name+" removed from the cart","Product Updated",{timeOut:1500,progressBar:!0,progressAnimation:"increasing",positionClass:"toast-top-right"}),localStorage.setItem("shopping_cart",JSON.stringify(e))}removeAll(){return localStorage.removeItem("shopping_cart")}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Cu),r.Ub(Au))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nu=new r.q("NgValueAccessor"),Ru={provide:Nu,useExisting:Object(r.U)(()=>Du),multi:!0};let Du=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([Ru])]}),t})();const Mu={provide:Nu,useExisting:Object(r.U)(()=>Uu),multi:!0},Lu=new r.q("CompositionEventMode");let Uu=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(Lu,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Mu])]}),t})();function Fu(t){return null==t||0===t.length}function Vu(t){return null!=t&&"number"==typeof t.length}const qu=new r.q("NgValidators"),Qu=new r.q("NgAsyncValidators"),Hu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zu{static min(t){return e=>{if(Fu(e.value)||Fu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Fu(e.value)||Fu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Fu(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Fu(t.value)||Hu.test(t.value)?null:{email:!0}}static minLength(t){return e=>Fu(e.value)||!Vu(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Vu(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return zu.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Fu(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Bu);return 0==e.length?null:function(t){return Gu(Wu(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Bu);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Fr.a)(e))return Qr(e,null);if(Object(Vr.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Qr(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Qr(t=1===t.length&&Object(Fr.a)(t[0])?t[0]:t,null).pipe(Object(xt.a)(t=>e(...t)))}return Qr(t,null)}(Wu(t,e).map($u)).pipe(Object(xt.a)(Gu))}}}function Bu(t){return null!=t}function $u(t){const e=Object(r.sb)(t)?Object(qr.a)(t):t;return Object(r.rb)(e),e}function Gu(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Wu(t,e){return e.map(e=>e(t))}function Ku(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ju(t){return null!=t?zu.compose(Ku(t)):null}function Xu(t){return null!=t?zu.composeAsync(Ku(t)):null}function Yu(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zu(t){return t._rawValidators}function tc(t){return t._rawAsyncValidators}let ec=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ju(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),nc=(()=>{class t extends ec{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return rc(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const rc=r.Sb(nc);class ic extends ec{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sc{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let oc=(()=>{class t extends sc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ic,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),ac=(()=>{class t extends sc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(nc,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const uc={provide:Nu,useExisting:Object(r.U)(()=>cc),multi:!0};let cc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([uc])]}),t})();const lc={provide:Nu,useExisting:Object(r.U)(()=>fc),multi:!0};let hc=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),fc=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ic),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(hc),r.Lb(r.r))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([lc])]}),t})();const dc={provide:Nu,useExisting:Object(r.U)(()=>pc),multi:!0};let pc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([dc])]}),t})();const gc={provide:Nu,useExisting:Object(r.U)(()=>yc),multi:!0};function mc(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let yc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=mc(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([gc])]}),t})(),bc=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(yc,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const vc={provide:Nu,useExisting:Object(r.U)(()=>wc),multi:!0};function _c(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let wc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([vc])]}),t})(),Oc=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_c(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_c(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(wc,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Ec(t,e){Tc(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ic(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ic(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cc(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tc(t,e,n){const r=Zu(t);null!==e.validator?t.setValidators(Yu(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=tc(t);if(null!==e.asyncValidator?t.setAsyncValidators(Yu(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Cc(e._rawValidators,n),Cc(e._rawAsyncValidators,n)}}function Sc(t,e,n){if(null!==t){if(null!==e.validator){const n=Zu(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=tc(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Cc(e._rawValidators,t),Cc(e._rawAsyncValidators,t)}}function Ic(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Pc(t,e){Tc(t,e,!1)}const xc=[Du,pc,cc,yc,wc,fc];function Ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kc="VALID",jc="INVALID",Nc="PENDING",Rc="DISABLED";function Dc(t){return(Fc(t)?t.validators:t)||null}function Mc(t){return Array.isArray(t)?Ju(t):t||null}function Lc(t,e){return(Fc(e)?e.asyncValidators:t)||null}function Uc(t){return Array.isArray(t)?Xu(t):t||null}function Fc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Vc{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Mc(this._rawValidators),this._composedAsyncValidatorFn=Uc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kc}get invalid(){return this.status===jc}get pending(){return this.status==Nc}get disabled(){return this.status===Rc}get enabled(){return this.status!==Rc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Mc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Uc(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Nc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rc,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kc,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==kc&&this.status!==Nc||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rc:kc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator=!0;const e=$u(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Qc?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Hc&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Rc:this.errors?jc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(jc)?jc:kc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Fc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qc extends Vc{constructor(t=null,e,n){super(Dc(e),Lc(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ac(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ac(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Qc extends Vc{constructor(t,e,n){super(Dc(e),Lc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof qc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Hc extends Vc{constructor(t,e,n){super(Dc(e),Lc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof qc?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Bc=new r.q("NgModelWithFormControlWarning"),$c={provide:nc,useExisting:Object(r.U)(()=>Gc)};let Gc=(()=>{class t extends nc{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ec(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ac(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Pc(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Pc(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Sc(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Ec(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tc(this.form,this,!1),this._oldForm&&Sc(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(qu,10),r.Lb(Qu,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([$c]),r.xb,r.yb]}),t})();const Wc={provide:ic,useExisting:Object(r.U)(()=>Kc)};let Kc=(()=>{class t extends ic{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Uu?n=t:(e=t,xc.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(nc,13),r.Lb(qu,10),r.Lb(Qu,10),r.Lb(Nu,10),r.Lb(Bc,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Wc]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Jc={provide:qu,useExisting:Object(r.U)(()=>Xc),multi:!0};let Xc=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?zu.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([Jc])]}),t})(),Yc=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Zc=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Qc(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new qc(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Hc(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof qc||t instanceof Qc||t instanceof Hc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),tl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Bc,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Zc,hc],imports:[Yc]}),t})();function el(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",16),r.Mb(2,"img",17),r.Qb(3,"span",18),r.Qb(4,"i",19),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb(2).removeProductFromCart(n)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Qb(6,"p"),r.oc(7),r.Pb(),r.Pb(),r.Qb(8,"td"),r.Qb(9,"p"),r.oc(10),r.Pb(),r.Pb(),r.Qb(11,"td"),r.Qb(12,"div",20),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb(2).ChangeQuantity(n,-1)}),r.Mb(13,"i",21),r.Pb(),r.Mb(14,"input",22),r.Qb(15,"div",23),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb(2).ChangeQuantity(n,1)}),r.Mb(16,"i",24),r.Pb(),r.Pb(),r.Qb(17,"td"),r.Qb(18,"p"),r.oc(19),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.fc("alt",t.name),r.ec("src",t.image,r.jc),r.Ab(5),r.pc(t.name),r.Ab(3),r.pc(t.price),r.Ab(4),r.ec("value",t.quantity)("max",t.stock),r.Ab(5),r.qc("$ ",t.subtotal,"")}}function nl(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"div",4),r.Qb(2,"div",5),r.Qb(3,"table",6),r.Qb(4,"thead",7),r.Qb(5,"tr",8),r.Qb(6,"th"),r.oc(7,"Image"),r.Pb(),r.Qb(8,"th"),r.oc(9,"Title"),r.Pb(),r.Qb(10,"th"),r.oc(11,"Price"),r.Pb(),r.Qb(12,"th"),r.oc(13,"Quantity"),r.Pb(),r.Qb(14,"th"),r.oc(15,"Subtotal"),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"tbody"),r.nc(17,el,20,7,"tr",9),r.Qb(18,"tr",10),r.Mb(19,"td",11),r.Mb(20,"td"),r.Mb(21,"td"),r.Qb(22,"td"),r.oc(23,"TOTAL"),r.Pb(),r.Qb(24,"td"),r.oc(25),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"div",12),r.Qb(27,"div",13),r.Qb(28,"a",14),r.oc(29,"Checkout"),r.Pb(),r.Qb(30,"a",15),r.oc(31,"Continue Shopping"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Nb()),2&t){const t=r.Zb();r.Ab(17),r.ec("ngForOf",t.cartData),r.Ab(8),r.qc("$ ",t.cartTotal,"")}}let rl=(()=>{class t{constructor(t,e){this.shoppingCart=t,this.fb=e,this.cartTotal=0,this.cartData=[]}ngOnInit(){this.cartData=this.getCartContent(),this.cartTotal=this.shoppingCart.getTotal()}ChangeQuantity(t,e){this.shoppingCart.changeQuantity(t,e),this.cartData=this.shoppingCart.get_shopping_cart_items(),this.updateTotal()}getCartContent(){return this.shoppingCart.get_shopping_cart_items()}updateTotal(){this.cartTotal=this.shoppingCart.getTotal()}removeProductFromCart(t){this.shoppingCart.removeEntireProduct(t),this.cartData=this.getCartContent(),this.updateTotal()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ju),r.Lb(Zc))},t.\u0275cmp=r.Fb({type:t,selectors:[["mg-cart"]],decls:7,vars:1,consts:[[1,"container"],[1,"text-center","my-5"],["routerLink","/",1,"button","fourth"],[4,"ngIf"],[1,"row"],[1,"col","my-4"],[1,"table"],[1,"table-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"border-0"],[2,"border","none"],[1,"col-md-12","d-flex","mb-5"],[1,"d-flex","w-100","justify-content-between","flex-sm-column","flex-md-row"],["routerLink","/checkout",1,"btn","btn-danger","btn-sm","order-1"],["routerLink","/",1,"btn","btn-success","btn-sm","order-0"],[1,"d-flex","align-items-center","justify-content-around"],["height","60",1,"order-1",3,"src","alt"],[1,"text-danger",2,"cursor","pointer"],[1,"fa","fa-trash",3,"click"],["id","decrease",1,"value-button",3,"click"],[1,"fa","fa-minus"],["type","number","id","number","readonly","",3,"value","max"],["id","increase",1,"value-button",3,"click"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h4"),r.oc(3,"Your Cart Is Empty"),r.Pb(),r.Qb(4,"button",2),r.oc(5,"GO TO SHOP"),r.Pb(),r.Pb(),r.nc(6,nl,32,2,"ng-container",3),r.Pb()),2&t&&(r.Ab(6),r.ec("ngIf",e.cartData.length))},directives:[Na,N,k,Ra],styles:[".decrease_quantity[_ngcontent-%COMP%], .increase_quantity[_ngcontent-%COMP%]{cursor:pointer}form[_ngcontent-%COMP%]{width:300px;margin:0 auto;text-align:center}.value-button[_ngcontent-%COMP%]{display:inline-block;border:1px solid #ddd;margin:0;width:40px;height:40px;vertical-align:middle;padding:10px 0 12px;text-align:center;background:#eee;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.value-button[_ngcontent-%COMP%]:hover{cursor:pointer}form[_ngcontent-%COMP%]   #decrease[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;background:red;color:#fff}form[_ngcontent-%COMP%]   #increase[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;background:green;color:#fff}input#number[_ngcontent-%COMP%]{text-align:center;border:1px solid #ddd;border-right:none;border-left:none;margin:0;width:40px;height:40px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]{border-right:1px solid #dee2e6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #dee2e6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:first-child{border-top:1px solid #dee2e6!important}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:nth-child(4), tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:nth-child(5){border-left:1px solid #dee2e6;border-right:1px solid #dee2e6;border-bottom:1px solid #dee2e6;font-weight:700;font-size:1.3rem;text-align:center}.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#fff;border:2px solid red;border-radius:.6em;display:flex;align-self:center}.button[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{font-size:1rem;padding:.5em 1.8em}.button[_ngcontent-%COMP%]{background-color:#b39d4e;border:2px solid #e74c3c;border-radius:.6em;color:#fff;display:block;margin:0 auto;text-decoration:none;text-align:center}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:hover{color:#fff;outline:0;border:3px solid #b39d4e}.fourth[_ngcontent-%COMP%]{border-color:#340100;color:#fff;background-image:linear-gradient(45deg,#340100 50%,transparent 0);background-position:100%;background-size:400%;transition:background .3s ease-in-out}.fourth[_ngcontent-%COMP%]:hover{background-position:0}"]}),t})();function il(){return t=>t.lift(new sl)}class sl{call(t,e){return e.subscribe(new ol(t))}}class ol extends Ct.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class al{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ul(t,this.compare,this.keySelector))}}class ul extends Ct.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var cl=n("pxpQ"),ll=n("spgP"),hl=n("Jgta"),fl=n("os0x"),dl=n("zIRd"),pl=n("q/0M"),gl=n("qOnz"),ml=function(t,e){return(ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function yl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bl,vl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_l=_l||{},wl=vl||self;function Ol(){}function El(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Cl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Tl="closure_uid_"+(1e9*Math.random()>>>0),Sl=0;function Il(t,e,n){return t.call.apply(t.bind,arguments)}function Pl(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function xl(t,e,n){return(xl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Il:Pl).apply(null,arguments)}function Al(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function kl(){return Date.now()}function jl(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Nl(){this.j=this.j,this.i=this.i}Nl.prototype.j=!1,Nl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Tl)&&t[Tl]||(t[Tl]=++Sl)}(this)},Nl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Rl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Dl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ml(t){return Array.prototype.concat.apply([],arguments)}function Ll(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ul(t){return/^[\s\xa0]*$/.test(t)}var Fl,Vl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ql(t,e){return-1!=t.indexOf(e)}function Ql(t,e){return t<e?-1:t>e?1:0}t:{var Hl=wl.navigator;if(Hl){var zl=Hl.userAgent;if(zl){Fl=zl;break t}}Fl=""}function Bl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $l(t){var e={};for(var n in t)e[n]=t[n];return e}var Gl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Gl.length;s++)n=Gl[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kl(t){return Kl[" "](t),t}Kl[" "]=Ol;var Jl,Xl,Yl=ql(Fl,"Opera"),Zl=ql(Fl,"Trident")||ql(Fl,"MSIE"),th=ql(Fl,"Edge"),eh=th||Zl,nh=ql(Fl,"Gecko")&&!(ql(Fl.toLowerCase(),"webkit")&&!ql(Fl,"Edge"))&&!(ql(Fl,"Trident")||ql(Fl,"MSIE"))&&!ql(Fl,"Edge"),rh=ql(Fl.toLowerCase(),"webkit")&&!ql(Fl,"Edge");function ih(){var t=wl.document;return t?t.documentMode:void 0}t:{var sh="",oh=(Xl=Fl,nh?/rv:([^\);]+)(\)|;)/.exec(Xl):th?/Edge\/([\d\.]+)/.exec(Xl):Zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xl):rh?/WebKit\/(\S+)/.exec(Xl):Yl?/(?:Version)[ \/]?(\S+)/.exec(Xl):void 0);if(oh&&(sh=oh?oh[1]:""),Zl){var ah=ih();if(null!=ah&&ah>parseFloat(sh)){Jl=String(ah);break t}}Jl=sh}var uh={};function ch(t){return function(t,e){var n=uh;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Vl(String(Jl)).split("."),r=Vl(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ql(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ql(0==o[2].length,0==a[2].length)||Ql(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var lh=wl.document&&Zl&&(ih()||parseInt(Jl,10))||void 0,hh=!Zl||9<=Number(lh),fh=Zl&&!ch("9"),dh=function(){if(!wl.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wl.addEventListener("test",Ol,e),wl.removeEventListener("test",Ol,e)}catch(n){}return t}();function ph(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function gh(t,e){if(ph.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(nh){t:{try{Kl(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mh[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ph.prototype.b=function(){this.defaultPrevented=!0},jl(gh,ph);var mh={2:"touch",3:"pen",4:"mouse"};gh.prototype.b=function(){gh.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,fh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var yh="closure_listenable_"+(1e6*Math.random()|0),bh=0;function vh(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++bh,this.Y=this.Z=!1}function _h(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function wh(t){this.src=t,this.a={},this.b=0}function Oh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Rl(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_h(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Eh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}wh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Eh(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new vh(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ch="closure_lm_"+(1e6*Math.random()|0),Th={};function Sh(t,e,n,r,i){if(r&&r.once)return Ph(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sh(t,e[s],n,r,i);return null}return n=Mh(n),t&&t[yh]?t.va(e,n,Cl(r)?!!r.capture:!!r,i):Ih(t,e,n,!1,r,i)}function Ih(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cl(i)?!!i.capture:!!i;if(o&&!hh)return null;var a=Rh(t);if(a||(t[Ch]=a=new wh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Nh,e=hh?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dh||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kh(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ph(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ph(t,e[s],n,r,i);return null}return n=Mh(n),t&&t[yh]?t.wa(e,n,Cl(r)?!!r.capture:!!r,i):Ih(t,e,n,!0,r,i)}function xh(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xh(t,e[s],n,r,i);else r=Cl(r)?!!r.capture:!!r,n=Mh(n),t&&t[yh]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Eh(s=t.a[e],n,r,i))&&(_h(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Rh(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Eh(e,n,r,i)),(n=-1<t?e[t]:null)&&Ah(n))}function Ah(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[yh])Oh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rh(e))?(Oh(n,t),0==n.b&&(n.src=null,e[Ch]=null)):_h(t)}}}function kh(t){return t in Th?Th[t]:Th[t]="on"+t}function jh(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ah(t),n.call(r,e)}function Nh(t,e){if(t.Y)return!0;if(!hh){if(!e)t:{e=["window","event"];for(var n=wl,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return jh(t,e=new gh(e,this))}return jh(t,new gh(e,this))}function Rh(t){return(t=t[Ch])instanceof wh?t:null}var Dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mh(t){return"function"==typeof t?t:(t[Dh]||(t[Dh]=function(e){return t.handleEvent(e)}),t[Dh])}function Lh(){Nl.call(this),this.c=new wh(this),this.J=this,this.C=null}function Uh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ph(e,t);else if(e instanceof ph)e.target=e.target||t;else{var i=e;Wl(e=new ph(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Fh(o,r,!0,e)&&i}if(i=Fh(o=e.a=t,r,!0,e)&&i,i=Fh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Fh(o=e.a=n[s],r,!1,e)&&i}function Fh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Oh(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}jl(Lh,Nl),Lh.prototype[yh]=!0,(bl=Lh.prototype).addEventListener=function(t,e,n,r){Sh(this,t,e,n,r)},bl.removeEventListener=function(t,e,n,r){xh(this,t,e,n,r)},bl.G=function(){if(Lh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_h(n[r]);delete e.a[t],e.b--}}this.C=null},bl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},bl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vh=wl.JSON.stringify;function qh(){this.b=this.a=null}var Qh,Hh=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Bh},function(t){t.reset()});function zh(){var t=Kh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Bh(){this.next=this.b=this.a=null}function $h(t){wl.setTimeout(function(){throw t},0)}function Gh(t,e){Qh||function(){var t=wl.Promise.resolve(void 0);Qh=function(){t.then(Jh)}}(),Wh||(Qh(),Wh=!0),Kh.add(t,e)}qh.prototype.add=function(t,e){var n=Hh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Bh.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Bh.prototype.reset=function(){this.next=this.b=this.a=null};var Wh=!1,Kh=new qh;function Jh(){for(var t;t=zh();){try{t.a.call(t.b)}catch(n){$h(n)}var e=Hh;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wh=!1}function Xh(t,e){Lh.call(this),this.b=t||1,this.a=e||wl,this.f=xl(this.Za,this),this.g=kl()}function Yh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Zh(t,e,n){if("function"==typeof t)n&&(t=xl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xl(t.handleEvent,t)}return 2147483647<Number(e)?-1:wl.setTimeout(t,e||0)}function tf(t){t.a=Zh(function(){t.a=null,t.c&&(t.c=!1,tf(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}jl(Xh,Lh),(bl=Xh.prototype).aa=!1,bl.M=null,bl.Za=function(){if(this.aa){var t=kl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Uh(this,"tick"),this.aa&&(Yh(this),this.start()))}},bl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=kl())},bl.G=function(){Xh.X.G.call(this),Yh(this),delete this.a};var ef=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:tf(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wl.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Nl);function nf(t){Nl.call(this),this.b=t,this.a={}}jl(nf,Nl);var rf=[];function sf(t,e,n,r){Array.isArray(n)||(n&&(rf[0]=n.toString()),n=rf);for(var i=0;i<n.length;i++){var s=Sh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function of(t){Bl(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ah(t)},t),t.a={}}function af(){this.a=!0}function uf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Vh(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}nf.prototype.G=function(){nf.X.G.call(this),of(this)},nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},af.prototype.info=function(){};var cf={},lf=null;function hf(){return lf=lf||new Lh}function ff(t){ph.call(this,cf.Fa,t)}function df(t){var e=hf();Uh(e,new ff(e,t))}function pf(t,e){ph.call(this,cf.STAT_EVENT,t),this.stat=e}function gf(t){var e=hf();Uh(e,new pf(e,t))}function mf(t){ph.call(this,cf.Ga,t)}function yf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wl.setTimeout(function(){t()},e)}cf.Fa="serverreachability",jl(ff,ph),cf.STAT_EVENT="statevent",jl(pf,ph),cf.Ga="timingevent",jl(mf,ph);var bf={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vf={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _f(){}function wf(){}_f.prototype.a=null;var Of,Ef={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Cf(){ph.call(this,"d")}function Tf(){ph.call(this,"c")}function Sf(){}function If(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nf(this),this.P=Pf,this.R=new Xh(t=eh?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}jl(Cf,ph),jl(Tf,ph),jl(Sf,_f),Of=new Sf;var Pf=45e3,xf={},Af={};function kf(t,e,n){t.H=1,t.i=Zf(Gf(e)),t.j=n,t.I=!0,jf(t,null)}function jf(t,e){t.u=kl(),Df(t),t.l=Gf(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),fd(n.b,"t",r),t.D=0,t.a=op(t.g,t.g.C?e:null),0<t.O&&(t.F=new ef(xl(t.Ca,t,t.a),t.O)),sf(t.J,t.a,"readystatechange",t.Xa),e=t.B?$l(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),df(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Rf(t,n);if(i==Af){4==e&&(t.h=4,gf(14),r=!1),uf(t.c,t.f,null,"[Incomplete Response]");break}if(i==xf){t.h=4,gf(15),uf(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uf(t.c,t.f,i,null),Vf(t,i)}4==e&&0==n.length&&(t.h=1,gf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yd(e),e.F=!0,gf(11))):(uf(t.c,t.f,n,"[Invalid Chunked Response]"),Ff(t),Uf(t))}function Rf(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Af:(n=Number(e.substring(n,r)),isNaN(n)?xf:(r+=1)+n>e.length?Af:(e=e.substr(r,n),t.D=r+n,e))}function Df(t){t.T=kl()+t.P,Mf(t,t.P)}function Mf(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=yf(xl(t.Va,t),e)}function Lf(t){t.o&&(wl.clearTimeout(t.o),t.o=null)}function Uf(t){0==t.g.v||t.A||ep(t.g,t)}function Ff(t){Lf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Yh(t.R),of(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vd(n.b,t)))if(n.I=t.N,!t.C&&vd(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(WE){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tp(n),Hd(n)}Xd(n),gf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=yf(xl(n.Sa,n),6e3));if(1>=bd(n.b)&&n.ea){try{n.ea()}catch(WE){}n.ea=void 0}}else rp(n,11)}else if((t.C||n.a==t)&&tp(n),!Ul(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ql(l,"spdy")||ql(l,"quic")||ql(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_d(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Yf(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=kl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=sp(u,u.C?u.ga:null,u.fa),d.C){wd(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Lf(p),Df(p)),u.a=d}else Jd(u);0<n.g.length&&$d(n)}else"stop"!=i[0]&&"close"!=i[0]||rp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rp(n,7):Qd(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);df(4)}catch(WE){}}function qf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(El(t)||"string"==typeof t)Dl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(El(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(El(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Qf(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qf)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hf(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)zf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(bl=If.prototype).setTimeout=function(t){this.P=t},bl.Xa=function(t){t=t.target;var e=this.F;e&&3==Ud(t)?e.f():this.Ca(t)},bl.Ca=function(t){try{if(t==this.a)t:{var e=Ud(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!eh&&!this.a.$())){this.A||4!=e||7==n||df(8==n||0>=r?3:2),Lf(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ul(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,gf(12),Ff(this),Uf(this);break t}uf(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vf(this,u)}this.I?(Nf(this,e,s),eh&&this.b&&3==e&&(sf(this.J,this.R,"tick",this.Wa),this.R.start())):(uf(this.c,this.f,s,null),Vf(this,s)),4==e&&Ff(this),this.b&&!this.A&&(4==e?ep(this.g,this):(this.b=!1,Df(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,gf(12)):(this.h=0,gf(13)),Ff(this),Uf(this)}}}catch(c){}},bl.Wa=function(){if(this.a){var t=Ud(this.a),e=this.a.$();this.D<e.length&&(Lf(this),Nf(this,t,e),this.b&&4!=t&&Df(this))}},bl.cancel=function(){this.A=!0,Ff(this)},bl.Va=function(){this.o=null;var t=kl();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(df(3),gf(17)),Ff(this),this.h=2,Uf(this)):Mf(this,this.T-t)},(bl=Qf.prototype).K=function(){Hf(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},bl.L=function(){return Hf(this),this.a.concat()},bl.get=function(t,e){return zf(this.b,t)?this.b[t]:e},bl.set=function(t,e){zf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},bl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Bf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $f(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof $f){this.a=void 0!==e?e:t.a,Wf(this,t.f),this.j=t.j,Kf(this,t.c),Jf(this,t.h),this.g=t.g,e=t.b;var n=new ud;n.c=e.c,e.a&&(n.a=new Qf(e.a),n.b=e.b),Xf(this,n),this.i=t.i}else t&&(n=String(t).match(Bf))?(this.a=!!e,Wf(this,n[1]||"",!0),this.j=td(n[2]||""),Kf(this,n[3]||"",!0),Jf(this,n[4]),this.g=td(n[5]||"",!0),Xf(this,n[6]||"",!0),this.i=td(n[7]||"")):(this.a=!!e,this.b=new ud(null,this.a))}function Gf(t){return new $f(t)}function Wf(t,e,n){t.f=n?td(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Kf(t,e,n){t.c=n?td(e,!0):e}function Jf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xf(t,e,n){e instanceof ud?(t.b=e,function(t,e){e&&!t.f&&(cd(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ld(this,e),fd(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ed(e,od)),t.b=new ud(e,t.a))}function Yf(t,e,n){t.b.set(e,n)}function Zf(t){return Yf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^kl()).toString(36)),t}function td(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ed(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$f.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ed(e,rd,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ed(e,rd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ed(n,"/"==n.charAt(0)?sd:id,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ed(n,ad)),t.join("")};var rd=/[#\/\?@]/g,id=/[#\?:]/g,sd=/[#\?]/g,od=/[#\?@]/g,ad=/#/g;function ud(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cd(t){t.a||(t.a=new Qf,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ld(t,e){cd(t),e=dd(t,e),zf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,zf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hf(t)))}function hd(t,e){return cd(t),e=dd(t,e),zf(t.a.b,e)}function fd(t,e,n){ld(t,e),0<n.length&&(t.c=null,t.a.set(dd(t,e),Ll(n)),t.b+=n.length)}function dd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(bl=ud.prototype).add=function(t,e){cd(this),this.c=null,t=dd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},bl.forEach=function(t,e){cd(this),this.a.forEach(function(n,r){Dl(n,function(n){t.call(e,n,r,this)},this)},this)},bl.L=function(){cd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},bl.K=function(t){cd(this);var e=[];if("string"==typeof t)hd(this,t)&&(e=Ml(e,this.a.get(dd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ml(e,t[n])}return e},bl.set=function(t,e){return cd(this),this.c=null,hd(this,t=dd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},bl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},bl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var pd=function(){return function(t,e){this.b=t,this.a=e}}();function gd(t){this.g=t||md,t=wl.PerformanceNavigationTiming?0<(t=wl.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wl.ia&&wl.ia.ya&&wl.ia.ya()&&wl.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var md=10;function yd(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bd(t){return t.b?1:t.a?t.a.size:0}function vd(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _d(t,e){t.a?t.a.add(e):t.b=e}function wd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Od(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=yl(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ll(t.c)}function Ed(){}function Cd(){this.a=new Ed}function Td(t,e,n){var r=n||"";try{qf(t,function(t,n){var i=t;Cl(t)&&(i=Vh(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}gd.prototype.cancel=function(){var t,e;if(this.c=Od(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=yl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ed.prototype.stringify=function(t){return wl.JSON.stringify(t,void 0)},Ed.prototype.parse=function(t){return wl.JSON.parse(t,void 0)};var Id=wl.JSON.parse;function Pd(t){Lh.call(this),this.headers=new Qf,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xd,this.D=this.F=!1}jl(Pd,Lh);var xd="",Ad=/^https?$/i,kd=["POST","PUT"];function jd(t){return"content-type"==t.toLowerCase()}function Nd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Rd(t),Md(t)}function Rd(t){t.u||(t.u=!0,Uh(t,"complete"),Uh(t,"error"))}function Dd(t){if(t.b&&void 0!==_l&&(!t.s[1]||4!=Ud(t)||2!=t.W()))if(t.l&&4==Ud(t))Zh(t.za,0,t);else if(Uh(t,"readystatechange"),4==Ud(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Bf)[1]||null;if(!s&&wl.self&&wl.self.location){var o=wl.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ad.test(s?s.toLowerCase():"")}e=i}if(e)Uh(t,"complete"),Uh(t,"success");else{t.h=6;try{var a=2<Ud(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Rd(t)}}finally{Md(t)}}}function Md(t,e){if(t.a){Ld(t);var n=t.a,r=t.s[0]?Ol:null;t.a=null,t.s=null,e||Uh(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ld(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wl.clearTimeout(t.m),t.m=null)}function Ud(t){return t.a?t.a.readyState:0}function Fd(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Bl(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yf(t,e,n))}function Vd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qd(t){this.pa=0,this.g=[],this.c=new af,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vd("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vd("baseRetryDelayMs",5e3,t),this.Ra=Vd("retryDelaySeedMs",1e4,t),this.Ma=Vd("forwardChannelMaxRetries",2,t),this.ma=Vd("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gd(t&&t.concurrentRequestLimit),this.ka=new Cd,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qd(t){if(zd(t),3==t.v){var e=t.R++,n=Gf(t.B);Yf(n,"SID",t.J),Yf(n,"RID",e),Yf(n,"TYPE","terminate"),Wd(t,n),(e=new If(t,t.c,e,void 0)).H=2,e.i=Zf(Gf(n)),n=!1,wl.navigator&&wl.navigator.sendBeacon&&(n=wl.navigator.sendBeacon(e.i.toString(),"")),!n&&wl.Image&&((new Image).src=e.i,n=!0),n||(e.a=op(e.g,null),e.a.ba(e.i)),e.u=kl(),Df(e)}ip(t)}function Hd(t){t.a&&(Yd(t),t.a.cancel(),t.a=null)}function zd(t){Hd(t),t.j&&(wl.clearTimeout(t.j),t.j=null),tp(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wl.clearTimeout(t.h),t.h=null)}function Bd(t,e){t.g.push(new pd(t.Oa++,e)),3==t.v&&$d(t)}function $d(t){yd(t.b)||t.h||(t.h=!0,Gh(t.Ba,t),t.u=0)}function Gd(t,e){var n;n=e?e.f:t.R++;var r=Gf(t.B);Yf(r,"SID",t.J),Yf(r,"RID",n),Yf(r,"AID",t.P),Wd(t,r),t.i&&t.l&&Fd(r,t.i,t.l),n=new If(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Kd(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_d(t.b,n),kf(n,r,e)}function Wd(t,e){t.f&&qf({},function(t,n){Yf(e,n,t)})}function Kd(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xl(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Td(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Jd(t){t.a||t.j||(t.T=1,Gh(t.Aa,t),t.o=0)}function Xd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=yf(xl(t.Aa,t),np(t,t.o)),t.o++,0))}function Yd(t){null!=t.s&&(wl.clearTimeout(t.s),t.s=null)}function Zd(t){t.a=new If(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gf(t.la);Yf(e,"RID","rpc"),Yf(e,"SID",t.J),Yf(e,"CI",t.H?"0":"1"),Yf(e,"AID",t.P),Wd(t,e),Yf(e,"TYPE","xmlhttp"),t.i&&t.l&&Fd(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zf(Gf(e)),n.j=null,n.I=!0,jf(n,t)}function tp(t){null!=t.m&&(wl.clearTimeout(t.m),t.m=null)}function ep(t,e){var n=null;if(t.a==e){tp(t),Yd(t),t.a=null;var r=2}else{if(!vd(t.b,e))return;n=e.s,wd(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=kl()-e.u;var i=t.u;Uh(r=hf(),new mf(r,n,e,i)),$d(t)}else Jd(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bd(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=yf(xl(t.Ba,t,e),np(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rp(t,5);break;case 4:rp(t,10);break;case 3:rp(t,6);break;default:rp(t,2)}}function np(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rp(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=xl(t.Ya,t);n||(n=new $f("//www.google.com/images/cleardot.gif"),wl.location&&"http"==wl.location.protocol||Wf(n,"https"),Zf(n)),function(t,e){var n=new af;if(wl.Image){var r=new Image;r.onload=Al(Sd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Al(Sd,n,r,"TestLoadImage: error",!1,e),r.onabort=Al(Sd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Al(Sd,n,r,"TestLoadImage: timeout",!1,e),wl.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gf(2);t.v=0,t.f&&t.f.ra(e),ip(t),zd(t)}function ip(t){t.v=0,t.I=-1,t.f&&(0==Od(t.b).length&&0==t.g.length||(t.b.c.length=0,Ll(t.g),t.g.length=0),t.f.qa())}function sp(t,e,n){var r=function(t){return t instanceof $f?Gf(t):new $f(t,void 0)}(n);if(""!=r.c)e&&Kf(r,e+"."+r.c),Jf(r,r.h);else{var i=wl.location;r=function(t,e,n,r){var i=new $f(null,void 0);return t&&Wf(i,t),e&&Kf(i,e),n&&Jf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Bl(t.V,function(t,e){Yf(r,e,t)}),n=t.na,(e=t.A)&&n&&Yf(r,e,n),Yf(r,"VER",t.ha),Wd(t,r),r}function op(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pd(t.Na)).F=t.C,e}function ap(){}function up(){if(Zl&&!(10<=Number(lh)))throw Error("Environmental error: no available transport.")}function cp(t,e){Lh.call(this),this.a=new qd(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ul(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ul(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fp(this)}function lp(t){Cf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hp(){Tf.call(this),this.status=1}function fp(t){this.a=t}(bl=Pd.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Of),this.a.onreadystatechange=xl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Nd(this,s)}t=n||"";var i=new Qf(this.headers);r&&qf(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=jd,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wl.FormData&&t instanceof wl.FormData,!(0<=Rl(kd,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ld(this),0<this.o&&((this.D=function(t){return Zl&&ch(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xl(this.xa,this)):this.m=Zh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Nd(this,s)}},bl.xa=function(){void 0!==_l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Uh(this,"timeout"),this.abort(8))},bl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Uh(this,"complete"),Uh(this,"abort"),Md(this))},bl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Md(this,!0)),Pd.X.G.call(this)},bl.za=function(){this.j||(this.A||this.l||this.g?Dd(this):this.Ua())},bl.Ua=function(){Dd(this)},bl.W=function(){try{return 2<Ud(this)?this.a.status:-1}catch(Xl){return-1}},bl.$=function(){try{return this.a?this.a.responseText:""}catch(Xl){return""}},bl.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Id(e)}},bl.ua=function(){return this.h},bl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(bl=qd.prototype).ha=8,bl.v=1,bl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new If(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Wl(r=$l(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Kd(this,n,e),Yf(i=Gf(this.B),"RID",t),Yf(i,"CVER",22),this.A&&Yf(i,"X-HTTP-Session-Id",this.A),Wd(this,i),this.i&&r&&Fd(i,this.i,r),_d(this.b,n),this.Ia&&Yf(i,"TYPE","init"),this.da?(Yf(i,"$req",e),Yf(i,"SID","null"),n.U=!0,kf(n,i,null)):kf(n,i,e),this.v=2}}else 3==this.v&&(t?Gd(this,t):0==this.g.length||yd(this.b)||Gd(this))},bl.Aa=function(){if(this.j=null,Zd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=yf(xl(this.Ta,this),t)}},bl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,gf(10),Hd(this),Zd(this))},bl.Sa=function(){null!=this.m&&(this.m=null,Hd(this),Xd(this),gf(19))},bl.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),gf(2)):(this.c.info("Failed to ping google.com"),gf(1))},(bl=ap.prototype).ta=function(){},bl.sa=function(){},bl.ra=function(){},bl.qa=function(){},bl.Ja=function(){},up.prototype.a=function(t,e){return new cp(t,e)},jl(cp,Lh),cp.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;gf(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=sp(t,null,t.fa),$d(t)},cp.prototype.close=function(){Qd(this.a)},cp.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Bd(this.a,e)}else this.l?((e={}).__data__=Vh(t),Bd(this.a,e)):Bd(this.a,t)},cp.prototype.G=function(){this.a.f=null,delete this.f,Qd(this.a),delete this.a,cp.X.G.call(this)},jl(lp,Cf),jl(hp,Tf),jl(fp,ap),fp.prototype.ta=function(){Uh(this.a,"a")},fp.prototype.sa=function(t){Uh(this.a,new lp(t))},fp.prototype.ra=function(t){Uh(this.a,new hp(t))},fp.prototype.qa=function(){Uh(this.a,"b")},up.prototype.createWebChannel=up.prototype.a,cp.prototype.send=cp.prototype.h,cp.prototype.open=cp.prototype.g,cp.prototype.close=cp.prototype.close,bf.NO_ERROR=0,bf.TIMEOUT=8,bf.HTTP_ERROR=6,vf.COMPLETE="complete",wf.EventType=Ef,Ef.OPEN="a",Ef.CLOSE="b",Ef.ERROR="c",Ef.MESSAGE="d",Lh.prototype.listen=Lh.prototype.va,Pd.prototype.listenOnce=Pd.prototype.wa,Pd.prototype.getLastError=Pd.prototype.Qa,Pd.prototype.getLastErrorCode=Pd.prototype.ua,Pd.prototype.getStatus=Pd.prototype.W,Pd.prototype.getResponseJson=Pd.prototype.Pa,Pd.prototype.getResponseText=Pd.prototype.$,Pd.prototype.send=Pd.prototype.ba;var dp=bf,pp=vf,gp=cf,mp=wf,yp=Pd,bp=n("/6Yf"),vp=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},_p=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),wp=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();wp.UNAUTHENTICATED=new wp(null),wp.l=new wp("google-credentials-uid"),wp._=new wp("first-party-uid");var Op=new pl.b("@firebase/firestore");function Ep(){return Op.logLevel}function Cp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Op.logLevel<=pl.a.DEBUG){var r=e.map(Ip);Op.debug.apply(Op,Object(fl.g)(["Firestore (8.1.1): "+t],r))}}function Tp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Op.logLevel<=pl.a.ERROR){var r=e.map(Ip);Op.error.apply(Op,Object(fl.g)(["Firestore (8.1.1): "+t],r))}}function Sp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Op.logLevel<=pl.a.WARN){var r=e.map(Ip);Op.warn.apply(Op,Object(fl.g)(["Firestore (8.1.1): "+t],r))}}function Ip(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Pp(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function xp(t,e){t||Pp()}function Ap(t,e){return t}var kp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fl.c)(e,t),e}(Error),Np=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Rp=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(wp.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Dp=function(){function t(t){var e=this;this.P=null,this.currentUser=wp.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(Cp("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xp("string"==typeof n.accessToken),new Np(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return xp(null===t||"string"==typeof t),new wp(t)},t}(),Mp=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=wp._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Lp=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Mp(this.v,this.S))},t.prototype.A=function(t){t(wp._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Up(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fp=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Up(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Vp(t,e){return t<e?-1:t>e?1:0}function qp(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Qp(t){return t+"\0"}var Hp=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jp(kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jp(kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jp(kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jp(kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Vp(this.nanoseconds,t.nanoseconds):Vp(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zp=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Hp(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Bp=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Pp(),void 0===n?n=t.length-e:n>t.length-e&&Pp(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new jp(kp.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(Bp),Gp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Gp.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new jp(kp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new jp(kp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jp(kp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new jp(kp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Bp),Kp=function(){function t(t){this.path=t}return t.st=function(e){return new t($p.Y(e))},t.it=function(e){return new t($p.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$p.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return $p.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new $p(e.slice()))},t}();function Jp(t){return null==t}function Xp(t){return 0===t&&1/t==-1/0}function Yp(t){return"number"==typeof t&&Number.isInteger(t)&&!Xp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Zp=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function tg(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Zp(t,e,n,r,i,s,o)}function eg(t){var e=Ap(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+Jg(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Yy(e.startAt)),e.endAt&&(n+="|ub:",n+=Yy(e.endAt)),e.ut=n}return e.ut}function ng(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!rb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!$g(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tb(t.startAt,e.startAt)&&tb(t.endAt,e.endAt)}function rg(t){return Kp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ig=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Vp(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();ig.lt=new ig("");var sg,og,ag=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=zp.min()),void 0===s&&(s=zp.min()),void 0===o&&(o=ig.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),ug=function(t){this.count=t};function cg(t){switch(t){case kp.OK:return Pp();case kp.CANCELLED:case kp.UNKNOWN:case kp.DEADLINE_EXCEEDED:case kp.RESOURCE_EXHAUSTED:case kp.INTERNAL:case kp.UNAVAILABLE:case kp.UNAUTHENTICATED:return!1;case kp.INVALID_ARGUMENT:case kp.NOT_FOUND:case kp.ALREADY_EXISTS:case kp.PERMISSION_DENIED:case kp.FAILED_PRECONDITION:case kp.ABORTED:case kp.OUT_OF_RANGE:case kp.UNIMPLEMENTED:case kp.DATA_LOSS:return!0;default:return Pp()}}function lg(t){if(void 0===t)return Tp("GRPC error has no .code"),kp.UNKNOWN;switch(t){case sg.OK:return kp.OK;case sg.CANCELLED:return kp.CANCELLED;case sg.UNKNOWN:return kp.UNKNOWN;case sg.DEADLINE_EXCEEDED:return kp.DEADLINE_EXCEEDED;case sg.RESOURCE_EXHAUSTED:return kp.RESOURCE_EXHAUSTED;case sg.INTERNAL:return kp.INTERNAL;case sg.UNAVAILABLE:return kp.UNAVAILABLE;case sg.UNAUTHENTICATED:return kp.UNAUTHENTICATED;case sg.INVALID_ARGUMENT:return kp.INVALID_ARGUMENT;case sg.NOT_FOUND:return kp.NOT_FOUND;case sg.ALREADY_EXISTS:return kp.ALREADY_EXISTS;case sg.PERMISSION_DENIED:return kp.PERMISSION_DENIED;case sg.FAILED_PRECONDITION:return kp.FAILED_PRECONDITION;case sg.ABORTED:return kp.ABORTED;case sg.OUT_OF_RANGE:return kp.OUT_OF_RANGE;case sg.UNIMPLEMENTED:return kp.UNIMPLEMENTED;case sg.DATA_LOSS:return kp.DATA_LOSS;default:return Pp()}}(og=sg||(sg={}))[og.OK=0]="OK",og[og.CANCELLED=1]="CANCELLED",og[og.UNKNOWN=2]="UNKNOWN",og[og.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",og[og.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",og[og.NOT_FOUND=5]="NOT_FOUND",og[og.ALREADY_EXISTS=6]="ALREADY_EXISTS",og[og.PERMISSION_DENIED=7]="PERMISSION_DENIED",og[og.UNAUTHENTICATED=16]="UNAUTHENTICATED",og[og.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",og[og.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",og[og.ABORTED=10]="ABORTED",og[og.OUT_OF_RANGE=11]="OUT_OF_RANGE",og[og.UNIMPLEMENTED=12]="UNIMPLEMENTED",og[og.INTERNAL=13]="INTERNAL",og[og.UNAVAILABLE=14]="UNAVAILABLE",og[og.DATA_LOSS=15]="DATA_LOSS";var hg=function(){function t(t,e){this.$=t,this.root=e||dg.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,dg.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,dg.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new fg(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new fg(this.root,t,this.$,!1)},t.prototype.vt=function(){return new fg(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new fg(this.root,t,this.$,!0)},t}(),fg=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),dg=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Pp();if(this.right.Mt())throw Pp();var t=this.left.Qt();if(t!==this.right.Qt())throw Pp();return t+(this.Mt()?0:1)},t}();dg.EMPTY=null,dg.RED=!0,dg.It=!1,dg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Pp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Pp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Pp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Pp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Pp()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new dg(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var pg=function(){function t(t){this.$=t,this.data=new hg(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new gg(this.data.yt())},t.prototype.Vt=function(t){return new gg(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),gg=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),mg=new hg(Kp.$);function yg(){return mg}function bg(){return yg()}var vg=new hg(Kp.$);function _g(){return vg}var wg=new hg(Kp.$),Og=new pg(Kp.$);function Eg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Og,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Cg=new pg(Vp);function Tg(){return Cg}var Sg=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Kp.$(e.key,n.key)}:function(t,e){return Kp.$(t.key,e.key)},this.Ht=_g(),this.Jt=new hg(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Ig=function(){function t(){this.Xt=new hg(Kp.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Pp():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Pg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Sg.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Ly(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xg=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Ag.he(e,n)),new t(zp.min(),r,Tg(),yg(),Eg())},t}(),Ag=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(ig.lt,n,Eg(),Eg(),Eg())},t}(),kg=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},jg=function(t,e){this.targetId=t,this.Te=e},Ng=function(t,e,n,r){void 0===n&&(n=ig.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Rg=function(){function t(){this.Ie=0,this.me=Lg(),this.Ae=ig.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Eg(),e=Eg(),n=Eg();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pp()}}),new Ag(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Lg()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Dg=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=yg(),this.Me=Mg(),this.ke=new pg(Vp)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Ey?this.Le(r,t.Ee):t.Ee instanceof Cy&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Pp()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(rg(i))if(0===n){var s=new Kp(i.path);this.Be(e,s,new Cy(s,zp.min()))}else xp(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&rg(s.target)){var o=new Kp(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Cy(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Eg();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xg(t,n,this.ke,this.Oe,r);return this.Oe=yg(),this.Me=Mg(),this.ke=new pg(Vp),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Rg,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new pg(Vp),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Cp("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Rg),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Mg(){return new hg(Kp.$)}function Lg(){return new hg(Kp.$)}function Ug(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qg(t){var e=t.mapValue.fields.__previous_value__;return qg(e)?Qg(e):e}function Hg(t){var e=Yg(t.mapValue.fields.__local_write_time__.timestampValue);return new Hp(e.seconds,e.nanos)}var zg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:10:Pp()}function $g(t,e){var n=Bg(t);if(n!==Bg(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hg(t).isEqual(Hg(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yg(t.timestampValue),r=Yg(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tm(t.bytesValue).isEqual(tm(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zg(t.geoPointValue.latitude)===Zg(e.geoPointValue.latitude)&&Zg(t.geoPointValue.longitude)===Zg(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zg(t.integerValue)===Zg(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zg(t.doubleValue),r=Zg(e.doubleValue);return n===r?Xp(n)===Xp(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qp(t.arrayValue.values||[],e.arrayValue.values||[],$g);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ug(n)!==Ug(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$g(n[i],r[i])))return!1;return!0}(t,e);default:return Pp()}}function Gg(t,e){return void 0!==(t.values||[]).find(function(t){return $g(t,e)})}function Wg(t,e){var n=Bg(t),r=Bg(e);if(n!==r)return Vp(n,r);switch(n){case 0:return 0;case 1:return Vp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zg(t.integerValue||t.doubleValue),r=Zg(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Kg(t.timestampValue,e.timestampValue);case 4:return Kg(Hg(t),Hg(e));case 5:return Vp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tm(t),r=tm(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Vp(n[i],r[i]);if(0!==s)return s}return Vp(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Vp(Zg(t.latitude),Zg(e.latitude));return 0!==n?n:Vp(Zg(t.longitude),Zg(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Wg(n[i],r[i]);if(s)return s}return Vp(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Vp(r[o],s[o]);if(0!==a)return a;var u=Wg(n[r[o]],i[s[o]]);if(0!==u)return u}return Vp(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Pp()}}function Kg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Vp(t,e);var n=Yg(t),r=Yg(e),i=Vp(n.seconds,r.seconds);return 0!==i?i:Vp(n.nanos,r.nanos)}function Jg(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Yg(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tm(t.bytesValue).toBase64():"referenceValue"in t?Kp.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Xg(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Xg(t.fields[s])}return e+"}"}(t.mapValue):Pp();var e}function Yg(t){if(xp(!!t),"string"==typeof t){var e=0,n=zg.exec(t);if(xp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zg(t.seconds),nanos:Zg(t.nanos)}}function Zg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tm(t){return"string"==typeof t?ig.fromBase64String(t):ig.fromUint8Array(t)}function em(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function nm(t){return!!t&&"integerValue"in t}function rm(t){return!!t&&"arrayValue"in t}function im(t){return!!t&&"nullValue"in t}function sm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function om(t){return!!t&&"mapValue"in t}var am={asc:"ASCENDING",desc:"DESCENDING"},um={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cm=function(t,e){this.t=t,this.tn=e};function lm(t){return{integerValue:""+t}}function hm(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function fm(t,e){return Yp(e)?lm(e):hm(t,e)}function dm(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function pm(t,e){return t.tn?e.toBase64():e.toUint8Array()}function gm(t,e){return dm(t,e.M())}function mm(t){return xp(!!t),zp.N(function(t){var e=Yg(t);return new Hp(e.seconds,e.nanos)}(t))}function ym(t,e){return function(t){return new $p(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function bm(t){var e=$p.Y(t);return xp(qm(e)),e}function vm(t,e){return ym(t.t,e.path)}function _m(t,e){var n=bm(e);if(n.get(1)!==t.t.projectId)throw new jp(kp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new jp(kp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Kp(Cm(n))}function wm(t,e){return ym(t.t,e)}function Om(t){var e=bm(t);return 4===e.length?$p.X():Cm(e)}function Em(t){return new $p(["projects",t.t.projectId,"databases",t.t.database]).J()}function Cm(t){return xp(t.length>4&&"documents"===t.get(4)),t.B(5)}function Tm(t,e,n){return{name:vm(t,e),fields:n.proto.mapValue.fields}}function Sm(t,e){var n;if(e instanceof hy)n={update:Tm(t,e.key,e.value)};else if(e instanceof yy)n={delete:vm(t,e.key)};else if(e instanceof fy)n={update:Tm(t,e.key,e.data),updateMask:Vm(e.en)};else if(e instanceof py)n={transform:{document:vm(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $m)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gm)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Km)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Xm)return{fieldPath:e.field.J(),increment:n.nn};throw Pp()}(0,t)})}};else{if(!(e instanceof by))return Pp();n={verify:vm(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:gm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Pp()}(t,e.rn)),n}function Im(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ry.updateTime(mm(t.updateTime)):void 0!==t.exists?ry.exists(t.exists):ry.on()}(e.currentDocument):ry.on();if(e.update){var r=_m(t,e.update.name),i=new vy({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ty((t.fieldPaths||[]).map(function(t){return Wp.nt(t)}))}(e.updateMask);return new fy(r,i,s,n)}return new hy(r,i,n)}if(e.delete){var o=_m(t,e.delete);return new yy(o,n)}if(e.transform){var a=_m(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xp("REQUEST_TIME"===e.setToServerValue),n=new $m):"appendMissingElements"in e?n=new Gm(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Km(e.removeAllFromArray.values||[]):"increment"in e?n=new Xm(t,e.increment):Pp();var r=Wp.nt(e.fieldPath);return new ey(r,n)}(t,e)});return xp(!0===n.exists),new py(a,u)}if(e.verify){var c=_m(t,e.verify);return new by(c,n)}return Pp()}function Pm(t,e){return{documents:[wm(t,e.path)]}}function xm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wm(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(sm(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NAN"}};if(im(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sm(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NOT_NAN"}};if(im(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mm(t.field),op:Dm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Mm(t.field),direction:Rm(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Jp(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=jm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=jm(e.endAt)),n}function Am(t){var e=Om(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xp(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=km(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new eb(Lm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Jp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Nm(n.startAt));var l=null;return n.endAt&&(l=Nm(n.endAt)),Iy(e,i,a,o,u,"F",c,l)}function km(t){return t?void 0!==t.unaryFilter?[Fm(t)]:void 0!==t.fieldFilter?[Um(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return km(t)}).reduce(function(t,e){return t.concat(e)}):Pp():[]}function jm(t){return{before:t.before,values:t.position}}function Nm(t){return new Xy(t.values||[],!!t.before)}function Rm(t){return am[t]}function Dm(t){return um[t]}function Mm(t){return{fieldPath:t.J()}}function Lm(t){return Wp.nt(t.fieldPath)}function Um(t){return Qy.create(Lm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Pp()}}(t.fieldFilter.op),t.fieldFilter.value)}function Fm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lm(t.unaryFilter.field);return Qy.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lm(t.unaryFilter.field);return Qy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lm(t.unaryFilter.field);return Qy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lm(t.unaryFilter.field);return Qy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Pp()}}function Vm(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function qm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Qm=function(){this.cn=void 0};function Hm(t,e,n){return t instanceof $m?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Gm?Wm(t,e):t instanceof Km?Jm(t,e):function(t,e){var n=Bm(t,e),r=Ym(n)+Ym(t.nn);return nm(n)&&nm(t.nn)?lm(r):hm(t.serializer,r)}(t,e)}function zm(t,e,n){return t instanceof Gm?Wm(t,e):t instanceof Km?Jm(t,e):n}function Bm(t,e){return t instanceof Xm?nm(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e}(Qm),Gm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fl.c)(e,t),e}(Qm);function Wm(t,e){for(var n=Zm(e),r=function(t){n.some(function(e){return $g(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Km=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fl.c)(e,t),e}(Qm);function Jm(t,e){for(var n=Zm(e),r=function(t){n=n.filter(function(e){return!$g(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Xm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(fl.c)(e,t),e}(Qm);function Ym(t){return Zg(t.integerValue||t.doubleValue)}function Zm(t){return rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ty=function(){function t(t){this.fields=t,t.sort(Wp.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return qp(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ey=function(t,e){this.field=t,this.transform=e},ny=function(t,e){this.version=t,this.transformResults=e},ry=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iy(t,e){return void 0!==t.updateTime?e instanceof Ey&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ey}var sy=function(){};function oy(t,e,n){return t instanceof hy?function(t,e,n){return new Ey(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof fy?function(t,e,n){if(!iy(t.rn,e))return new Ty(t.key,n.version);var r=dy(t,e);return new Ey(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof py?function(t,e,n){if(xp(null!=n.transformResults),!iy(t.rn,e))return new Ty(t.key,n.version);var r=gy(0,e),i=function(t,e,n){var r=[];xp(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Ey&&(a=e.field(s.field)),r.push(zm(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=my(t,r.data(),i);return new Ey(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Cy(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ay(t,e,n,r){return t instanceof hy?function(t,e){if(!iy(t.rn,e))return e;var n=ly(e);return new Ey(t.key,n,t.value,{an:!0})}(t,e):t instanceof fy?function(t,e){if(!iy(t.rn,e))return e;var n=ly(e),r=dy(t,e);return new Ey(t.key,n,r,{an:!0})}(t,e):t instanceof py?function(t,e,n,r){if(!iy(t.rn,e))return e;var i=gy(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Ey&&(c=n.field(a.field)),null===c&&r instanceof Ey&&(c=r.field(a.field)),i.push(Hm(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=my(t,i.data(),s);return new Ey(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return iy(t.rn,e)?new Cy(t.key,zp.min()):e}(t,e)}function uy(t,e){return t instanceof py?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Ey?e.field(s.field):void 0,a=Bm(s.transform,o||null);null!=a&&(n=null==n?(new _y).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function cy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||qp(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Gm&&e instanceof Gm||t instanceof Km&&e instanceof Km?qp(t.elements,e.elements,$g):t instanceof Xm&&e instanceof Xm?$g(t.nn,e.nn):t instanceof $m&&e instanceof $m}(t.transform,e.transform)}(t,e)}))}function ly(t){return t instanceof Ey?t.version:zp.min()}var hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(fl.c)(e,t),e}(sy),fy=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(fl.c)(e,t),e}(sy);function dy(t,e){return function(t,e){var n=new _y(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof Ey?e.data():vy.empty())}var py=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=ry.exists(!0),r}return Object(fl.c)(e,t),e}(sy);function gy(t,e){return e}function my(t,e,n){for(var r=new _y(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var yy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(fl.c)(e,t),e}(sy),by=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(fl.c)(e,t),e}(sy),vy=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!om(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return $g(this.proto,t.proto)},t}(),_y=function(){function t(t){void 0===t&&(t=vy.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Bg(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Wp.X(),this._n);return null!=t?new vy(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=om(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function wy(t){var e=[];return Fg(t.fields||{},function(t,n){var r=new Wp([t]);if(om(n)){var i=wy(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new ty(e)}var Oy=function(t,e){this.key=t,this.version=e},Ey=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(fl.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Oy),Cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(fl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Oy),Ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Oy),Sy=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Iy(t,e,n,r,i,s,o,a){return new Sy(t,e,n,r,i,s,o,a)}function Py(t){return new Sy(t)}function xy(t){return!Jp(t.limit)&&"F"===t.limitType}function Ay(t){return!Jp(t.limit)&&"L"===t.limitType}function ky(t){return t.Tn.length>0?t.Tn[0].field:null}function jy(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Ny(t){return null!==t.collectionGroup}function Ry(t){var e=Ap(t);if(null===e.In){e.In=[];var n=jy(e),r=ky(e);if(null!==n&&null===r)n.tt()||e.In.push(new eb(n)),e.In.push(new eb(Wp.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new eb(Wp.et(),u))}}}return e.In}function Dy(t){var e=Ap(t);if(!e.mn)if("F"===e.limitType)e.mn=tg(e.path,e.collectionGroup,Ry(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ry(e);r<i.length;r++){var s=i[r];n.push(new eb(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Xy(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Xy(e.startAt.position,!e.startAt.before):null;e.mn=tg(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function My(t,e,n){return new Sy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ly(t,e){return ng(Dy(t),Dy(e))&&t.limitType===e.limitType}function Uy(t){return eg(Dy(t))+"|lt:"+t.limitType}function Fy(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+Jg(e.value);var e}).join(", ")+"]"),Jp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Yy(t.startAt)),t.endAt&&(e+=", endAt: "+Yy(t.endAt)),"Target("+e+")"}(Dy(t))+"; limitType="+t.limitType+")"}function Vy(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Kp.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Zy(t.startAt,Ry(t),e)||t.endAt&&Zy(t.endAt,Ry(t),e))}(t,e)}function qy(t){return function(e,n){for(var r=!1,i=0,s=Ry(t);i<s.length;i++){var o=s[i],a=nb(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fl.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Hy(t,n,r):"array-contains"===n?new Gy(t,r):"in"===n?new Wy(t,r):"not-in"===n?new Ky(t,r):"array-contains-any"===n?new Jy(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new zy(t,n):new By(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Wg(e,this.value)):null!==e&&Bg(this.value)===Bg(e)&&this.Pn(Wg(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pp()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Kp.it(r.referenceValue),i}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=Kp.$(t.key,this.key);return this.Pn(e)},e}(Qy),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=$y(0,n),r}return Object(fl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qy),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=$y(0,n),r}return Object(fl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qy);function $y(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Kp.it(t.referenceValue)})}var Gy=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return rm(e)&&Gg(e.arrayValue,this.value)},e}(Qy),Wy=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Gg(this.value.arrayValue,e)},e}(Qy),Ky=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){if(Gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Gg(this.value.arrayValue,e)},e}(Qy),Jy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Gg(e.value.arrayValue,t)})},e}(Qy),Xy=function(t,e){this.position=t,this.before=e};function Yy(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Jg(t)}).join(",")}function Zy(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Kp.$(Kp.it(o.referenceValue),n.key):Wg(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function tb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$g(t.position[n],e.position[n]))return!1;return!0}var eb=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function nb(t,e,n){var r=t.field.tt()?Kp.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Wg(r,i):Pp()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pp()}}function rb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ib=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=oy(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=ay(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=ay(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Eg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&qp(this.mutations,t.mutations,function(t,e){return cy(t,e)})&&qp(this.baseMutations,t.baseMutations,function(t,e){return cy(t,e)})},t}(),sb=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){xp(e.mutations.length===r.length);for(var i=wg,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ob=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Fg(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return Vg(this.Nn)},t}(),ab=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Pp(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),ub=function(){function t(){this.Qn=new ob(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:zp.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?ab.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),cb=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function lb(t){return new cm(t,!0)}function hb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",db=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),pb=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=bg();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=yg();return i.forEach(function(t,e){e||(e=new Cy(t,zp.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return Kp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Ny(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Kp(e)).next(function(t){var e=_g();return t instanceof Ey&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=_g();return this.os.As(t,i).next(function(o){return ab.forEach(o,function(o){var a=function(t,e){return new Sy(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=ay(u,l,l,s.gn);r=h instanceof Ey?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Vy(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Eg(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof fy&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ey&&(c=c.Tt(t,e))}),c})},t}(),gb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Eg(),i=Eg(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),mb=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();mb.Ds=-1;var yb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Cp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),bb=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(gl.g)())&&Tp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Cp("SimpleDb","Removing database:",t),Cb(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(gl.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Cp("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new _b(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new jp(kp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _b(t,n))},i.onupgradeneeded=function(t){Cp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Cp("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(fl.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Ob.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),ab.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Cp("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),vb=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Cb(this.ni.delete())},t}(),_b=function(t){function e(e,n){var r=this;return(r=t.call(this,kp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fl.c)(e,t),e}(jp);function wb(t){return"IndexedDbTransactionError"===t.name}var Ob=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new cb,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new _b(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Sb(e.target.error);n.ci.reject(new _b(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _b(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Cp("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Eb(e)},t}(),Eb=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Cp("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Cp("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cb(n)},t.prototype.add=function(t){return Cp("SimpleDb","ADD",this.store.name,t,t),Cb(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cb(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Cp("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Cp("SimpleDb","DELETE",this.store.name,t),Cb(this.store.delete(t))},t.prototype.count=function(){return Cp("SimpleDb","COUNT",this.store.name),Cb(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){Cp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new ab(function(n,r){e.onerror=function(t){var e=Sb(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new ab(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new vb(i),o=e(i.primaryKey,i.value,s);if(o instanceof ab){var a=o.catch(function(t){return s.done(),ab.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return ab.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cb(t){return new ab(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Sb(t.target.error);n(e)}})}var Tb=!1;function Sb(t){var e=bb.js(Object(gl.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new jp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tb||(Tb=!0,setTimeout(function(){throw r},0)),r}}return t}function Ib(){return"undefined"!=typeof window?window:null}function Pb(){return"undefined"!=typeof document?document:null}var xb=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new cb,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new jp(kp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Ab=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new yb(this,"async_queue_retry"),this.Di=function(){var e=Pb();e&&Cp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Pb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Pb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e=this;return Object(fl.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!wb(t=n.sent()))throw t;return Cp("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,Tp("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=xb.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Pp()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(fl.b)(this,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function kb(t,e){if(Tp("AsyncQueue",e+": "+t),wb(t))return new jp(kp.UNAVAILABLE,e+": "+t);throw t}function jb(t,e){var n=t[1],r=e[1],i=Vp(t[0],e[0]);return 0===i?Vp(n,r):i}var Nb=function(){function t(t){this.Ki=t,this.buffer=new pg(jb),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jb(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Rb={zi:!1,Hi:0,Ji:0,Yi:0},Db=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Db.nr=10,Db.sr=1e3,Db.ir=new Db(41943040,Db.nr,Db.sr),Db.rr=new Db(-1,0,0);var Mb=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Cp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return wb(e=n.sent())?(Cp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,c_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Lb=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return ab.resolve(mb.Ds);var r=new Nb(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Cp("LruGarbageCollector","Garbage collection skipped; disabled"),ab.resolve(Rb)):this.Pr(t).next(function(r){return r<n.params.Xi?(Cp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Rb):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(Cp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),Ep()<=pl.a.DEBUG&&Cp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ab.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}();function Ub(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vb(e)),e=Fb(t.get(n),e);return Vb(e)}function Fb(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Vb(t){return t+"\x01\x01"}function qb(t){var e=t.length;if(xp(e>=2),2===e)return xp("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$p.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Pp(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Pp()}s=o+2}return new $p(r)}var Qb=function(t){this.yr=t};function Hb(t,e){if(e.document)return function(t,e,n){var r=_m(t,e.name),i=mm(e.updateTime),s=new vy({mapValue:{fields:e.fields}});return new Ey(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Kp.ct(e.noDocument.path),r=Wb(e.noDocument.readTime);return new Cy(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Kp.ct(e.unknownDocument.path),s=Wb(e.unknownDocument.version);return new Ty(i,s)}return Pp()}function zb(t,e,n){var r=Bb(n),i=e.key.path.q().H();if(e instanceof Ey){var s=function(t,e){return{name:vm(t,e.key),fields:e.En().mapValue.fields,updateTime:dm(t,e.version.M())}}(t.yr,e);return new wv(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Cy){var o=e.key.path.H(),a=Gb(e.version),u=e.hasCommittedMutations;return new wv(null,new vv(o,a),null,u,r,i)}if(e instanceof Ty){var c=e.key.path.H(),l=Gb(e.version);return new wv(new _v(c,l),null,null,!0,r,i)}return Pp()}function Bb(t){var e=t.M();return[e.seconds,e.nanoseconds]}function $b(t){var e=new Hp(t[0],t[1]);return zp.N(e)}function Gb(t){var e=t.M();return new pv(e.seconds,e.nanoseconds)}function Wb(t){var e=new Hp(t.seconds,t.nanoseconds);return zp.N(e)}function Kb(t,e){var n=(e.baseMutations||[]).map(function(e){return Im(t.yr,e)}),r=e.mutations.map(function(e){return Im(t.yr,e)}),i=Hp.fromMillis(e.localWriteTimeMs);return new ib(e.batchId,i,n,r)}function Jb(t){var e,n,r=Wb(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wb(t.lastLimboFreeSnapshotVersion):zp.min();return void 0!==t.query.documents?(xp(1===(n=t.query).documents.length),e=Dy(Py(Om(n.documents[0])))):e=function(t){return Dy(Am(t))}(t.query),new ag(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ig.fromBase64String(t.resumeToken))}function Xb(t,e){var n,r=Gb(e.ft),i=Gb(e.lastLimboFreeSnapshotVersion);n=rg(e.target)?Pm(t.yr,e.target):xm(t.yr,e.target);var s=e.resumeToken.toBase64();return new Ev(e.targetId,eg(e.target),r,s,e.sequenceNumber,i,n)}function Yb(t){var e=Am({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?My(e,e.limit,"L"):e}var Zb=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return xp(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nv(t)._i({index:yv.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,s=rv(t),o=nv(t);return o.add({}).next(function(a){xp("number"==typeof a);for(var u=new ib(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Sm(t.yr,e)}),i=n.mutations.map(function(e){return Sm(t.yr,e)});return new yv(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new pg(function(t,e){return Vp(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=bv.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,bv.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Dr(t,e))}),t.es(function(){i.pr[a]=u.keys()}),ab.qn(l).next(function(){return u})})},t.prototype.Cr=function(t,e){var n=this;return nv(t).get(e).next(function(t){return t?(xp(t.userId===n.userId),Kb(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?ab.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return nv(t)._i({index:yv.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xp(e.batchId>=r),s=Kb(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nv(t)._i({index:yv.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nv(t).ui(yv.userMutationsIndex,n).next(function(t){return t.map(function(t){return Kb(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=bv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return rv(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=qb(r[1]);if(a===n.userId&&e.path.isEqual(c))return nv(t).get(u).next(function(t){if(!t)throw Pp();xp(t.userId===n.userId),s.push(Kb(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new pg(Vp),i=[];return e.forEach(function(e){var s=bv.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=rv(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=qb(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),ab.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=bv.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new pg(Vp);return rv(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=qb(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.kr(t,a)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(nv(t).get(e).next(function(t){if(null===t)throw Pp();xp(t.userId===n.userId),r.push(Kb(n.serializer,t))}))}),ab.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return ev(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),ab.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return ab.resolve();var r=IDBKeyRange.lowerBound(bv.prefixForUser(e.userId)),i=[];return rv(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=qb(t[1]);i.push(s)}else r.done()}).next(function(){xp(0===i.length)})})},t.prototype.Qr=function(t,e){return tv(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return iv(t).get(this.userId).next(function(t){return t||new mv(e.userId,-1,"")})},t}();function tv(t,e,n){var r=bv.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return rv(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function ev(t,e,n){var r=t.store(yv.store),i=t.store(bv.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){xp(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=bv.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return ab.qn(s).next(function(){return c})}function nv(t){return zv.Ys(t,yv.store)}function rv(t){return zv.Ys(t,bv.store)}function iv(t){return zv.Ys(t,mv.store)}var sv=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return uv(t).put(cv(e),n)},t.prototype.Hn=function(t,e){var n=uv(t),r=cv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return uv(t).get(cv(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return uv(t).get(cv(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:lv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=bg();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=bg(),i=new hg(Kp.$);return this.zr(t,e,function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,lv(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return ab.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return uv(t)._i({range:r},function(t,e,r){for(var o=Kp.ct(t);s&&Kp.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=_g(),s=e.path.length+1,o={};if(n.isEqual(zp.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Bb(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=wv.collectionReadTimeIndex}return uv(t)._i(o,function(t,n,o){if(t.length===s){var a=Hb(r.serializer,n);e.path.j(a.key.path)?a instanceof Ey&&Vy(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new ov(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return av(t).get(Ov.key).next(function(t){return xp(!!t),t})},t.prototype.Wr=function(t,e){return av(t).put(Ov.key,e)},t.prototype.jr=function(t){if(t){var e=Hb(this.serializer,t);return e instanceof Cy&&e.version.isEqual(zp.min())?null:e}return null},t}(),ov=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new ob(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(fl.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new pg(function(t,e){return Vp(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.so.get(s);if(o.zn){var u=zb(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=lv(u);r+=c-a,n.push(e.no.jn(t,s,u))}else if(r-=a,e.Zr){var l=zb(e.no.serializer,new Cy(s,zp.min()),e.Wn(s));n.push(e.no.jn(t,s,l))}else n.push(e.no.Hn(t,s))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),ab.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(ub);function av(t){return zv.Ys(t,Ov.store)}function uv(t){return zv.Ys(t,wv.store)}function cv(t){return t.path.H()}function lv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Pp();e=t.noDocument}return JSON.stringify(e).length}var hv=function(){function t(){this.io=new fv}return t.prototype.Dr=function(t,e){return this.io.add(e),ab.resolve()},t.prototype.As=function(t,e){return ab.resolve(this.io.getEntries(e))},t}(),fv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new pg($p.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new pg($p.$)).H()},t}(),dv=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xp(n<r&&n>=0&&r<=11);var s=new Ob("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gv.store)}(t),function(t){t.createObjectStore(mv.store,{keyPath:mv.keyPath}),t.createObjectStore(yv.store,{keyPath:yv.keyPath,autoIncrement:!0}).createIndex(yv.userMutationsIndex,yv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(bv.store)}(t),Iv(t),function(t){t.createObjectStore(wv.store)}(t));var o=ab.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Cv.store),t.deleteObjectStore(Ev.store),t.deleteObjectStore(Tv.store)}(t),Iv(t)),o=o.next(function(){return function(t){var e=t.store(Tv.store),n=new Tv(0,0,zp.min().M(),0);return e.put(Tv.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(yv.store).ui().next(function(n){t.deleteObjectStore(yv.store),t.createObjectStore(yv.store,{keyPath:yv.keyPath,autoIncrement:!0}).createIndex(yv.userMutationsIndex,yv.userMutationsKeyPath,{unique:!0});var r=e.store(yv.store),i=n.map(function(t){return r.put(t)});return ab.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Pv.store,{keyPath:Pv.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Ov.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wv.store);e.createIndex(wv.readTimeIndex,wv.readTimeIndexPath,{unique:!1}),e.createIndex(wv.collectionReadTimeIndex,wv.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(xv.store,{keyPath:xv.keyPath})}(t),function(t){t.createObjectStore(Av.store,{keyPath:Av.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(wv.store)._i(function(t,n){e+=lv(n)}).next(function(){var n=new Ov(e);return t.store(Ov.store).put(Ov.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(mv.store),r=t.store(yv.store);return n.ui().next(function(n){return ab.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(yv.userMutationsIndex,i).next(function(r){return ab.forEach(r,function(r){xp(r.userId===n.userId);var i=Kb(e.serializer,r);return ev(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Cv.store),n=t.store(wv.store);return t.store(Tv.store).get(Tv.key).next(function(t){var r=[];return n._i(function(n,i){var s=new $p(n),o=function(t){return[0,Ub(t)]}(s);r.push(e.get(o).next(function(n){return n?ab.resolve():function(n){return e.put(new Cv(0,Ub(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ab.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Sv.store,{keyPath:Sv.keyPath});var n=e.store(Sv.store),r=new fv,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Ub(i)})}};return e.store(wv.store)._i({li:!0},function(t,e){var n=new $p(t);return i(n.q())}).next(function(){return e.store(bv.store)._i({li:!0},function(t,e){var n=qb(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ev.store);return n._i(function(t,r){var i=Jb(r),s=Xb(e.serializer,i);return n.put(s)})},t}(),pv=function(t,e){this.seconds=t,this.nanoseconds=e},gv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gv.store="owner",gv.key="owner";var mv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mv.store="mutationQueues",mv.keyPath="userId";var yv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};yv.store="mutations",yv.keyPath="batchId",yv.userMutationsIndex="userMutationsIndex",yv.userMutationsKeyPath=["userId","batchId"];var bv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ub(e)]},t.key=function(t,e,n){return[t,Ub(e),n]},t}();bv.store="documentMutations",bv.PLACEHOLDER=new bv;var vv=function(t,e){this.path=t,this.readTime=e},_v=function(t,e){this.path=t,this.version=e},wv=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};wv.store="remoteDocuments",wv.readTimeIndex="readTimeIndex",wv.readTimeIndexPath="readTime",wv.collectionReadTimeIndex="collectionReadTimeIndex",wv.collectionReadTimeIndexPath=["parentPath","readTime"];var Ov=function(t){this.byteSize=t};Ov.store="remoteDocumentGlobal",Ov.key="remoteDocumentGlobalKey";var Ev=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ev.store="targets",Ev.keyPath="targetId",Ev.queryTargetsIndexName="queryTargetsIndex",Ev.queryTargetsKeyPath=["canonicalId","targetId"];var Cv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cv.store="targetDocuments",Cv.keyPath=["targetId","path"],Cv.documentTargetsIndex="documentTargetsIndex",Cv.documentTargetsKeyPath=["path","targetId"];var Tv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Tv.key="targetGlobalKey",Tv.store="targetGlobal";var Sv=function(t,e){this.collectionId=t,this.parent=e};function Iv(t){t.createObjectStore(Cv.store,{keyPath:Cv.keyPath}).createIndex(Cv.documentTargetsIndex,Cv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ev.store,{keyPath:Ev.keyPath}).createIndex(Ev.queryTargetsIndexName,Ev.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Tv.store)}Sv.store="collectionParents",Sv.keyPath=["collectionId","parent"];var Pv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pv.store="clientMetadata",Pv.keyPath="clientId";var xv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};xv.store="bundles",xv.keyPath="bundleId";var Av=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Av.store="namedQueries",Av.keyPath="name";var kv=Object(fl.g)(Object(fl.g)(Object(fl.g)(Object(fl.g)([mv.store,yv.store,bv.store,wv.store,Ev.store,gv.store,Tv.store,Cv.store],[Pv.store]),[Ov.store]),[Sv.store]),[xv.store,Av.store]),jv=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return Nv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Wb(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return Nv(t).put({bundleId:(n=e).id,createTime:Gb(mm(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Rv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Yb(e.bundledQuery),readTime:Wb(e.readTime)};var e})},t.prototype.uo=function(t,e){return Rv(t).put(function(t){return{name:t.name,readTime:Gb(mm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nv(t){return zv.Ys(t,xv.store)}function Rv(t){return zv.Ys(t,Av.store)}var Dv=function(){function t(){this.ao=new fv}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var s={collectionId:r,parent:Ub(i)};return Mv(t).put(s)}return ab.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qp(e),""],!1,!0);return Mv(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(qb(s.parent))}return n})},t}();function Mv(t){return zv.Ys(t,Sv.store)}var Lv=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Uv=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new Lv(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return zp.N(new Hp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return Fv(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return xp(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Fv(t)._i(function(o,a){var u=Jb(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Vo(t,u)))}).next(function(){return ab.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Fv(t)._i(function(t,n){var r=Jb(n);e(r)})},t.prototype.wo=function(t){return Vv(t).get(Tv.key).next(function(t){return xp(null!==t),t})},t.prototype.Eo=function(t,e){return Vv(t).put(Tv.key,e)},t.prototype.Ro=function(t,e){return Fv(t).put(Xb(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=eg(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fv(t)._i({range:r,index:Ev.queryTargetsIndexName},function(t,n,r){var s=Jb(n);ng(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],s=qv(t);return e.forEach(function(e){var o=Ub(e.path);i.push(s.put(new Cv(n,o))),i.push(r.Vr.Do(t,n,e))}),ab.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=qv(t);return ab.forEach(e,function(e){var s=Ub(e.path);return ab.qn([i.delete([n,s]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=qv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qv(t),i=Eg();return r._i({range:n,li:!0},function(t,e,n){var r=qb(t[1]),s=new Kp(r);i=i.add(s)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=Ub(e.path),r=IDBKeyRange.bound([n],[Qp(n)],!1,!0),i=0;return qv(t)._i({index:Cv.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Fv(t).get(e).next(function(t){return t?Jb(t):null})},t}();function Fv(t){return zv.Ys(t,Ev.store)}function Vv(t){return zv.Ys(t,Tv.store)}function qv(t){return zv.Ys(t,Cv.store)}var Qv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(fl.c)(e,t),e}(db),zv=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new jp(kp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new Gv(this,i),this.Ko=n+"main",this.serializer=new Qb(u),this.Wo=new bb(this.Ko,11,new dv(this.serializer)),this.jo=new Uv(this.Vr,this.serializer),this.os=new Dv,this.ss=function(t,e){return new sv(t,e)}(this.serializer,this.os),this.Go=new jv(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&Tp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Hv)return bb.Ys(t.Lr,e);throw Pp()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new jp(kp.FAILED_PRECONDITION,Qv);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new mb(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $v(e).put(new Pv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(wb(e))return Cp("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Cp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return Bv(t).get(gv.key).next(function(t){return ab.resolve(e.oc(t))})},t.prototype.cc=function(t){return $v(t).delete(this.clientId)},t.prototype.uc=function(){return Object(fl.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(fl.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Pv.store);return n.ui().next(function(t){var e=i.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return ab.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?ab.resolve(!0):Bv(t).get(gv.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new jp(kp.FAILED_PRECONDITION,Qv);return!1}}return!(!e.networkEnabled||!e.inForeground)||$v(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Cp("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(fl.b)(this,void 0,void 0,function(){var t=this;return Object(fl.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[gv.store,Pv.store],function(e){var n=new Hv(e,mb.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return $v(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Zb.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Cp("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",kv,function(s){return r=new Hv(s,i.ko?i.ko.next():mb.Ds),"readwrite-primary"===e?i.nc(r).next(function(t){return!!t||i.sc(r)}).next(function(e){if(!e)throw Tp("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.Qo(!1)}),new jp(kp.FAILED_PRECONDITION,fb);return n(r)}).next(function(t){return i.rc(r).next(function(){return t})}):i.yc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.yc=function(t){var e=this;return Bv(t).get(gv.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new jp(kp.FAILED_PRECONDITION,Qv)})},t.prototype.rc=function(t){var e=new gv(this.clientId,this.allowTabSynchronization,Date.now());return Bv(t).put(gv.key,e)},t.Gs=function(){return bb.Gs()},t.prototype.ic=function(t){var e=this,n=Bv(t);return n.get(gv.key).next(function(t){return e.oc(t)?(Cp("IndexedDbPersistence","Releasing primary lease."),n.delete(gv.key)):ab.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Tp("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Cp("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Tp("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Tp("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Bv(t){return zv.Ys(t,gv.store)}function $v(t){return zv.Ys(t,Pv.store)}var Gv=function(){function t(t,e){this.db=t,this.cr=new Lb(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return Wv(t,n)},t.prototype.No=function(t,e,n){return Wv(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return Wv(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return iv(t).fi(function(r){return tv(t,r,e).next(function(t){return t&&(n=!0),ab.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,function(o,a){if(a<=e){var u=n.bc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),qv(t).delete([0,Ub(o.path)])})});i.push(u)}}).next(function(){return ab.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return Wv(t,e)},t.prototype.vc=function(t,e){var n,r=qv(t),i=mb.Ds;return r._i({index:Cv.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==mb.Ds&&e(new Kp(qb(n)),i),i=o,n=s):i=mb.Ds}).next(function(){i!==mb.Ds&&e(new Kp(qb(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function Wv(t,e){return qv(t).put(function(t,e){return new Cv(0,Ub(t.path),e)}(e,t.Fo))}function Kv(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Jv=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new hg(Vp),this.Nc=new ob(function(t){return eg(t)},ng),this.xc=zp.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new pb(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}();function Xv(t,e,n,r){return new Jv(t,e,n,r)}function Yv(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:return n=Ap(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.Mr(t).next(function(o){return s=o,r=n.persistence.mc(e),i=new pb(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],o=Eg(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}})})}function Zv(t,e){var n=Ap(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ab.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);xp(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function t_(t){var e=Ap(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function e_(t,e){var n=Ap(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next(function(){return n.jo.So(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(s,c),function(t,e,n){return xp(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.jo.yo(t,c))}}});var a=yg();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))}),o.push(function(t,e,n,r,i){var s=Eg();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=yg();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof Cy&&s.version.isEqual(zp.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Cp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(zp.min())){var u=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,r)});o.push(u)}return ab.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Oc.fs(t,a)})}).then(function(t){return n.Cc=i,t})}function n_(t,e){var n=Ap(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function r_(t,e){var n=Ap(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?ab.resolve(r=i):n.jo.fo(t).next(function(i){return r=new ag(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function i_(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:r=Ap(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Vr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!wb(o=a.sent()))throw o;return Cp("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}})})}function s_(t,e,n){var r=Ap(t),i=zp.min(),s=Eg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ap(t),i=r.Nc.get(n);return void 0!==i?ab.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Dy(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Dc.ws(t,e,n?i:zp.min(),n?s:Eg())}).next(function(t){return{documents:t,Bc:s}})})}function o_(t,e){var n=Ap(t),r=Ap(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function a_(t){var e=Ap(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ap(t),i=yg(),s=Bb(n),o=uv(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:wv.readTimeIndex,range:a},function(t,e){var n=Hb(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{qc:i,readTime:$b(s)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc;return e.xc=t.readTime,n})}function u_(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){return[2,(e=Ap(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=uv(t),n=zp.min();return e._i({index:wv.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=$b(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function c_(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){if(t.code!==kp.FAILED_PRECONDITION||t.message!==fb)throw t;return Cp("LocalStore","Unexpectedly lost primary lease"),[2]})})}var l_=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new yb(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===kp.RESOURCE_EXHAUSTED?(Tp(e.toString()),Tp("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===kp.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new jp(kp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(fl.b)(t,void 0,void 0,function(){return Object(fl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return Cp("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(Cp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),h_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(fl.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Pp()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(xp(void 0===e||"string"==typeof e),ig.fromBase64String(e||"")):(xp(void 0===e||e instanceof Uint8Array),ig.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?kp.UNKNOWN:lg(t.code);return new jp(e,t.message||"")}(o);n=new Ng(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=_m(t,u.document.name),l=mm(u.document.updateTime),h=new vy({mapValue:{fields:u.document.fields}}),f=new Ey(c,l,h,{});n=new kg(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=_m(t,d.document),g=d.readTime?mm(d.readTime):zp.min(),m=new Cy(p,g);n=new kg([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,b=_m(t,y.document);n=new kg([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Pp();var v=e.filter,_=new ug(v.count||0);n=new jg(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return zp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zp.min():e.readTime?mm(e.readTime):zp.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Em(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=rg(r)?{documents:Pm(t,r)}:{query:xm(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=pm(t,e.resumeToken):e.ft.F(zp.min())>0&&(n.readTime=dm(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pp()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Em(this.serializer),e.removeTarget=t,this.Zc(e)},e}(l_),f_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(xp(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(xp(void 0!==e),t.map(function(t){return function(t,e){var n=mm(t.updateTime?t.updateTime:e);n.isEqual(zp.min())&&(n=mm(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ny(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=mm(t.commitTime);return this.listener.wu(n,e)}return xp(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Em(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Sm(e.serializer,t)})};this.Zc(n)},e}(l_),d_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(fl.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new jp(kp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===kp.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===kp.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),p_=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Tp(e),this.Vu=!1):Cp("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),g_=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu(function(t){n.Ri(function(){return Object(fl.b)(s,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return C_(this)?(Cp("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return(e=Ap(t)).Mu.add(4),[4,y_(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,m_(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new p_(n,r)};function m_(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:if(!C_(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function y_(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function b_(t,e){var n=Ap(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),E_(n)?O_(n):F_(n).zc()&&__(n,e))}function v_(t,e){var n=Ap(t),r=F_(n);n.Ou.delete(e),r.zc()&&w_(n,e),0===n.Ou.size&&(r.zc()?r.Yc():C_(n)&&n.Bu.set("Unknown"))}function __(t,e){t.qu.De(e.targetId),F_(t).hu(e)}function w_(t,e){t.qu.De(e),F_(t).lu(e)}function O_(t){t.qu=new Dg({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),F_(t).start(),t.Bu.pu()}function E_(t){return C_(t)&&!F_(t).Gc()&&t.Ou.size>0}function C_(t){return 0===Ap(t).Mu.size}function T_(t){t.qu=void 0}function S_(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return t.Ou.forEach(function(e,n){__(t,e)}),[2]})})}function I_(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){return T_(t),E_(t)?(t.Bu.Su(e),O_(t)):t.Bu.set("Unknown"),[2]})})}function P_(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof Ng&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Cp("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,x_(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kg?t.qu.$e(e):e instanceof jg?t.qu.je(e):t.qu.qe(e),n.isEqual(zp.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,t_(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(ig.lt,n.ft)),w_(t,e);var r=new ag(n.target,e,1,n.sequenceNumber);__(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Cp("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,x_(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function x_(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:if(!wb(e))throw e;return t.Mu.add(1),[4,y_(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return t_(t.Cu)}),t.di.Mi(function(){return Object(fl.b)(r,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return Cp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,m_(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function A_(t,e){return e().catch(function(n){return x_(t,n,e)})}function k_(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:e=Ap(t),n=V_(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return C_(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,n_(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=V_(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,x_(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return j_(e)&&N_(e),[2]}})})}function j_(t){return C_(t)&&!V_(t).Gc()&&t.Fu.length>0}function N_(t){V_(t).start()}function R_(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return V_(t).Tu(),[2]})})}function D_(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n,r;return Object(fl.d)(this,function(i){for(e=V_(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]})})}function M_(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=sb.from(r,e,n),[4,A_(t,function(){return t.xu.Ku(i)})];case 1:return s.sent(),[4,k_(t)];case 2:return s.sent(),[2]}})})}function L_(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return e&&V_(t).fu?[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return cg(r=e.code)&&r!==kp.ABORTED?(n=t.Fu.shift(),V_(t).Jc(),[4,A_(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,k_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return j_(t)&&N_(t),[2]}})})}function U_(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return n=Ap(t),e?(n.Mu.delete(2),[4,m_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,y_(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function F_(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Ap(t);return r.mu(),new h_(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:S_.bind(null,t),nu:I_.bind(null,t),au:P_.bind(null,t)}),t.ku.push(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),E_(t)?O_(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),T_(t),e.label=3;case 3:return[2]}})})})),t.ju}function V_(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Ap(t);return r.mu(),new f_(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:R_.bind(null,t),nu:L_.bind(null,t),Eu:D_.bind(null,t),wu:M_.bind(null,t)}),t.ku.push(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,k_(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Cp("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}var q_=function(){this.zu=void 0,this.listeners=[]},Q_=function(){this.queries=new ob(function(t){return Uy(t)},Ly),this.onlineState="Unknown",this.Hu=new Set};function H_(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:if(n=Ap(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new q_),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=kb(a,"Initialization of query '"+Fy(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&G_(n),[2]}})})}function z_(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fl.d)(this,function(a){return n=Ap(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function B_(t,e){for(var n=Ap(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(o)&&(r=!0);a.zu=o}}r&&G_(n)}function $_(t,e,n){var r=Ap(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function G_(t){t.Hu.forEach(function(t){t.next()})}var W_=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pg(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Pg.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),K_=function(){function t(){this.ca=new pg(J_.ua),this.aa=new pg(J_.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new J_(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new J_(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new Kp(new $p([])),r=new J_(n,t),i=new J_(n,t+1),s=[];return this.aa.Kt([r,i],function(t){e._a(t),s.push(t.key)}),s},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new Kp(new $p([])),n=new J_(e,t),r=new J_(e,t+1),i=Eg();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new J_(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),J_=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return Kp.$(t.key,e.key)||Vp(t.Ta,e.Ta)},t.ha=function(t,e){return Vp(t.Ta,e.Ta)||Kp.$(t.key,e.key)},t}();function X_(t,e){return"firestore_clients_"+t+"_"+e}function Y_(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Z_(t,e){return"firestore_targets_"+t+"_"+e}var tw=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new jp(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Tp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ew=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new jp(r.error.code,r.error.message)),i?new t(e,r.state,s):(Tp("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),nw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Tg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Yp(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Tp("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),rw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Tp("SharedClientState","Failed to parse online state: "+e),null)},t}(),iw=function(){function t(){this.activeTargetIds=Tg()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),sw=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new hg(Vp),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=X_(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new iw),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(fl.d)(this,function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(X_(this.persistenceKey,r)))&&(s=nw.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",function(){return l.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Z_(this.persistenceKey,t));if(n){var r=ew.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Z_(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Cp("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Cp("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Cp("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Cp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Tp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(fl.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(fl.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=mb.Ds;if(null!=t)try{var n=JSON.parse(t);xp("number"==typeof n),e=n}catch(t){Tp("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mb.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new tw(this.currentUser,t,e,n),i=Y_(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=Y_(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Z_(this.persistenceKey,t),i=new ew(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return nw.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return tw.Ia(new wp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return ew.Ia(r,e)},t.prototype.Ma=function(t){return rw.Ia(t)},t.prototype.uh=function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Cp("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.ga.dh(o,a).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Tg();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),ow=function(){function t(){this.wh=new iw,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new iw,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),aw=function(t){this.key=t},uw=function(t){this.key=t},cw=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Eg(),this.ee=Eg(),this.Ah=qy(t),this.Rh=new Sg(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Ig,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,u=xy(this.query)&&i.size===this.query.limit?i.last():null,c=Ay(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof Ey?e:null;h&&(h=Vy(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),xy(this.query)||Ay(this.query))for(;o.size>this.query.limit;){var l=xy(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pp()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new Pg(this.query,t.Rh,i,s,t.ee,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Ig,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Eg(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new uw(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new aw(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Eg();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Pg.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),lw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hw=function(t){this.key=t,this.Fh=!1},fw=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new ob(function(t){return Uy(t)},Ly),this.qh=new Map,this.Uh=[],this.Qh=new hg(Kp.$),this.Kh=new Map,this.Wh=new K_,this.jh={},this.Gh=new Map,this.zh=Lv._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function dw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:return n=Qw(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,r_(n.Cu,Dy(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,pw(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&b_(n.Oh,s),a.label=4;case 4:return[2,r]}})})}function pw(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(fl.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,s_(t.Cu,e.query,!1).then(function(t){return e.view.gh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(Iw(t,e.targetId,o.Dh),o.snapshot)]}})})}(t,e,n,r)},[4,s_(t.Cu,e,!0)];case 1:return i=l.sent(),s=new cw(e,i.Bc),o=s.gh(i.documents),a=Ag.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Jh,a),Iw(t,n,u.Dh),c=new lw(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}})})}function gw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:return n=Ap(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!Ly(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,i_(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),v_(n.Oh,r.targetId),Tw(n,r.targetId)}).catch(c_)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Tw(n,r.targetId),[4,i_(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function mw(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:r=Hw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ap(t),i=Hp.now(),s=e.reduce(function(t,e){return t.add(e.key)},Eg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=uy(c,n.get(c.key));null!=l&&o.push(new fy(c.key,l,wy(l.proto.mapValue),ry.exists(!0)))}return r.rs.Sr(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new hg(Vp)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Aw(r,i.Qn)];case 3:return a.sent(),[4,k_(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=kb(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function yw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:n=Ap(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,e_(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(xp(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?xp(r.Fh):t.de.size>0&&(xp(r.Fh),r.Fh=!1))}),[4,Aw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,c_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function bw(t,e,n){var r=Ap(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ap(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)}),r&&G_(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function vw(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:return(r=Ap(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new hg(Kp.$)).Tt(s,new Cy(s,zp.min())),a=Eg().add(s),u=new xg(zp.min(),new Map,new pg(Vp),o,a),[4,yw(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),xw(r),[3,4];case 2:return[4,i_(r.Cu,e,!1).then(function(){return Tw(r,e,n)}).catch(c_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function _w(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:n=Ap(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Zv(n.Cu,e)];case 2:return i=s.sent(),Cw(n,r,null),Ew(n,r),n.kh.Qa(r,"acknowledged"),[4,Aw(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,c_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function ww(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:r=Ap(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Ap(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return xp(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=s.sent(),Cw(r,e,n),Ew(r,e),r.kh.Qa(e,"rejected",n),[4,Aw(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,c_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ow(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:C_((n=Ap(t)).Oh)||Cp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ap(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=kb(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Ew(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function Cw(t,e,n){var r=Ap(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Tw(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||Sw(t,e)})}function Sw(t,e){var n=t.Qh.get(e);null!==n&&(v_(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),xw(t))}function Iw(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof aw?(t.Wh.Do(s.key,e),Pw(t,s)):s instanceof uw?(Cp("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||Sw(t,s.key)):Pp()}}function Pw(t,e){var n=e.key;t.Qh.get(n)||(Cp("SyncEngine","New document in limbo: "+n),t.Uh.push(n),xw(t))}function xw(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new hw(e)),t.Qh=t.Qh.Tt(e,n),b_(t.Oh,new ag(Dy(Py(e.path)),n,2,mb.Ds))}}function Aw(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:return r=Ap(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach(function(t,a){o.push(r.Yh(a,e,n).then(function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=gb.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(fl.d)(this,function(l){switch(l.label){case 0:n=Ap(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ab.forEach(e,function(e){return ab.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return ab.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!wb(r=l.sent()))throw r;return Cp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}})})}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function kw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return(n=Ap(t)).currentUser.isEqual(e)?[3,3]:(Cp("SyncEngine","User change. New user:",e.h()),[4,Yv(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new jp(kp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Aw(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function jw(t,e){var n=Ap(t),r=n.Kh.get(e);if(r&&r.Fh)return Eg().add(r.key);var i=Eg(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Gt(u.view.Ph)}return i}function Nw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:return[4,s_((n=Ap(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&Iw(n,e.targetId,i.Dh),i)]}})})}function Rw(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){return[2,a_((e=Ap(t)).Cu).then(function(t){return Aw(e,t)})]})})}function Dw(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Ap(t),r=Ap(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):ab.resolve(null)})})}((i=Ap(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,k_(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Cw(i,e,r||null),Ew(i,e),function(t,e){Ap(Ap(t).rs).Br(e)}(i.Cu,e)):Pp(),o.label=4;case 4:return[4,Aw(i,s)];case 5:return o.sent(),[3,7];case 6:Cp("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Mw(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:return Qw(n=Ap(t)),Hw(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Lw(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,U_(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)b_(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?a.push(e):u=u.then(function(){return Tw(n,e),i_(n.Cu,e,!0)}),v_(n.Oh,e)}),[4,u]);case 4:return c.sent(),[4,Lw(n,a)];case 5:return c.sent(),function(t){var e=Ap(t);e.Kh.forEach(function(t,n){v_(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new hg(Kp.$)}(n),n.Hh=!1,[4,U_(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Lw(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(fl.d)(this,function(g){switch(g.label){case 0:n=Ap(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,r_(n.Cu,Dy(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,Nw(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,o_(n.Cu,a)];case 8:return p=g.sent(),[4,r_(n.Cu,p)];case 9:return u=g.sent(),[4,pw(n,Uw(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function Uw(t){return Iy(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fw(t){var e=Ap(t);return Ap(Ap(e.Cu).persistence).Ic()}function Vw(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,s,o;return Object(fl.d)(this,function(a){switch(a.label){case 0:return(i=Ap(t)).Hh?(Cp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,a_(i.Cu)];case 3:return s=a.sent(),o=xg.ae(e,"current"===n),[4,Aw(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,i_(i.Cu,e,!0)];case 6:return a.sent(),Tw(i,e,r),[3,8];case 7:Pp(),a.label=8;case 8:return[2]}})})}function qw(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(fl.d)(this,function(f){switch(f.label){case 0:if(!(r=Qw(t)).Hh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(Cp("SyncEngine","Adding an already active target "+o),[3,5]):[4,o_(r.Cu,o)]:[3,6];case 2:return a=f.sent(),[4,r_(r.Cu,a)];case 3:return u=f.sent(),[4,pw(r,Uw(a),u.targetId,!1)];case 4:f.sent(),b_(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(fl.d)(this,function(e){switch(e.label){case 0:return r.qh.has(t)?[4,i_(r.Cu,t,!1).then(function(){v_(r.Oh,t),Tw(r,t)}).catch(c_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Qw(t){var e=Ap(t);return e.Oh.xu.Qu=yw.bind(null,e),e.Oh.xu.Xe=jw.bind(null,e),e.Oh.xu.Uu=vw.bind(null,e),e.Lh.au=B_.bind(null,e.Mh),e.Lh.Xh=$_.bind(null,e.Mh),e}function Hw(t){var e=Ap(t);return e.Oh.xu.Ku=_w.bind(null,e),e.Oh.xu.Wu=ww.bind(null,e),e}var zw=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(zp.min())?this.tl(t,e):this.Zh._s(t,r).next(function(s){var o=i.el(e,s);return(xy(e)||Ay(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Ep()<=pl.a.DEBUG&&Cp("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fy(e)),i.Zh.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new pg(qy(t));return e.forEach(function(e,r){r instanceof Ey&&Vy(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Ep()<=pl.a.DEBUG&&Cp("IndexFreeQueryEngine","Using full collection scan to execute query:",Fy(e)),this.Zh.ws(t,e,zp.min())},t}(),Bw=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new pg(J_.ua)}return t.prototype.br=function(t){return ab.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new ib(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new J_(u.key,i)),this.os.Dr(t,u.key.path.q())}return ab.resolve(s)},t.prototype.Cr=function(t,e){return ab.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return ab.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return ab.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return ab.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new J_(e,0),i=new J_(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);s.push(e)}),ab.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new pg(Vp);return e.forEach(function(t){var e=new J_(t,0),i=new J_(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),ab.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Kp.ot(i)||(i=i.child(""));var s=new J_(new Kp(i),0),o=new pg(Vp);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)},s),ab.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;xp(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return ab.forEach(e.mutations,function(i){var s=new J_(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new J_(e,0),r=this.sl.jt(n);return ab.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return ab.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),$w=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new hg(Kp.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return ab.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=bg();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),ab.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=_g(),i=new Kp(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof Ey&&Vy(e,u)&&(r=r.Tt(u.key,u))}return ab.resolve(r)},t.prototype.al=function(t,e){return ab.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new Gw(this)},t.prototype.eo=function(t){return ab.resolve(this.size)},t}(),Gw=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(fl.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),ab.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(ub),Ww=function(){function t(t){this.persistence=t,this.hl=new ob(function(t){return eg(t)},ng),this.lastRemoteSnapshotVersion=zp.min(),this.highestTargetId=0,this.ll=0,this._l=new K_,this.targetCount=0,this.fl=Lv.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),ab.resolve()},t.prototype.To=function(t){return ab.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return ab.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),ab.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),ab.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Lv(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,ab.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),ab.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,ab.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)}),ab.qn(s).next(function(){return i})},t.prototype.vo=function(t){return ab.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return ab.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),ab.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),ab.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),ab.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return ab.resolve(n)},t.prototype.Qr=function(t,e){return ab.resolve(this._l.Qr(e))},t}(),Kw=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return ab.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:mm(n.createTime)}),ab.resolve()},t.prototype.co=function(t,e){return ab.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Yb(n.bundledQuery),readTime:mm(n.readTime)}),ab.resolve()},t}(),Jw=function(){function t(t,e){var n=this;this.El={},this.ko=new mb(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new Ww(this),this.os=new hv,this.ss=function(t,e){return new $w(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new Qb(e),this.Go=new Kw(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new Bw(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Cp("MemoryPersistence","Starting transaction:",t);var i=new Xw(this.ko.next());return this.Vr.Il(),n(i).next(function(t){return r.Vr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return ab.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),Xw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(fl.c)(e,t),e}(db),Yw=function(){function t(t){this.persistence=t,this.Rl=new K_,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Pp()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),ab.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),ab.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),ab.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return ab.forEach(this.yl,function(r){var i=Kp.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return ab.Un([function(){return ab.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Zw=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eO=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(fl.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new yp;o.listenOnce(pp.COMPLETE,function(){try{switch(o.getLastErrorCode()){case dp.NO_ERROR:var e=o.getResponseJson();Cp("Connection","XHR received:",JSON.stringify(e)),i(e);break;case dp.TIMEOUT:Cp("Connection",'RPC "'+t+'" timed out'),s(new jp(kp.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:var n=o.getStatus();if(Cp("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(kp).indexOf(e)>=0?e:kp.UNKNOWN}(r.status);s(new jp(a,r.message))}else s(new jp(kp.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new jp(kp.UNAVAILABLE,"Connection failed."));break;default:Pp()}}finally{Cp("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new up,i=hf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(gl.l)()||Object(gl.n)()||Object(gl.j)()||Object(gl.k)()||Object(gl.o)()||Object(gl.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Cp("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Zw({pl:function(t){c?Cp("Connection","Not sending because WebChannel is closed:",t):(u||(Cp("Connection","Opening WebChannel transport."),a.open(),u=!0),Cp("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,mp.EventType.OPEN,function(){c||Cp("Connection","WebChannel transport opened.")}),h(a,mp.EventType.CLOSE,function(){c||(c=!0,Cp("Connection","WebChannel transport closed"),l.Nl())}),h(a,mp.EventType.ERROR,function(t){c||(c=!0,Sp("Connection","WebChannel transport errored:",t),l.Nl(new jp(kp.UNAVAILABLE,"The operation could not be completed")))}),h(a,mp.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xp(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Cp("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=sg[t];if(void 0!==e)return lg(e)}(i),o=r.message;void 0===s&&(s=kp.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new jp(s,o)),a.close()}else Cp("Connection","WebChannel received:",n),l.xl(n)}}),h(i,gp.STAT_EVENT,function(t){10===t.stat?Cp("Connection","Detected buffering proxy"):11===t.stat&&Cp("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Cp("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return Cp("RestConnection","Received: ",t),t},function(e){throw Sp("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+tO[t]},t}()),nO=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Cp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Cp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),rO=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),iO=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return this.serializer=lb(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Xv(this.persistence,new zw,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Jw(Yw.gl,this.serializer)},t.prototype.jl=function(t){return new ow},t.prototype.terminate=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),sO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fl.c)(e,t),e.prototype.initialize=function(e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,u_(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Hw(this.Xl.ga)];case 4:return n.sent(),[4,k_(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Xv(this.persistence,new zw,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Mb(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=Kv(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Db.er(this.cacheSizeBytes):Db.ir;return new zv(this.synchronizeTabs,e,t.clientId,n,t.di,Ib(),Pb(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new ow},e}(iO),oO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fl.c)(e,t),e.prototype.initialize=function(e){return Object(fl.b)(this,void 0,void 0,function(){var n,r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof sw?(this.kh.ga={_h:Dw.bind(null,n),fh:Vw.bind(null,n),dh:qw.bind(null,n),Ic:Fw.bind(null,n),lh:Rw.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(fl.b)(r,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,Mw(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Ib();if(!sw.Gs(e))throw new jp(kp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kv(t.Fl.t,t.Fl.persistenceKey);return new sw(e,t.di,n,t.clientId,t.Yl)},e}(sO),aO=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return bw(n.ga,t,1)},this.Oh.xu.s_=kw.bind(null,this.ga),[4,U_(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Q_},t.prototype.Zl=function(t){var e=lb(t.Fl.t),n=new eO(t.Fl);return function(t,e,n){return new d_(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return bw(o.ga,t,0)},s=nO.Gs()?new nO:new rO,new g_(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new fw(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=Ap(t),Cp("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,y_(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),uO=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cO=function(t){this.o_=t};function lO(t,e,n){if(!n)throw new jp(kp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jp(kp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fO(t,e,n,r){if(!0===e&&!0===r)throw new jp(kp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dO(t){if(!Kp.ot(t))throw new jp(kp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pO(t){if(Kp.ot(t))throw new jp(kp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Pp()}function mO(t,e){if(t instanceof cO&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new jp(kp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gO(t);throw new jp(kp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yO(t,e){if(e<=0)throw new jp(kp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var bO=function(t){this.c_=t},vO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(bO);function _O(t,e,n){return new EE({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var wO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.u_=function(t){return new ey(t.path,new $m)},e.prototype.isEqual=function(t){return t instanceof e},e}(bO),OO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(fl.c)(e,t),e.prototype.u_=function(t){var e=_O(this,t,!0),n=this.f_.map(function(t){return xE(t,e)}),r=new Gm(n);return new ey(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bO),EO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(fl.c)(e,t),e.prototype.u_=function(t){var e=_O(this,t,!0),n=this.f_.map(function(t){return xE(t,e)}),r=new Km(n);return new ey(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bO),CO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(fl.c)(e,t),e.prototype.u_=function(t){var e=new Xm(t.serializer,fm(t.serializer,this.d_));return new ey(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(bO),TO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new jp(kp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jp(kp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return Vp(this.w_,t.w_)||Vp(this.E_,t.E_)},t}(),SO=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(ig.fromBase64String(e))}catch(e){throw new jp(kp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ig.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),IO=new Map,PO=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jp(kp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jp(kp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xO=function(){function t(t,e){this.I_="(lite)",this.m_=new PO({}),this.A_=!1,t instanceof _p?(this.R_=t,this.P_=new Rp):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jp(kp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(t.options.projectId)}(t),this.P_=new Dp(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new jp(kp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new jp(kp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new PO(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Rp;switch(t.type){case"gapi":var e=t.client;return xp(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lp(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new jp(kp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=IO.get(t);e&&(Cp("ComponentProvider","Removing Datastore"),IO.delete(t),e.terminate())}(this),Promise.resolve()},t}();function AO(){if("undefined"==typeof Uint8Array)throw new jp(kp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kO(){if("undefined"==typeof atob)throw new jp(kp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.fromBase64String=function(t){return kO(),new e(SO.fromBase64String(t))},e.fromUint8Array=function(t){return AO(),new e(SO.fromUint8Array(t))},e.prototype.toBase64=function(){return kO(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return AO(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(cO),NO=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),Bg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zg(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(tm(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Pp()}},t.prototype.L_=function(t,e){var n=this,r={};return Fg(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new TO(Zg(t.latitude),Zg(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=Qg(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(Hg(t));default:return null}},t.prototype.N_=function(t){var e=Yg(t);return new Hp(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=$p.Y(t);xp(qm(n));var r=new _p(n.get(1),n.get(3)),i=new Kp(n.B(5));return r.isEqual(e)||Tp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),RO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.F_=function(t){return new jO(new SO(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return aC.q_(e,this.firestore,null)},e}(NO),DO=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new YO(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new MO(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(LO("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),MO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(DO);function LO(t,e){return"string"==typeof e?DE(t,e):e instanceof cO?e.o_.G_:e.G_}var UO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new jp(kp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Wp(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),FO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Ab,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(fl.c)(e,t),e.prototype.D_=function(){return this.H_||iC(this),this.H_.terminate()},e}(xO);function VO(t,e,n){var r=this,i=new cb;return t.di.enqueue(function(){return Object(fl.b)(r,void 0,void 0,function(){var r;return Object(fl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,qE(t,n)];case 1:return s.sent(),[4,QE(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kp.FAILED_PRECONDITION||t.code===kp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function qO(t){if(t.y_||t.V_)throw new jp(kp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var QO=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(fl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new HO(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(LO("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(DO),HO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(QO),zO=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new hC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new HO(n.U_,n.Q_,r.key,r,new hC(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new jp(kp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){return{type:"added",doc:new HO(t.U_,t.Q_,e.doc.key,e.doc,new hC(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new HO(t.U_,t.Q_,e.doc.key,e.doc,new hC(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:BO(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.Z_=e),this.X_},t}();function BO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pp()}}function $O(t,e){return t instanceof QO&&e instanceof QO?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof zO&&e instanceof zO&&t.U_===e.U_&&yE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var GO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.F_=function(t){return new SO(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new YO(this.firestore,null,e)},e}(NO);function WO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=mO(t.firestore,FO),o=bE(s);return e instanceof cO&&(e=e.o_),JO(s,("string"==typeof e||e instanceof UO?IE(o,"updateDoc",t.K_,e,n,r):SE(o,"updateDoc",t.K_,e)).ef(t.K_,ry.exists(!0)))}function KO(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||hb(s[u])||(a=s[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(hb(s[u])){var d=s[u];s[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof YO)l=mO(t.firestore,FO),h=Py(t.K_.path),c={next:function(e){s[u]&&s[u](XO(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=mO(t.firestore,FO),h=t.tf;var p=new GO(l);c={next:function(e){s[u]&&s[u](new zO(l,p,t,e))},error:s[u+1],complete:s[u+2]},hE(t.tf)}var g=rC(l),m=new uO(c),y=new W_(h,m,f);return l.z_.Ri(function(){return Object(fl.b)(i,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return t=H_,[4,KE(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})}),function(){m.r_(),l.z_.Ri(function(){return Object(fl.b)(i,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return t=z_,[4,KE(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})})}}function JO(t,e){return function(t,e){var n=this,r=new cb;return t.di.Ri(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return n=mw,[4,WE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(rC(t),e)}function XO(t,e,n){var r=n.docs.get(e.K_),i=new GO(t);return new QO(t,i,e.K_,r,new hC(n.hasPendingWrites,n.fromCache),e.j_)}var YO=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fE(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),ZO=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),tE=function(){};function eE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var nE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(fl.c)(e,t),e.prototype.sf=function(t){var e=bE(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new jp(kp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){cE(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(uE(r,t,l[c]));a={arrayValue:{values:u}}}else a=uE(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cE(o,s),a=PE(n,"where",o,"in"===s||"not-in"===s);var h=Qy.create(i,s,a);return function(t,e){if(e.An()){var n=jy(t);if(null!==n&&!n.isEqual(e.field))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ky(t);null!==r&&lE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new jp(kp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new ZO(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Sy(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(tE),rE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(fl.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new jp(kp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new jp(kp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new eb(e,n);return function(t,e){if(null===ky(t)){var n=jy(t);null!==n&&lE(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new ZO(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Sy(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(tE),iE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(fl.c)(e,t),e.prototype.sf=function(t){return new ZO(t.firestore,t.j_,My(t.tf,this.hf,this.lf))},e}(tE),sE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(fl.c)(e,t),e.prototype.sf=function(t){var e=aE(t,this.type,this._f,this.ff);return new ZO(t.firestore,t.j_,function(t,e){return new Sy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(tE),oE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(fl.c)(e,t),e.prototype.sf=function(t){var e=aE(t,this.type,this._f,this.ff);return new ZO(t.firestore,t.j_,function(t,e){return new Sy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(tE);function aE(t,e,n,r){if(n[0]instanceof cO&&(n[0]=n[0].o_),n[0]instanceof DO)return function(t,e,n,r,i){if(!r)throw new jp(kp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Ry(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(em(e,r.key));else{var c=r.field(u.field);if(qg(c))throw new jp(kp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new jp(kp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Xy(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=bE(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new jp(kp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new jp(kp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ny(t)&&-1!==c.indexOf("/"))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($p.Y(c));if(!Kp.ot(l))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Kp(l);a.push(em(e,h))}else{var f=PE(n,r,c);a.push(f)}}return new Xy(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function uE(t,e,n){if(n instanceof cO&&(n=n.o_),"string"==typeof n){if(""===n)throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ny(e)&&-1!==n.indexOf("/"))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($p.Y(n));if(!Kp.ot(r))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return em(t,new Kp(r))}if(n instanceof YO)return em(t,n.K_);throw new jp(kp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gO(n)+".")}function cE(t,e){if(!Array.isArray(t)||0===t.length)throw new jp(kp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new jp(kp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function lE(t,e,n){if(!n.isEqual(e))throw new jp(kp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hE(t){if(Ay(t)&&0===t.Tn.length)throw new jp(kp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Py(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new YO(this.firestore,null,new Kp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(ZO);function dE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(lO("collection","path",e),t instanceof xO){var i=$p.Y.apply($p,Object(fl.g)([e],n));return pO(i),new fE(t,null,i)}if(!(t instanceof YO||t instanceof fE))throw new jp(kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=$p.Y.apply($p,Object(fl.g)([t.path],n)).child($p.Y(e));return pO(s),new fE(t.firestore,null,s)}function pE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Fp.D()),lO("doc","path",e),t instanceof xO){var i=$p.Y.apply($p,Object(fl.g)([e],n));return dO(i),new YO(t,null,new Kp(i))}if(!(t instanceof YO||t instanceof fE))throw new jp(kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child($p.Y.apply($p,Object(fl.g)([e],n)));return dO(s),new YO(t.firestore,t instanceof fE?t.j_:null,new Kp(s))}var gE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.F_=function(t){return new SO(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new YO(this.firestore,null,e)},e}(NO);function mE(t,e){return(t instanceof YO||t instanceof fE)&&(e instanceof YO||e instanceof fE)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function yE(t,e){return t instanceof ZO&&e instanceof ZO&&t.firestore===e.firestore&&Ly(t.tf,e.tf)&&t.j_===e.j_}function bE(t){var e=t.S_(),n=lb(t.R_);return new CE(t.R_,!!e.ignoreUndefinedProperties,n)}var vE=/^__.*__$/,_E=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new fy(t,this.data,this.en,e):new hy(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new py(t,this.fieldTransforms)),n},t}(),wE=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new fy(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new py(t,this.fieldTransforms)),n},t}();function OE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pp()}}var EE=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return ME(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(OE(this.a_)&&vE.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),CE=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||lb(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new EE({a_:t,methodName:e,l_:n,path:Wp.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function TE(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);jE("Data must be an object, but it was:",o,r);var a,u,c=AE(r,o);if(s.merge)a=new ty(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=NE(e,f[h],n);if(!o.contains(d))throw new jp(kp.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");LE(l,d)||l.push(d)}a=new ty(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new _E(new vy(c),a,u)}function SE(t,e,n,r){var i=t.Rf(1,e,n);jE("Data must be an object, but it was:",i,r);var s=[],o=new _y;Fg(r,function(t,r){var a=DE(e,t,n);r instanceof cO&&(r=r.o_);var u=i.If(a);if(r instanceof vO)s.push(a);else{var c=xE(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new ty(s);return new wE(o.hn(),a,i.fieldTransforms)}function IE(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[NE(e,r,n)],u=[i];if(s.length%2!=0)throw new jp(kp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(NE(e,s[c])),u.push(s[c+1]);for(var l=[],h=new _y,f=a.length-1;f>=0;--f)if(!LE(l,a[f])){var d=a[f],p=u[f];p instanceof cO&&(p=p.o_);var g=o.If(d);if(p instanceof vO)l.push(d);else{var m=xE(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new ty(l);return new wE(h.hn(),y,o.fieldTransforms)}function PE(t,e,n,r){return void 0===r&&(r=!1),xE(n,t.Rf(r?4:3,e))}function xE(t,e){if(t instanceof cO&&(t=t.o_),kE(t))return jE("Unsupported field value:",e,t),AE(t,e);if(t instanceof bO)return function(t,e){if(!OE(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=xE(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof cO&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fm(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hp.fromDate(t);return{timestampValue:dm(e.serializer,n)}}if(t instanceof Hp){var r=new Hp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dm(e.serializer,r)}}if(t instanceof TO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof SO)return{bytesValue:pm(e.serializer,t.T_)};if(t instanceof YO){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ym(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+gO(t))}(t,e)}function AE(t,e){var n={};return Vg(t)?e.path&&e.path.length>0&&e.en.push(e.path):Fg(t,function(t,r){var i=xE(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function kE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hp||t instanceof TO||t instanceof SO||t instanceof YO||t instanceof bO)}function jE(t,e,n){if(!kE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gO(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function NE(t,e,n){if(e instanceof cO&&(e=e.o_),e instanceof UO)return e.G_;if("string"==typeof e)return DE(t,e);throw ME("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var RE=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(RE)>=0)throw ME("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(UO.bind.apply(UO,Object(fl.g)([void 0],e.split("."))))).G_}catch(r){throw ME("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ME(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new jp(kp.INVALID_ARGUMENT,(a+=". ")+t+u)}function LE(t,e){return t.some(function(t){return t.isEqual(e)})}var UE=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new jp(kp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(fl.d)(this,function(u){switch(u.label){case 0:return n=Ap(t),r=Em(n.serializer)+"/documents",i={documents:e.map(function(t){return vm(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xp(!!e.found);var n=_m(t,e.found.name),r=mm(e.found.updateTime),i=new vy({mapValue:{fields:e.found.fields}});return new Ey(n,r,i,{})}(t,e):"missing"in e?function(t,e){xp(!!e.missing),xp(!!e.readTime);var n=_m(t,e.missing),r=mm(e.readTime);return new Cy(n,r)}(t,e):Pp()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());xp(!!e),a.push(e)}),a)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Cy||t instanceof Ey?n.bf(t):Pp()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new yy(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e=this;return Object(fl.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Kp.st(n);e.mutations.push(new by(r,e.rn(r)))}),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(s){switch(s.label){case 0:return n=Ap(t),r=Em(n.serializer)+"/documents",i={writes:e.map(function(t){return Sm(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof Ey)e=t.version;else{if(!(t instanceof Cy))throw Pp();e=zp.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new jp(kp.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?ry.updateTime(e):ry.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(zp.min()))throw new jp(kp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ry.updateTime(e)}return ry.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),FE=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new yb(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(fl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(fl.d)(this,function(r){return t=new UE(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Jp(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!cg(e)}return!1},t}(),VE=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=wp.UNAUTHENTICATED,this.clientId=Fp.D(),this.Of=function(){},this.g=new cb,this.credentials.A(function(t){Cp("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new jp(kp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new cb;return this.di.Ni(function(){return Object(fl.b)(t,void 0,void 0,function(){var t,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=kb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function qE(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),Cp("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(fl.b)(r,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return[4,Yv(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function QE(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,HE(t)];case 1:return n=i.sent(),Cp("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return(n=Ap(t)).di.Li(),Cp("RemoteStore","RemoteStore received new credentials"),r=C_(n),n.Mu.add(3),[4,y_(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,m_(n)];case 3:return i.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function HE(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Cp("FirestoreClient","Using default OfflineComponentProvider"),[4,qE(t,new iO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function zE(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(Cp("FirestoreClient","Using default OnlineComponentProvider"),[4,QE(t,new aO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function BE(t){return HE(t).then(function(t){return t.persistence})}function $E(t){return HE(t).then(function(t){return t.Cu})}function GE(t){return zE(t).then(function(t){return t.Oh})}function WE(t){return zE(t).then(function(t){return t.ga})}function KE(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,zE(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=dw.bind(null,e.ga),n.Zu=gw.bind(null,e.ga),n)]}})})}function JE(t,e,n,r,i){var s=new uO({next:function(s){e.Ri(function(){return z_(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new jp(kp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new jp(kp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new W_(Py(n.path),s,{includeMetadataChanges:!0,oa:!0});return H_(t,o)}function XE(t,e,n,r,i){var s=new uO({next:function(n){e.Ri(function(){return z_(t,o)}),n.fromCache&&"server"===r.source?i.reject(new jp(kp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new W_(n,s,{includeMetadataChanges:!0,oa:!0});return H_(t,o)}var YE=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=bE(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=ZE(t,this.U_),i=vC(r.j_,e,n),s=TE(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,ry.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=ZE(t,this.U_);return e instanceof cO&&(e=e.o_),s="string"==typeof e||e instanceof UO?IE(this.Qf,"WriteBatch.update",o.K_,e,n,r):SE(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,ry.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=ZE(t,this.U_);return this.qf=this.qf.concat(new yy(e.K_,ry.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new jp(kp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ZE(t,e){if(t instanceof cO&&(t=t.o_),t.firestore!==e)throw new jp(kp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var tC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(fl.c)(e,t),e.prototype.get=function(e){var n=this,r=ZE(e,this.U_),i=new GO(this.U_);return t.prototype.get.call(this,e).then(function(t){return new QO(n.U_,i,r.K_,t.W_,new hC(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=bE(t)}return t.prototype.get=function(t){var e=this,n=ZE(t,this.U_),r=new gE(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return Pp();var i=t[0];if(i instanceof Cy)return new DO(e.U_,r,n.K_,null,n.j_);if(i instanceof Ey)return new DO(e.U_,r,i.key,i,n.j_);throw Pp()})},t.prototype.set=function(t,e,n){var r=ZE(t,this.U_),i=vC(r.j_,e,n),s=TE(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=ZE(t,this.U_);return e instanceof cO&&(e=e.o_),s="string"==typeof e||e instanceof UO?IE(this.Qf,"Transaction.update",o.K_,e,n,r):SE(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=ZE(t,this.U_);return this.Wf.delete(e.K_),this},t}()),eC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){qO(t);var n=rC(t),r=t.S_(),i=new aO;return VO(n,i,new sO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){qO(t);var e=rC(t),n=t.S_(),r=new aO;return VO(e,r,new oO(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new jp(kp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cb;return t.z_.Ni(function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return bb.Gs()?[4,bb.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Kv(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),nC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof _p||(i.Gf=e),i}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Sp("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(fl.b)(e,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,BE(t)];case 1:return e=r.sent(),[4,GE(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Ap(t);return e.Mu.delete(0),m_(e)}(n))]}})})})}(rC(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(fl.b)(e,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,BE(t)];case 1:return e=r.sent(),[4,GE(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return(e=Ap(t)).Mu.add(0),[4,y_(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(rC(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cb;return t.di.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(r){switch(r.label){case 0:return e=Ow,[4,WE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(rC(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=rC(t),i=hb(e)?e:{next:e},s=new uO(i);return t.z_.Ri(function(){return Object(fl.b)(n,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Ap(t).Hu.add(e),e.next()},[4,KE(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})}),function(){s.r_(),t.z_.Ri(function(){return Object(fl.b)(n,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Ap(t).Hu.delete(e)},[4,KE(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new jp(kp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yC(this,dE(this.o_,t))}catch(t){throw uC(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new aC(this,pE(this.o_,t))}catch(t){throw uC(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new pC(this,function(t,e){if(lO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jp(kp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ZO(t,null,function(t){return new Sy($p.X(),t)}(e))}(this.o_,t))}catch(t){throw uC(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new cb;return t.di.Ri(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return zE(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new FE(t.di,n,e,r).run(),[2]}})})}),r.promise}(rC(t),function(n){return e(new tC(t,n))})}(this.o_,function(n){return t(new sC(e,n))})},e.prototype.batch=function(){var t=this;return rC(this.o_),new oC(new YE(this.o_,function(e){return JO(t.o_,e)}))},e}(cO);function rC(t){return t.H_||iC(t),t.H_.kf(),t.H_}function iC(t){var e=t.S_(),n=function(t,e,n){return new vp(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new VE(t.P_,t.z_,n)}var sC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(fl.c)(e,t),e.prototype.get=function(t){var e=this,n=bC(t);return this.o_.get(n).then(function(t){return new fC(e.U_,t)})},e.prototype.set=function(t,e,n){var r=bC(t);return n?(hO("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=bC(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(fl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=bC(t);return this.o_.delete(e),this},e}(cO),oC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.set=function(t,e,n){var r=bC(t);return n?(hO("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=bC(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(fl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=bC(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(cO),aC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new RO(e),r}return Object(fl.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new jp(kp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new YO(n.o_,r,new Kp(t)))},e.q_=function(t,n,r){return new e(n,new YO(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yC(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yC(this.firestore,dE(this.o_,t))}catch(t){throw uC(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof cO&&(t=t.o_),t instanceof YO&&mE(this.o_,t)},e.prototype.set=function(t,e){e=hO("DocumentReference.set",e);try{return function(t,e,n){var r=mO(t.firestore,FO),i=vC(t.j_,e,n);return JO(r,TE(bE(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,ry.on()))}(this.o_,t,e)}catch(t){throw uC(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?WO(this.o_,t):WO.apply(void 0,Object(fl.g)([this.o_,t,e],n))}catch(t){throw uC(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return JO(mO((t=this.o_).firestore,FO),[new yy(t.K_,ry.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cC(e),i=lC(e,function(e){return new fC(t.firestore,new QO(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return KO(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new GO(n),s=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,$E(r)];case 1:return[4,function(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s;return Object(fl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ap(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof Ey?n.resolve(r):r instanceof Cy?n.resolve(null):n.reject(new jp(kp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=kb(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new QO(n,i,t.K_,e,new hC(e instanceof Ey&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,KE(r)];case 1:return[4,JE(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return XO(n,t,e)})}(this.o_):function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,KE(r)];case 1:return[4,JE(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return XO(n,t,e)})}(this.o_)).then(function(t){return new fC(e.firestore,new QO(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(cO);function uC(t,e,n){return t.message=t.message.replace(e,n),t}function cC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!hb(r))return r}return{}}function lC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=hb(t[0])?t[0]:hb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hC=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),fC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new aC(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return $O(this.o_,t.o_)},e}(cO),dC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(fC),pC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(fl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,eE(this.o_,function(t,e,n){var r=e,i=LO("where",t);return new nE(i,r,n)}(t,n,r)))}catch(t){throw uC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,eE(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=LO("orderBy",t);return new rE(r,n)}(t,n)))}catch(t){throw uC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,eE(this.o_,function(t){return yO("limit",t),new iE("limit",t,"F")}(t)))}catch(t){throw uC(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,eE(this.o_,function(t){return yO("limitToLast",t),new iE("limitToLast",t,"L")}(t)))}catch(t){throw uC(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sE("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw uC(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sE("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw uC(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oE("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw uC(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oE("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw uC(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return yE(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new GO(n),s=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,$E(r)];case 1:return[4,function(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,s_(t,e,!0)];case 1:return r=c.sent(),i=new cw(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=kb(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new zO(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new GO(n),s=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,KE(r)];case 1:return[4,XE(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new zO(n,i,t,e)})}(this.o_):function(t){var e=this,n=mO(t.firestore,FO),r=rC(n),i=new GO(n);hE(t.tf);var s=new cb;return n.z_.Ri(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,KE(r)];case 1:return[4,XE(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new zO(n,i,t,e)})}(this.o_)).then(function(t){return new mC(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cC(e),i=lC(e,function(e){return new mC(t.firestore,e)});return KO(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(cO),gC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new dC(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(cO),mC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new pC(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new dC(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new gC(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new dC(n.U_,r))})},e.prototype.isEqual=function(t){return $O(this.o_,t.o_)},e}(cO),yC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new aC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new aC(this.firestore,void 0===t?pE(this.o_):pE(this.o_,t))}catch(t){throw uC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mO(t.firestore,FO),r=pE(t),i=vC(t.j_,e);return JO(n,TE(bE(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,ry.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new aC(e.firestore,t)})},e.prototype.isEqual=function(t){return mE(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(pC);function bC(t){return t instanceof cO&&(t=t.o_),mO(t,YO)}function vC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _C,wC=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(UO.bind.apply(UO,Object(fl.g)([void 0],e))))||this}return Object(fl.c)(e,t),e.documentId=function(){return new e(Wp.et().J())},e.prototype.isEqual=function(t){return t instanceof cO&&(t=t.o_),t instanceof UO&&this.o_.G_.isEqual(t.G_)},e}(cO),OC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.serverTimestamp=function(){var t=new wO("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new vO("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new OO("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new EO("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new CO("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(cO),EC={Firestore:nC,GeoPoint:TO,Timestamp:Hp,Blob:jO,Transaction:sC,WriteBatch:oC,DocumentReference:aC,DocumentSnapshot:fC,Query:pC,QueryDocumentSnapshot:dC,QuerySnapshot:mC,CollectionReference:yC,FieldPath:wC,FieldValue:OC,setLogLevel:function(t){Op.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new bp.a("firestore",function(t){return function(t,e){return new nC(t,new FO(t,e),new eC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},EC)))})(_C=dl.a),_C.registerVersion("@firebase/firestore","2.0.4");var CC=n("VRyK"),TC=n("qgXg"),SC=n("Ylt2");class IC extends _t.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new PC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ai.a;if(this.isStopped||this.hasError?s=wt.a.EMPTY:(this.observers.push(t),s=new SC.a(this,t)),r&&t.add(t=new cl.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||TC.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class PC{constructor(t,e){this.time=t,this.value=e}}function xC(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new IC(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function AC(t,e){return e?Zi(()=>t,e):Zi(()=>t)}var kC=n("tf+s");const jC=new r.q("angularfire2.auth.use-emulator"),NC=new r.q("angularfire2.auth.settings"),RC=new r.q("angularfire2.auth.tenant-id"),DC=new r.q("angularfire2.auth.langugage-code"),MC=new r.q("angularfire2.auth.use-device-language"),LC=new r.q("angularfire.auth.persistence");let UC=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new ll.d(i),f=Object(ll.h)(h),d=new _t.a,p=Object(Ot.a)(void 0).pipe(Object(cl.b)(h.outsideAngular),Zi(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(xt.a)(()=>Object(ll.g)(t,i,e)),Object(xt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(ll.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),xC({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ot.a)(null);else{p.pipe(ss()).subscribe();const t=p.pipe(Zi(t=>t.getRedirectResult().then(t=>t,()=>null)),f,xC({bufferSize:1,refCount:!1})),e=t=>new Dt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Zi(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Zi(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(AC(n),Object(kC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular)),this.user=t.pipe(AC(r),Object(kC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular)),this.idToken=this.user.pipe(Zi(t=>t?Object(qr.a)(t.getIdToken()):Object(Ot.a)(null))),this.idTokenResult=this.user.pipe(Zi(t=>t?Object(qr.a)(t.getIdTokenResult()):Object(Ot.a)(null))),this.credential=Object(CC.a)(t,d,this.authState.pipe(St(t=>!t))).pipe(Object(xt.a)(t=>(null==t?void 0:t.user)?t:null),Object(kC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular))}return Object(ll.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ll.c),r.Ub(ll.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(jC,8),r.Ub(NC,8),r.Ub(RC,8),r.Ub(DC,8),r.Ub(MC,8),r.Ub(LC,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(ll.c),Object(r.Ub)(ll.b,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(jC,8),Object(r.Ub)(NC,8),Object(r.Ub)(RC,8),Object(r.Ub)(DC,8),Object(r.Ub)(MC,8),Object(r.Ub)(LC,8))},token:t,providedIn:"any"}),t})();function FC(t,e){return function(t,e=Tt.b){return new Dt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function VC(t,e){return FC(t,e).pipe(Object(xt.a)(t=>({payload:t,type:"query"})))}function qC(t,e){return VC(t,e).pipe($t(void 0),il(),Object(xt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function QC(t,e,n){return qC(t,n).pipe(ns((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return HC(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return HC(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HC(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new al(void 0,void 0)),Object(xt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function HC(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function zC(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ll.e)(UC,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class BC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?qC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),St(t=>t.length>0),this.afs.keepUnstableUntilFirst):qC(this.query,this.afs.schedulers.outsideAngular).pipe(St(t=>t.length>0),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ns((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zC(t);return QC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return VC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(qr.a)(this.query.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new $C(this.ref.doc(t),this.afs)}}class $C{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=YC(n,e);return new BC(r,i,this.afs)}snapshotChanges(){return FC(this.ref,this.afs.schedulers.outsideAngular).pipe($t(void 0),il(),Object(xt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(xt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(qr.a)(this.ref.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}}class GC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),St(t=>t.length>0),this.afs.keepUnstableUntilFirst):qC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ns((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zC(t);return QC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return VC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(qr.a)(this.query.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}}const WC=new r.q("angularfire2.enableFirestorePersistence"),KC=new r.q("angularfire2.firestore.persistenceSettings"),JC=new r.q("angularfire2.firestore.settings"),XC=new r.q("angularfire2.firestore.use-emulator");function YC(t,e=(t=>t)){return{query:e(t),ref:t}}let ZC=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new ll.d(s),this.keepUnstableUntilFirst=Object(ll.h)(this.schedulers);const c=Object(ll.g)(t,s,e);!hl.a.auth&&u&&Object(ll.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ll.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(qr.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Ot.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ot.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=YC(n,e),s=this.schedulers.ngZone.run(()=>r);return new BC(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new GC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new $C(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ll.c),r.Ub(ll.b,8),r.Ub(WC,8),r.Ub(JC,8),r.Ub(r.B),r.Ub(r.z),r.Ub(KC,8),r.Ub(XC,8),r.Ub(jC,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(ll.c),Object(r.Ub)(ll.b,8),Object(r.Ub)(WC,8),Object(r.Ub)(JC,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(KC,8),Object(r.Ub)(XC,8),Object(r.Ub)(jC,8))},token:t,providedIn:"any"}),t})(),tT=(()=>{class t{constructor(t,e,n,r,s,o){this.firestore=t,this.shoppingCart=e,this.router=n,this.spinner=r,this.toast=s,this.http=o,this.baseUrl=i}createOrder(t){let e=this.shoppingCart.get_shopping_cart_items();return this.http.post(this.baseUrl+"order",t).subscribe(t=>{this.spinner.hide();const n={state:{message:"Thank you for your purchase",products:[e],orderId:Math.floor(1e9*Math.random()),total:this.shoppingCart.getTotal()}};this.router.navigate(["/thankyou"],n).then(t=>{let e=[...localStorage.getItem("shopping_cart")];e.length=0,localStorage.setItem("shopping_cart",JSON.stringify(e))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ZC),r.Ub(ju),r.Ub(ja),r.Ub(Au),r.Ub(Cu),r.Ub(di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eT(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Mb(2,"img",10),r.Pb(),r.Qb(3,"td"),r.oc(4),r.Pb(),r.Qb(5,"td"),r.oc(6),r.Pb(),r.Qb(7,"td"),r.oc(8),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(2),r.fc("alt",t.name),r.ec("src",t.image,r.jc),r.Ab(2),r.pc(t.name),r.Ab(2),r.qc("$",t.price,""),r.Ab(2),r.pc(t.quantity)}}let nT=(()=>{class t{constructor(t,e,n){this.router=t,this.orderService=e,this.shoppingCart=n;const r=this.router.getCurrentNavigation().extras.state;this.message=r.message,this.orderId=r.orderId,this.products=r.products[0],this.cartTotal=r.total}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ja),r.Lb(tT),r.Lb(ju))},t.\u0275cmp=r.Fb({type:t,selectors:[["mg-thankyou"]],decls:36,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"jumbotron","text-center"],[1,"display-3"],[1,"lead"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"border-0"],[2,"border","none"],["width","100px",1,"img-thumbnail",3,"src","alt"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h1",4),r.oc(5,"Thank You!"),r.Pb(),r.Qb(6,"p",5),r.Qb(7,"strong"),r.oc(8,"Please check your email"),r.Pb(),r.oc(9," for order confirmation. "),r.Pb(),r.Mb(10,"hr"),r.Mb(11,"p"),r.Qb(12,"p"),r.oc(13," Order Id : "),r.Qb(14,"strong"),r.oc(15),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"table",6),r.Qb(17,"thead"),r.Qb(18,"tr"),r.Qb(19,"th"),r.oc(20,"Image"),r.Pb(),r.Qb(21,"th"),r.oc(22,"Title"),r.Pb(),r.Qb(23,"th"),r.oc(24,"Price"),r.Pb(),r.Qb(25,"th"),r.oc(26,"Quantity"),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"tbody"),r.nc(28,eT,9,5,"tr",7),r.Qb(29,"tr",8),r.Mb(30,"td",9),r.Mb(31,"td"),r.Qb(32,"td"),r.oc(33,"TOTAL"),r.Pb(),r.Qb(34,"td"),r.oc(35),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(15),r.pc(e.orderId),r.Ab(13),r.ec("ngForOf",e.products),r.Ab(7),r.qc("$",e.cartTotal,""))},directives:[k],styles:[""]}),t})(),rT=(()=>{class t{constructor(t){this.http=t,this.baseUrl=i,this.products=[]}getAllProducts(){return this.products.length>0?Object(Ot.a)(this.products):this.http.get(this.baseUrl+"products").pipe(Object(xt.a)(t=>(this.products=t,t)))}getSortedProducts(t){return t?this.http.get(this.baseUrl+"products"+t).pipe(Object(xt.a)(t=>(this.products=t,t))):this.http.get(this.baseUrl+"products").pipe(Object(xt.a)(t=>(this.products=t,t)))}getSingleProduct(t){return this.http.get(this.baseUrl+"products/"+t)}getCategoryProducts(t){return this.http.get(this.baseUrl+"products").pipe(Object(xt.a)(e=>e.filter(e=>e.category.toLowerCase()===t.toLowerCase())))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iT(t,e){1&t&&(r.Qb(0,"span"),r.Qb(1,"small",11),r.oc(2,"Out of stock"),r.Pb(),r.Pb())}let sT=(()=>{class t{constructor(t){this.shoppingCartService=t}ngOnInit(){}selectProduct(t){}addToCart(t){this.shoppingCartService.addProduct(t),this.shoppingCartService.getTotal()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ju))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-product"]],inputs:{individualProduct:"individualProduct"},decls:20,vars:20,consts:[[1,"card"],[1,"button-container"],[3,"click"],["width","200px","height","300px",1,"card-img-top",2,"cursor","pointer",3,"src","alt","click"],[1,"card-header"],[1,"card-title"],[1,"product-description"],[1,"lead","mr-3"],[4,"ngIf"],["id","mobile-button"],[1,"col-md-6"],[2,"color","red"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"button",2),r.Xb("click",function(){return e.addToCart(e.individualProduct)}),r.oc(3),r.Pb(),r.Pb(),r.Qb(4,"img",3),r.Xb("click",function(){return e.selectProduct(e.individualProduct.id)}),r.Pb(),r.Pb(),r.Qb(5,"div",4),r.Qb(6,"div",5),r.Qb(7,"h6"),r.oc(8),r.Pb(),r.Qb(9,"p",6),r.oc(10),r.Pb(),r.Qb(11,"span",7),r.oc(12," Price:"),r.Qb(13,"strong"),r.oc(14),r.Pb(),r.Pb(),r.nc(15,iT,3,0,"span",8),r.Pb(),r.Qb(16,"div",9),r.Qb(17,"div",10),r.Qb(18,"button",2),r.Xb("click",function(){return e.addToCart(e.individualProduct)}),r.oc(19),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(2),r.Db("disabled",0===e.individualProduct.stock)("button",e.individualProduct.stock>0)("fourth",e.individualProduct.stock>0),r.Ab(1),r.qc(" ",e.individualProduct.stock<1?"NO STOCK":"Add To Cart"," "),r.Ab(1),r.fc("alt",e.individualProduct.name),r.ec("src",e.individualProduct.image,r.jc),r.Ab(4),r.pc(e.individualProduct.name),r.Ab(2),r.pc(e.individualProduct.description),r.Ab(4),r.qc(" $",e.individualProduct.price,""),r.Ab(1),r.ec("ngIf",!e.individualProduct.stock),r.Ab(3),r.Db("disabled",0===e.individualProduct.stock)("button",e.individualProduct.stock>0)("fourth",e.individualProduct.stock>0),r.Ab(1),r.qc(" ",e.individualProduct.stock<1?"NO STOCK":"Add To Cart"," "))},directives:[N],styles:[".product-description[_ngcontent-%COMP%]{height:55px}@media (max-width:576px){.product-description[_ngcontent-%COMP%]{height:40px}}.button-container[_ngcontent-%COMP%]{z-index:1;opacity:0;position:absolute;width:100%;height:100%;top:0;left:0;background:hsla(0,0%,100%,.5);display:flex;justify-content:center;align-items:center;transition:all .5s}.button-container[_ngcontent-%COMP%]:hover{opacity:1}#mobile-button[_ngcontent-%COMP%]{display:none}@media (max-width:576px){#mobile-button[_ngcontent-%COMP%]{display:block}}@media (max-width:576px){.button-container[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:all .5s}.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#fff;border:2px solid red;border-radius:.6em}.button[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{display:block;margin:0 auto;font-size:1rem;padding:.5em 1.5em}.button[_ngcontent-%COMP%]{background-color:#b39d4e;border:2px solid #e74c3c;border-radius:.6em;color:#fff;text-decoration:none;text-align:center}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:hover{color:#fff;outline:0;border:2px solid #b39d4e}.fourth[_ngcontent-%COMP%]{border-color:#340100;color:#fff;background-image:linear-gradient(45deg,#340100 50%,transparent 0);background-position:100%;background-size:400%;transition:background .3s ease-in-out}.fourth[_ngcontent-%COMP%]:hover{background-position:0}"]}),t})();function oT(t,e){if(1&t&&(r.Qb(0,"option",27),r.oc(1),r.Pb()),2&t){const t=e.$implicit;r.ec("value",t.value),r.Ab(1),r.qc(" ",t.name," ")}}function aT(t,e){if(1&t&&(r.Qb(0,"div",28),r.Mb(1,"app-product",29),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.ec("individualProduct",t)}}function uT(t,e){if(1&t&&(r.Qb(0,"div",22),r.Qb(1,"div"),r.oc(2),r.Pb(),r.Qb(3,"div"),r.oc(4),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(2),r.rc("",t.quantity,"x ",t.name,""),r.Ab(2),r.qc("$",t.subtotal,"")}}function cT(t,e){1&t&&(r.Qb(0,"p",35),r.oc(1," Please fill in the form before submitting "),r.Pb())}function lT(t,e){1&t&&(r.Qb(0,"li"),r.oc(1," - Email with a valid address "),r.Pb())}function hT(t,e){1&t&&(r.Qb(0,"li"),r.oc(1," - First name "),r.Pb())}function fT(t,e){1&t&&(r.Qb(0,"li"),r.oc(1," - Last name "),r.Pb())}function dT(t,e){1&t&&(r.Qb(0,"li"),r.oc(1,"- Address"),r.Pb())}function pT(t,e){1&t&&(r.Qb(0,"li"),r.oc(1,"- ZIP Code"),r.Pb())}function gT(t,e){if(1&t&&(r.Qb(0,"div",36),r.Qb(1,"ul"),r.Qb(2,"li"),r.Qb(3,"strong"),r.oc(4,"Please fill in the following fields:"),r.Pb(),r.Pb(),r.nc(5,lT,2,0,"li",37),r.nc(6,hT,2,0,"li",37),r.nc(7,fT,2,0,"li",37),r.nc(8,dT,2,0,"li",37),r.nc(9,pT,2,0,"li",37),r.Pb(),r.Pb()),2&t){const t=r.Zb();r.Ab(5),r.ec("ngIf",t.checkoutForm.get("email").errors),r.Ab(1),r.ec("ngIf",t.checkoutForm.get("firstName").errors),r.Ab(1),r.ec("ngIf",t.checkoutForm.get("lastName").errors),r.Ab(1),r.ec("ngIf",t.checkoutForm.get("address").errors),r.Ab(1),r.ec("ngIf",t.checkoutForm.get("zipcode").errors)}}function mT(t,e){1&t&&(r.Qb(0,"div",38),r.Qb(1,"h4"),r.oc(2,"Your Cart Is Empty"),r.Pb(),r.Qb(3,"button",39),r.oc(4,"GO TO SHOP"),r.Pb(),r.Pb())}function yT(t,e){1&t&&(r.Qb(0,"p"),r.oc(1," Woops, seems like we don't have it. Please try again later! "),r.Pb())}function bT(t,e){if(1&t&&(r.Qb(0,"div",8),r.Mb(1,"app-product",9),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.ec("individualProduct",t)}}function vT(t,e){1&t&&(r.Qb(0,"p"),r.oc(1," Woops, seems like we don't have it. Please try again later! "),r.Pb())}function _T(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",8),r.Qb(1,"div",9),r.Mb(2,"img",10),r.Pb(),r.Qb(3,"div",11),r.Qb(4,"div",12),r.Qb(5,"p"),r.oc(6),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"div",13),r.Qb(8,"h6"),r.oc(9),r.Pb(),r.Qb(10,"p",14),r.oc(11),r.Pb(),r.Pb(),r.Qb(12,"div",15),r.Qb(13,"div",16),r.Qb(14,"button",17),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb().addToCart(n)}),r.oc(15),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.fc("alt",t.name),r.ec("src",t.image,r.jc),r.Ab(4),r.pc(t.name),r.Ab(3),r.pc(t.description),r.Ab(2),r.qc("$",t.price,""),r.Ab(3),r.Db("disabled",0===t.stock)("button",t.stock>0)("fourth",t.stock>0),r.Ab(1),r.qc(" ",t.stock<1?"NO STOCK":"Add To Cart"," ")}}const wT=[{path:"",component:(()=>{class t{constructor(t,e){this.productService=t,this.shopping_cart=e,this.products=[],this.sortSelected="?sort=name",this.sortOptions=[{name:"Alphabetical",value:"?sort=name"},{name:"Price: Low to High",value:"?sort=priceasc"},{name:"Price High to Low",value:"?sort=pricedesc"}]}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getAllProducts().subscribe(t=>{this.products=t})}getSingleProduct(t){return this.products.find(e=>e.id===t)}getSingleCategory(t){return this.products.filter(e=>e.category===t)}onSortSelected(t){let e=t.target.value;this.sortSelected=e,this.productService.getSortedProducts(e).subscribe(t=>this.products=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(rT),r.Lb(ju))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home"]],decls:93,vars:2,consts:[[1,"section"],[1,"container"],[1,"row"],[1,"col-md-4","col-xs-6"],[1,"shop"],[1,"shop-img"],["src","./assets/img/chinese.jpg","alt",""],[1,"shop-body"],["routerLink","/chinese",1,"cta-btn"],[1,"fa","fa-arrow-circle-right"],["src","https://upload.wikimedia.org/wikipedia/commons/0/07/Spices_in_an_Indian_market.jpg","alt",""],["routerLink","/indian",1,"cta-btn"],["src","https://static.wixstatic.com/media/c7baa0_6970a105a309428d8ca4c78227552839~mv2_d_2800_2240_s_2.jpg/v1/fill/w_1000,h_800,al_c,q_90,usm_0.66_1.00_0.01/c7baa0_6970a105a309428d8ca4c78227552839~mv2_d_2800_2240_s_2.jpg","alt",""],["routerLink","/thai",1,"cta-btn"],["src","https://pinkjinn.files.wordpress.com/2019/01/spices-feature-image.jpg?w=620","alt",""],["routerLink","/arabic",1,"cta-btn"],["src","https://istrianchef.com/wp-content/uploads/2015/06/hrana-za-srce.jpg","alt",""],["routerLink","/mediterranean",1,"cta-btn"],["src","https://cdn.britannica.com/s:900x675,c:crop/43/193443-131-17ABE1C9/Union-Jack-flag-Great-Britain-united-kingdom.jpg","alt",""],["routerLink","/english",1,"cta-btn"],[1,"col-md-12"],[1,"section-title"],[1,"title"],[1,"sorting"],[1,"",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-6 col-sm-6 col-lg-3",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-6","col-sm-6","col-lg-3"],[3,"individualProduct"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Mb(6,"img",6),r.Pb(),r.Qb(7,"div",7),r.Qb(8,"h3"),r.oc(9,"Chinese"),r.Mb(10,"br"),r.oc(11,"Collection"),r.Pb(),r.Qb(12,"a",8),r.oc(13,"Shop now "),r.Mb(14,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",3),r.Qb(16,"div",4),r.Qb(17,"div",5),r.Mb(18,"img",10),r.Pb(),r.Qb(19,"div",7),r.Qb(20,"h3"),r.oc(21,"Indian"),r.Mb(22,"br"),r.oc(23,"Collection"),r.Pb(),r.Qb(24,"a",11),r.oc(25,"Shop now "),r.Mb(26,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"div",3),r.Qb(28,"div",4),r.Qb(29,"div",5),r.Mb(30,"img",12),r.Pb(),r.Qb(31,"div",7),r.Qb(32,"h3"),r.oc(33,"Thai"),r.Mb(34,"br"),r.oc(35,"Collection"),r.Pb(),r.Qb(36,"a",13),r.oc(37,"Shop now "),r.Mb(38,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(39,"div",3),r.Qb(40,"div",4),r.Qb(41,"div",5),r.Mb(42,"img",14),r.Pb(),r.Qb(43,"div",7),r.Qb(44,"h3"),r.oc(45,"Middle Eastern"),r.Mb(46,"br"),r.oc(47,"Collection"),r.Pb(),r.Qb(48,"a",15),r.oc(49,"Shop now "),r.Mb(50,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(51,"div",3),r.Qb(52,"div",4),r.Qb(53,"div",5),r.Mb(54,"img",16),r.Pb(),r.Qb(55,"div",7),r.Qb(56,"h3"),r.oc(57,"Mediterranean"),r.Mb(58,"br"),r.oc(59,"Collection"),r.Pb(),r.Qb(60,"a",17),r.oc(61,"Shop now "),r.Mb(62,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(63,"div",3),r.Qb(64,"div",4),r.Qb(65,"div",5),r.Mb(66,"img",18),r.Pb(),r.Qb(67,"div",7),r.Qb(68,"h3"),r.oc(69,"British"),r.Mb(70,"br"),r.oc(71,"Collection"),r.Pb(),r.Qb(72,"a",19),r.oc(73,"Shop now "),r.Mb(74,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(75,"div",0),r.Qb(76,"div",1),r.Qb(77,"div",2),r.Qb(78,"div",20),r.Qb(79,"div",21),r.Qb(80,"h3",22),r.oc(81,"Our Products"),r.Pb(),r.Pb(),r.Qb(82,"div",23),r.Qb(83,"strong"),r.oc(84,"Sort by:"),r.Pb(),r.Qb(85,"select",24),r.Xb("change",function(t){return e.onSortSelected(t)}),r.nc(86,oT,2,2,"option",25),r.Pb(),r.Pb(),r.Qb(87,"div",20),r.Qb(88,"div",2),r.nc(89,aT,2,1,"div",26),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(90,"div",0),r.Qb(91,"div",1),r.Mb(92,"div",2),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(86),r.ec("ngForOf",e.sortOptions),r.Ab(3),r.ec("ngForOf",e.products))},directives:[Ra,k,bc,Oc,sT],styles:[".sorting[_ngcontent-%COMP%]{color:#2b2d42;margin-bottom:20px}.sorting[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:10px;font-size:22px}"]}),t})()},{path:"checkout",component:(()=>{class t{constructor(t,e,n,r,i){this.shoppingCart=t,this.orderService=e,this.router=n,this.spinner=r,this.fb=i,this.cartTotal=0,this.cartData=[],this.showSpinner=!1}ngOnInit(){this.cartData=this.getCartContent(),this.cartTotal=this.shoppingCart.getTotal(),this.createCheckoutForm()}createCheckoutForm(){this.checkoutForm=this.fb.group({firstName:["",[zu.required]],lastName:["",[zu.required]],address:["",[zu.required]],email:["",[zu.required,zu.email]],telephone:[""],city:[""],country:[""],zipcode:["",[zu.required]],orderNotes:[""]})}getCartContent(){return this.shoppingCart.get_shopping_cart_items()}onSubmit(){const t=this.cartData;let e=this.shoppingCart.getTotal();const n=Object.assign(Object.assign({products:JSON.stringify(t)},this.checkoutForm.value),{total:e});this.spinner.show(),this.orderService.createOrder(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ju),r.Lb(tT),r.Lb(ja),r.Lb(Au),r.Lb(Zc))},t.\u0275cmp=r.Fb({type:t,selectors:[["mg-checkout"]],decls:67,vars:8,consts:[[1,"section"],[1,"container"],[3,"formGroup"],[1,"row"],[1,"col-md-7"],[1,"billing-details"],[1,"section-title"],[1,"title"],[1,"form-group"],["type","text","name","first-name","placeholder","First Name","formControlName","firstName","required","",1,"input"],["type","text","name","last-name","placeholder","Last Name","formControlName","lastName","required","",1,"input"],["type","email","name","email","placeholder","Please enter a correct email","formControlName","email","required","",1,"input"],["type","text","name","address","placeholder","Address","formControlName","address","required","",1,"input"],["type","text","name","city","placeholder","City","formControlName","city","required","",1,"input"],["type","text","name","country","placeholder","Country","formControlName","country","required","",1,"input"],["required","","type","text","name","zip-code","placeholder","ZIP Code","formControlName","zipcode",1,"input"],["type","tel","name","tel","placeholder","Telephone","formControlName","telephone","required","",1,"input"],[1,"order-notes"],["placeholder","Order Notes","formControlName","orderNotes",1,"input"],[1,"col-md-5","order-details"],[1,"section-title","text-center"],[1,"order-summary"],[1,"order-col"],[1,"order-products"],["class","order-col",4,"ngFor","ngForOf"],[1,"order-col","dropdown-divider"],[1,"order-total"],[1,"input-checkbox"],["type","checkbox","id","terms"],["for","terms"],["href","#"],["style","color: red; margin-top: 10px",4,"ngIf"],["type","submit",1,"btn-outline-danger","btn-sm","my-2","btn-block",3,"disabled","click"],["class","error-warning",4,"ngIf"],["class","text-center my-5",4,"ngIf"],[2,"color","red","margin-top","10px"],[1,"error-warning"],[4,"ngIf"],[1,"text-center","my-5"],["routerLink","/",1,"btn","btn-primary","btn-lg","mt-3"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"form",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Qb(7,"h3",7),r.oc(8,"Address"),r.Pb(),r.Pb(),r.Qb(9,"div",8),r.Mb(10,"input",9),r.Pb(),r.Qb(11,"div",8),r.Mb(12,"input",10),r.Pb(),r.Qb(13,"div",8),r.Mb(14,"input",11),r.Pb(),r.Qb(15,"div",8),r.Mb(16,"input",12),r.Pb(),r.Qb(17,"div",8),r.Mb(18,"input",13),r.Pb(),r.Qb(19,"div",8),r.Mb(20,"input",14),r.Pb(),r.Qb(21,"div",8),r.Mb(22,"input",15),r.Pb(),r.Qb(23,"div",8),r.Mb(24,"input",16),r.Pb(),r.Mb(25,"div",8),r.Pb(),r.Qb(26,"div",17),r.Mb(27,"textarea",18),r.Pb(),r.Pb(),r.Qb(28,"div",19),r.Qb(29,"div",20),r.Qb(30,"h3",7),r.oc(31,"Your Order"),r.Pb(),r.Pb(),r.Qb(32,"div",21),r.Qb(33,"div",22),r.Qb(34,"div"),r.Qb(35,"strong"),r.oc(36,"PRODUCT"),r.Pb(),r.Pb(),r.Qb(37,"div"),r.Qb(38,"strong"),r.oc(39,"SubTotal"),r.Pb(),r.Pb(),r.Pb(),r.Qb(40,"div",23),r.nc(41,uT,5,3,"div",24),r.Pb(),r.Qb(42,"div",22),r.Qb(43,"div"),r.oc(44,"Shipping"),r.Pb(),r.Qb(45,"div"),r.Qb(46,"strong"),r.oc(47,"FREE"),r.Pb(),r.Pb(),r.Pb(),r.Qb(48,"div",25),r.Qb(49,"div"),r.Qb(50,"strong"),r.oc(51,"TOTAL"),r.Pb(),r.Pb(),r.Qb(52,"div"),r.Qb(53,"strong",26),r.oc(54),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(55,"div",27),r.Mb(56,"input",28),r.Qb(57,"label",29),r.Mb(58,"span"),r.oc(59," I've read and accept the "),r.Qb(60,"a",30),r.oc(61,"terms & conditions"),r.Pb(),r.Pb(),r.nc(62,cT,2,0,"p",31),r.Pb(),r.Qb(63,"button",32),r.Xb("click",function(){return e.onSubmit()}),r.oc(64," Place order "),r.Pb(),r.nc(65,gT,10,5,"div",33),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.nc(66,mT,5,0,"div",34)),2&t&&(r.Ab(2),r.ec("formGroup",e.checkoutForm),r.Ab(39),r.ec("ngForOf",e.cartData),r.Ab(13),r.qc("$",e.cartTotal,""),r.Ab(8),r.ec("ngIf",!e.checkoutForm.valid),r.Ab(1),r.ec("disabled",e.cartTotal<=0)("disabled",!e.checkoutForm.valid),r.Ab(2),r.ec("ngIf",!e.checkoutForm.valid),r.Ab(1),r.ec("ngIf",e.cartData.total<=0))},directives:[zc,ac,Gc,Uu,oc,Kc,Xc,k,N,Na],styles:[".error-warning[_ngcontent-%COMP%]{padding:15px}.error-warning[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1px}"]}),t})()},{path:"cart",component:rl},{path:"thankyou",component:nT},{path:":category",component:(()=>{class t{constructor(t,e,n,r){this.productService=t,this.route=e,this.routerR=n,this.shopping_cart=r,this.products=[],this.routerR.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.category=this.route.snapshot.params.category}ngOnInit(){this.getCategoryProducts(this.category)}getCategoryProducts(t){return this.productService.getCategoryProducts(t).subscribe(t=>{this.products=t,console.log(t)})}getSingleProduct(t){}addToCart(t){this.shopping_cart.addProduct(t),this.shopping_cart.getTotal()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(rT),r.Lb(fo),r.Lb(ja),r.Lb(ju))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home"]],decls:11,vars:3,consts:[[1,"section"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"section-title"],[1,"title"],[4,"ngIf"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6"],[3,"individualProduct"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h3",5),r.oc(6),r.Pb(),r.nc(7,yT,2,0,"p",6),r.Pb(),r.Pb(),r.Qb(8,"div",3),r.Qb(9,"div",2),r.nc(10,bT,2,1,"div",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(6),r.qc("",e.category," Products"),r.Ab(1),r.ec("ngIf",!e.products.length),r.Ab(3),r.ec("ngForOf",e.products))},directives:[N,k,sT],styles:[".disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#fff;border:2px solid red;border-radius:.6em}.button[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{display:block;margin:0 auto;font-size:1rem;padding:.5em 1.8em}.button[_ngcontent-%COMP%]{background-color:#b39d4e;border:2px solid #e74c3c;border-radius:.6em;color:#fff;text-decoration:none;text-align:center}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:hover{color:#fff;outline:0;border:3px solid #b39d4e}.fourth[_ngcontent-%COMP%]{border-color:#340100;color:#fff;background-image:linear-gradient(45deg,#340100 50%,transparent 0);background-position:100%;background-size:400%;transition:background .3s ease-in-out}.fourth[_ngcontent-%COMP%]:hover{background-position:0}"]}),t})()},{path:"search/results",component:(()=>{class t{constructor(t,e,n,r){var i;this.api=t,this.route=e,this.router=n,this.shopping_cart=r,this.products=[],this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.filter=this.route.snapshot.params;const s=this.router.getCurrentNavigation();this.searchValues=null===(i=null==s?void 0:s.extras)||void 0===i?void 0:i.state}ngOnInit(){this.updateResults()}updateResults(){let t=this.filter.term,e=this.filter.category;t.length&&e.length?this.api.getAllProducts().subscribe(n=>{this.products=n.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())&&n.category===e)}):t.length&&!e.length?this.api.getAllProducts().subscribe(e=>{this.products=e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))}):e.length&&!t.length&&this.api.getAllProducts().subscribe(t=>{this.products=t.filter(t=>t.category===e)})}getSingleProduct(t){return this.products.find(e=>e.id===t)}getSingleCategory(t){return this.products.filter(e=>e.category===t)}addToCart(t){this.shopping_cart.addProduct(t),this.updateResults(),this.shopping_cart.getTotal()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(rT),r.Lb(fo),r.Lb(ja),r.Lb(ju))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-search"]],decls:11,vars:2,consts:[[1,"section"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"section-title"],[1,"title"],[4,"ngIf"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6"],[1,"card","my-2"],["width","200px","height","300px",1,"card-img-top",2,"cursor","pointer",3,"src","alt"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"lead"],[1,"row","d-flex","justify-content-center","border-primary","my-3"],[1,"col-md-6"],[3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h3",5),r.oc(6,"Search results:"),r.Pb(),r.nc(7,vT,2,0,"p",6),r.Pb(),r.Pb(),r.Qb(8,"div",3),r.Qb(9,"div",2),r.nc(10,_T,16,12,"div",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.ec("ngIf",!e.products.length),r.Ab(3),r.ec("ngForOf",e.products))},directives:[N,k],styles:[".decrease_quantity[_ngcontent-%COMP%], .increase_quantity[_ngcontent-%COMP%]{cursor:pointer}form[_ngcontent-%COMP%]{width:300px;margin:0 auto;text-align:center}.value-button[_ngcontent-%COMP%]{display:inline-block;border:1px solid #ddd;margin:0;width:40px;height:40px;vertical-align:middle;padding:10px 0 12px;text-align:center;background:#eee;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.value-button[_ngcontent-%COMP%]:hover{cursor:pointer}form[_ngcontent-%COMP%]   #decrease[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;background:red;color:#fff}form[_ngcontent-%COMP%]   #increase[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;background:green;color:#fff}input#number[_ngcontent-%COMP%]{text-align:center;border:1px solid #ddd;border-right:none;border-left:none;margin:0;width:40px;height:40px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]{border-right:1px solid #dee2e6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #dee2e6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:first-child{border-top:1px solid #dee2e6!important}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:nth-child(4), tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:nth-child(5){border-left:1px solid #dee2e6;border-right:1px solid #dee2e6;border-bottom:1px solid #dee2e6;font-weight:700;font-size:1.3rem;text-align:center}.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#fff;border:2px solid red;border-radius:.6em;display:flex;align-self:center}.button[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{font-size:1rem;padding:.5em 1.8em}.button[_ngcontent-%COMP%]{background-color:#b39d4e;border:2px solid #e74c3c;border-radius:.6em;color:#fff;display:block;margin:0 auto;text-decoration:none;text-align:center}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:hover{color:#fff;outline:0;border:3px solid #b39d4e}.fourth[_ngcontent-%COMP%]{border-color:#340100;color:#fff;background-image:linear-gradient(45deg,#340100 50%,transparent 0);background-position:100%;background-size:400%;transition:background .3s ease-in-out}.fourth[_ngcontent-%COMP%]:hover{background-position:0}"]}),t})()}];let OT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[$a.forRoot(wT,{onSameUrlNavigation:"reload"})],$a]}),t})(),ET=(()=>{class t{constructor(t,e,n){this.fbAuth=t,this.ngZone=e,this.router=n,this.fbAuth.authState.subscribe(t=>{t&&(this.userData=t,localStorage.setItem("user",this.userData.email))})}signIn(t,e){return this.fbAuth.signInWithEmailAndPassword(t,e).then(t=>{this.router.navigate(["/"])}).catch(t=>{window.alert(t.message)})}signUp(t,e){return this.fbAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.router.navigate(["/"])}).catch(t=>{window.alert(t.message)})}logOut(){return this.fbAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/"])})}isLoggedIn(){return!!localStorage.getItem("user")}getUser(){return localStorage.getItem("user")||null}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(UC),r.Ub(r.z),r.Ub(ja))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CT(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",57),r.Qb(1,"div",58),r.Mb(2,"img",59),r.Pb(),r.Qb(3,"div",60),r.Qb(4,"h3",61),r.Qb(5,"a",3),r.oc(6),r.Pb(),r.Pb(),r.Qb(7,"h4",62),r.Qb(8,"span",33),r.oc(9),r.Pb(),r.oc(10),r.Pb(),r.Pb(),r.Qb(11,"button",63),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb(2).shoppingCart.removeItem(n)}),r.Mb(12,"i",64),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.fc("src",null==t?null:t.image,r.jc),r.Ab(4),r.pc(null==t?null:t.name),r.Ab(3),r.qc("",t.quantity," x "),r.Ab(1),r.qc("$ ",null==t?null:t.price," ")}}function TT(t,e){if(1&t&&(r.Qb(0,"div",65),r.Qb(1,"small"),r.oc(2),r.Pb(),r.Qb(3,"h5"),r.oc(4),r.Pb(),r.Pb()),2&t){const t=r.Zb(2);r.Ab(2),r.qc("",t.cartData?t.cartData.length:0," Item(s) selected"),r.Ab(2),r.qc("TOTAL : $ ",t.shoppingCart.getTotal(),"")}}function ST(t,e){1&t&&(r.Qb(0,"div",65),r.Qb(1,"small"),r.oc(2,"Seems like your cart is empty!"),r.Pb(),r.Pb())}function IT(t,e){1&t&&(r.Qb(0,"a",66),r.oc(1,"Checkout "),r.Mb(2,"i",67),r.Pb())}function PT(t,e){1&t&&(r.Qb(0,"a",68),r.oc(1,"Go to shop"),r.Pb())}function xT(t,e){if(1&t&&(r.Qb(0,"div",50),r.nc(1,CT,13,4,"div",51),r.nc(2,TT,5,2,"div",52),r.nc(3,ST,3,0,"div",52),r.Qb(4,"div",53),r.Qb(5,"a",54),r.oc(6,"View Cart"),r.Pb(),r.nc(7,IT,3,0,"a",55),r.nc(8,PT,2,0,"a",56),r.Pb(),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.ec("ngForOf",t.cartData),r.Ab(1),r.ec("ngIf",t.cartData),r.Ab(1),r.ec("ngIf",!t.cartData.length),r.Ab(4),r.ec("ngIf",t.cartData.length),r.Ab(1),r.ec("ngIf",!t.cartData.length)}}let AT=(()=>{class t{constructor(t,e,n,r){this.shoppingCart=t,this.auth=e,this.fb=n,this.router=r,this.searchValue="",this.cartTotal=0,this.cartData=[],this.SearchForm=this.fb.group({searchValue:"",category:""})}ngOnInit(){this.getCartContent(),this.cartTotal=this.shoppingCart.getTotal(),this.cartData=this.getCartContent()}onSubmit(){this.router.navigate(["/search/results",{term:this.SearchForm.value.searchValue,category:this.SearchForm.value.category}])}signOut(){this.auth.logOut()}getCartLength(){return this.cartData=this.getCartContent(),this.shoppingCart.getCartLength()}getCartContent(){return this.cartTotal=this.shoppingCart.getTotal(),this.shoppingCart.get_shopping_cart_items()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ju),r.Lb(ET),r.Lb(Zc),r.Lb(ja))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-header"]],decls:95,vars:3,consts:[["id","top-header"],[1,"container"],[1,"header-links","pull-left"],["href","#"],[1,"fa","fa-phone"],["href","mailto:haithamadesouky@gmail.com"],[1,"fa","fa-envelope-o"],[1,"fa","fa-map-marker"],[1,"header-links","pull-right"],[1,"fa","fa-dollar"],[1,"fa","fa-user-o"],["id","header"],[1,"row"],[1,"col-md-3"],[1,"header-logo"],["href","#",1,"logo"],["src","./assets/img/logo.png","alt",""],[1,"col-md-6"],[1,"header-search"],["formControlName","searchInput",3,"formGroup"],["formControlName","category",1,"input-select"],["value",""],["value","Chinese"],["value","Indian"],["value","Thai"],["value","Arabic"],["value","Mediterranean"],["value","English"],["placeholder","Search here","formControlName","searchValue",1,"input",3,"keyup.enter"],["type","button","ng-model","searchBox",1,"search-btn",3,"click"],[1,"col-md-3","clearfix"],[1,"header-ctn"],[1,"fa","fa-heart-o"],[1,"qty"],[1,"dropdown"],["data-toggle","dropdown","aria-expanded","true",1,"dropdown-toggle"],[1,"fa","fa-shopping-cart"],[1,"cart-dropdown"],["class","cart-list",4,"ngIf"],["id","navigation"],["id","responsive-nav"],[1,"main-nav","nav","py-3"],[1,"active"],["routerLink","/"],["routerLink","/chinese"],["routerLink","/indian"],["routerLink","/thai"],["routerLink","/english"],["routerLink","/arabic"],["routerLink","/mediterranean"],[1,"cart-list"],["class","product-widget",4,"ngFor","ngForOf"],["class","cart-summary",4,"ngIf"],[1,"cart-btns"],["routerLink","/cart"],["routerLink","/checkout",4,"ngIf"],["href","/",4,"ngIf"],[1,"product-widget"],[1,"product-img"],["alt","","width","20px",3,"src"],[1,"product-body"],[1,"product-name"],[1,"product-price"],[1,"delete",3,"click"],[1,"fa","fa-close"],[1,"cart-summary"],["routerLink","/checkout"],[1,"fa","fa-arrow-circle-right"],["href","/"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"ul",2),r.Qb(3,"li"),r.Qb(4,"a",3),r.Mb(5,"i",4),r.oc(6," 34545345"),r.Pb(),r.Pb(),r.Qb(7,"li"),r.Qb(8,"a",5),r.Mb(9,"i",6),r.oc(10," haithamadesouky@gmail.com"),r.Pb(),r.Pb(),r.Qb(11,"li"),r.Qb(12,"a",3),r.Mb(13,"i",7),r.oc(14," Albacete, Spain"),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"ul",8),r.Qb(16,"li"),r.Qb(17,"a",3),r.Mb(18,"i",9),r.oc(19," USD"),r.Pb(),r.Pb(),r.Qb(20,"li"),r.Qb(21,"a",3),r.Mb(22,"i",10),r.oc(23," My Account"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"div",11),r.Qb(25,"div",1),r.Qb(26,"div",12),r.Qb(27,"div",13),r.Qb(28,"div",14),r.Qb(29,"a",15),r.Mb(30,"img",16),r.Pb(),r.Pb(),r.Pb(),r.Qb(31,"div",17),r.Qb(32,"div",18),r.Qb(33,"form",19),r.Qb(34,"select",20),r.Qb(35,"option",21),r.oc(36,"All Categories"),r.Pb(),r.Qb(37,"option",22),r.oc(38,"Chinese"),r.Pb(),r.Qb(39,"option",23),r.oc(40,"Indian"),r.Pb(),r.Qb(41,"option",24),r.oc(42,"Thai"),r.Pb(),r.Qb(43,"option",25),r.oc(44,"Arabic"),r.Pb(),r.Qb(45,"option",26),r.oc(46,"Mediterranean"),r.Pb(),r.Qb(47,"option",27),r.oc(48,"English Classic"),r.Pb(),r.Pb(),r.Qb(49,"input",28),r.Xb("keyup.enter",function(){return e.onSubmit()}),r.Pb(),r.Qb(50,"button",29),r.Xb("click",function(){return e.onSubmit()}),r.oc(51," Search "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(52,"div",30),r.Qb(53,"div",31),r.Qb(54,"div"),r.Qb(55,"a",3),r.Mb(56,"i",32),r.Qb(57,"span"),r.oc(58,"Your Wishlist"),r.Pb(),r.Qb(59,"div",33),r.oc(60,"0"),r.Pb(),r.Pb(),r.Pb(),r.Qb(61,"div",34),r.Qb(62,"a",35),r.Mb(63,"i",36),r.Qb(64,"span"),r.oc(65,"Your Cart"),r.Pb(),r.Qb(66,"div",33),r.oc(67),r.Pb(),r.Pb(),r.Qb(68,"div",37),r.nc(69,xT,9,5,"div",38),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(70,"nav",39),r.Qb(71,"div",1),r.Qb(72,"div",40),r.Qb(73,"ul",41),r.Qb(74,"li",42),r.Qb(75,"a",43),r.oc(76,"Home"),r.Pb(),r.Pb(),r.Qb(77,"li"),r.Qb(78,"a",44),r.oc(79,"Chinese"),r.Pb(),r.Pb(),r.Qb(80,"li"),r.Qb(81,"a",45),r.oc(82,"Indian"),r.Pb(),r.Pb(),r.Qb(83,"li"),r.Qb(84,"a",46),r.oc(85,"Thai"),r.Pb(),r.Pb(),r.Qb(86,"li"),r.Qb(87,"a",47),r.oc(88,"English Classics"),r.Pb(),r.Pb(),r.Qb(89,"li"),r.Qb(90,"a",48),r.oc(91,"Arabic"),r.Pb(),r.Pb(),r.Qb(92,"li"),r.Qb(93,"a",49),r.oc(94,"Mediterranean"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(33),r.ec("formGroup",e.SearchForm),r.Ab(34),r.pc(e.getCartLength()||0),r.Ab(2),r.ec("ngIf",e.cartData))},directives:[zc,ac,oc,Kc,Gc,yc,bc,Oc,Uu,N,Ra,k],styles:[".logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px}"]}),t})(),kT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-footer"]],decls:113,vars:0,consts:[["id","footer"],[1,"section"],[1,"container"],[1,"row"],[1,"col-md-3","col-xs-6"],[1,"footer"],[1,"footer-title"],[1,"footer-links"],["href","#"],[1,"fa","fa-map-marker"],[1,"fa","fa-phone"],[1,"fa","fa-envelope-o"],["routerLink","/english"],["routerLink","/indian"],["routerLink","/chinese"],["routerLink","/thai"],["routerLink","/arabic"],["routerLink","/mediterranean"],[1,"clearfix","visible-xs"],["id","bottom-footer",1,"section"],[1,"col-md-12","text-center"],[1,"footer-payments"],[1,"fa","fa-cc-visa"],[1,"fa","fa-credit-card"],[1,"fa","fa-cc-paypal"],[1,"fa","fa-cc-mastercard"],[1,"fa","fa-cc-discover"],[1,"fa","fa-cc-amex"],[1,"copyright"]],template:function(t,e){1&t&&(r.Qb(0,"footer",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"h3",6),r.oc(7,"About Us"),r.Pb(),r.Qb(8,"p"),r.oc(9," Online marketplace thriving to promote world wide cuisines, making cooking your favourite dish from holiday or home accessible. "),r.Pb(),r.Qb(10,"ul",7),r.Qb(11,"li"),r.Qb(12,"a",8),r.Mb(13,"i",9),r.oc(14,"Albacete, Spain"),r.Pb(),r.Pb(),r.Qb(15,"li"),r.Qb(16,"a",8),r.Mb(17,"i",10),r.oc(18,"+447554543130"),r.Pb(),r.Pb(),r.Qb(19,"li"),r.Qb(20,"a",8),r.Mb(21,"i",11),r.oc(22,"haithamaesouky@gmail.com"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(23,"div",4),r.Qb(24,"div",5),r.Qb(25,"h3",6),r.oc(26,"Categories"),r.Pb(),r.Qb(27,"ul",7),r.Qb(28,"li"),r.Qb(29,"a",12),r.oc(30,"English Classics"),r.Pb(),r.Pb(),r.Qb(31,"li"),r.Qb(32,"a",13),r.oc(33,"Indian"),r.Pb(),r.Pb(),r.Qb(34,"li"),r.Qb(35,"a",14),r.oc(36,"Chinese"),r.Pb(),r.Pb(),r.Qb(37,"li"),r.Qb(38,"a",15),r.oc(39,"Thai"),r.Pb(),r.Pb(),r.Qb(40,"li"),r.Qb(41,"a",16),r.oc(42,"Arabic"),r.Pb(),r.Pb(),r.Qb(43,"li"),r.Qb(44,"a",17),r.oc(45,"Mediterranean"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(46,"div",18),r.Qb(47,"div",4),r.Qb(48,"div",5),r.Qb(49,"h3",6),r.oc(50,"Information"),r.Pb(),r.Qb(51,"ul",7),r.Qb(52,"li"),r.Qb(53,"a",8),r.oc(54,"About Us"),r.Pb(),r.Pb(),r.Qb(55,"li"),r.Qb(56,"a",8),r.oc(57,"Contact Us"),r.Pb(),r.Pb(),r.Qb(58,"li"),r.Qb(59,"a",8),r.oc(60,"Privacy Policy"),r.Pb(),r.Pb(),r.Qb(61,"li"),r.Qb(62,"a",8),r.oc(63,"Orders and Returns"),r.Pb(),r.Pb(),r.Qb(64,"li"),r.Qb(65,"a",8),r.oc(66,"Terms & Conditions"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(67,"div",4),r.Qb(68,"div",5),r.Qb(69,"h3",6),r.oc(70,"Service"),r.Pb(),r.Qb(71,"ul",7),r.Qb(72,"li"),r.Qb(73,"a",8),r.oc(74,"My Account"),r.Pb(),r.Pb(),r.Qb(75,"li"),r.Qb(76,"a",8),r.oc(77,"View Cart"),r.Pb(),r.Pb(),r.Qb(78,"li"),r.Qb(79,"a",8),r.oc(80,"Wishlist"),r.Pb(),r.Pb(),r.Qb(81,"li"),r.Qb(82,"a",8),r.oc(83,"Track My Order"),r.Pb(),r.Pb(),r.Qb(84,"li"),r.Qb(85,"a",8),r.oc(86,"Help"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(87,"div",19),r.Qb(88,"div",2),r.Qb(89,"div",3),r.Qb(90,"div",20),r.Qb(91,"ul",21),r.Qb(92,"li"),r.Qb(93,"a",8),r.Mb(94,"i",22),r.Pb(),r.Pb(),r.Qb(95,"li"),r.Qb(96,"a",8),r.Mb(97,"i",23),r.Pb(),r.Pb(),r.Qb(98,"li"),r.Qb(99,"a",8),r.Mb(100,"i",24),r.Pb(),r.Pb(),r.Qb(101,"li"),r.Qb(102,"a",8),r.Mb(103,"i",25),r.Pb(),r.Pb(),r.Qb(104,"li"),r.Qb(105,"a",8),r.Mb(106,"i",26),r.Pb(),r.Pb(),r.Qb(107,"li"),r.Qb(108,"a",8),r.Mb(109,"i",27),r.Pb(),r.Pb(),r.Pb(),r.Qb(110,"span",28),r.oc(111," Copyright \xa9 "),r.oc(112," All rights reserved | Haitham Desouky "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())},directives:[Ra],styles:[""]}),t})(),jT=(()=>{class t{constructor(){this.title="International Flavours"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-header"),r.Mb(1,"router-outlet"),r.Mb(2,"app-footer"))},directives:[AT,Ma,kT],styles:[""]}),t})();const NT={apiKey:"AIzaSyAZYFZhOnNabo5uYjtlnbyIs6_fsbQlKR4",authDomain:"international-flavours.firebaseapp.com",databaseURL:"https://international-flavours.firebaseio.com",projectId:"international-flavours",storageBucket:"international-flavours.appspot.com",messagingSenderId:"637042297663",appId:"1:637042297663:web:ced15c21fbc965ea78a18a",measurementId:"G-0R9BJR61D2"};let RT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[jT]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[bt,OT,Nr,Rr,xi,Pi,tl,ll.a.initializeApp(NT),ku,Iu.forRoot()]]}),t})();Object(r.T)(),gt().bootstrapModule(RT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);